{"{\"assumptions\":{},\"sourceRoot\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend\",\"filename\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend/src/server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.5:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _cors = _interopRequireDefault(require(\"cors\"));\nvar _routes = _interopRequireDefault(require(\"./routes\"));\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _ws = _interopRequireDefault(require(\"ws\"));\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\nvar _http = _interopRequireDefault(require(\"http\"));\nvar _wsConnect = _interopRequireDefault(require(\"./wsConnect\"));\nvar _crypto = require(\"crypto\");\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nrequire('dotenv').config();\nvar app = (0, _express[\"default\"])();\n\n// if (process.env.NODE_ENV === \"development\") {\n//     app.use(cors());\n// }\napp.use((0, _cors[\"default\"])());\napp.use(_express[\"default\"].json());\n// app.use(bodyParser.urlencoded({extended: true}));\napp.use(_bodyParser[\"default\"].json());\n(0, _routes[\"default\"])(app);\napp.use('/api', _routes[\"default\"]);\napp.use(function (req, res, next) {\n  res.header('Access-Control-Allow-Origin', 'http://localhost:3000');\n  res.header('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept');\n  res.header('Access-Control-Allow-Methods', 'POST, GET, PUT, DELETE, OPTIONS');\n  res.header('Access-Control-Allow-Credentials', 'true');\n  next();\n});\nif (process.env.NODE_ENV === 'production') {\n  var _dirname = _path[\"default\"].resolve();\n  app.use(_express[\"default\"][\"static\"](_path[\"default\"].join(_dirname, '../frontend', 'build')));\n  app.get('/*', function (req, res) {\n    res.sendFile(_path[\"default\"].join(_dirname, '../frontend', 'build', 'index.js'));\n  });\n}\nvar port = process.env.PORT || 4000;\napp.listen(port, function () {\n  return console.log(\"Example app listening on port \".concat(port, \"!\"));\n});\nvar server = _http[\"default\"].createServer(app);\nvar wss = new _ws[\"default\"].Server({\n  server: server\n});\n_mongoose[\"default\"].connect(process.env.MONGO_URL, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true,\n  dbName: 'NTUBuyMe'\n}).then(function (res) {\n  wss.on('connection', function (ws) {\n    ws.box = '';\n    ws.id = (0, _crypto.randomUUID)();\n    ws.onmessage = _wsConnect[\"default\"].onMessage(wss, ws);\n    ws.on('error', function (err) {\n      console.warn(\"Client disconnected - reason: \".concat(err));\n    });\n  });\n});\nserver.listen(8080, function () {\n  console.log('listening on port 4000');\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwiYXBwIiwiZXhwcmVzcyIsInVzZSIsImNvcnMiLCJqc29uIiwiYm9keVBhcnNlciIsInJvdXRlcyIsInJlcSIsInJlcyIsIm5leHQiLCJoZWFkZXIiLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJfX2Rpcm5hbWUiLCJwYXRoIiwicmVzb2x2ZSIsImpvaW4iLCJnZXQiLCJzZW5kRmlsZSIsInBvcnQiLCJQT1JUIiwibGlzdGVuIiwiY29uc29sZSIsImxvZyIsInNlcnZlciIsImh0dHAiLCJjcmVhdGVTZXJ2ZXIiLCJ3c3MiLCJXZWJTb2NrZXQiLCJTZXJ2ZXIiLCJtb25nb29zZSIsImNvbm5lY3QiLCJNT05HT19VUkwiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJkYk5hbWUiLCJ0aGVuIiwib24iLCJ3cyIsImJveCIsImlkIiwicmFuZG9tVVVJRCIsIm9ubWVzc2FnZSIsIndzQ29ubmVjdCIsIm9uTWVzc2FnZSIsImVyciIsIndhcm4iXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9sYXdyZW5jZXRzYWkvRG9jdW1lbnRzL0dpdEh1Yi9OVFVCdXlNRS9iYWNrZW5kL3NyYy8iLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJ1xuaW1wb3J0IGNvcnMgZnJvbSAnY29ycydcbmltcG9ydCByb3V0ZXMgZnJvbSAnLi9yb3V0ZXMnXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnXG5pbXBvcnQgV2ViU29ja2V0IGZyb20gJ3dzJ1xuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSAnYm9keS1wYXJzZXInXG5pbXBvcnQgaHR0cCBmcm9tICdodHRwJ1xuaW1wb3J0IHdzQ29ubmVjdCBmcm9tICcuL3dzQ29ubmVjdCdcbmltcG9ydCB7IHJhbmRvbVVVSUQgfSBmcm9tICdjcnlwdG8nXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJ1xuXG5yZXF1aXJlKCdkb3RlbnYnKS5jb25maWcoKVxuXG5jb25zdCBhcHAgPSBleHByZXNzKClcblxuLy8gaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcImRldmVsb3BtZW50XCIpIHtcbi8vICAgICBhcHAudXNlKGNvcnMoKSk7XG4vLyB9XG5hcHAudXNlKGNvcnMoKSlcblxuYXBwLnVzZShleHByZXNzLmpzb24oKSlcbi8vIGFwcC51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHtleHRlbmRlZDogdHJ1ZX0pKTtcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpXG5cbnJvdXRlcyhhcHApXG5hcHAudXNlKCcvYXBpJywgcm91dGVzKVxuYXBwLnVzZShmdW5jdGlvbiAocmVxLCByZXMsIG5leHQpIHtcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nLCAnaHR0cDovL2xvY2FsaG9zdDozMDAwJylcbiAgICByZXMuaGVhZGVyKFxuICAgICAgICAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycycsXG4gICAgICAgICdPcmlnaW4sIFgtUmVxdWVzdGVkLVdpdGgsIENvbnRlbnQtVHlwZSwgQWNjZXB0J1xuICAgIClcbiAgICByZXMuaGVhZGVyKFxuICAgICAgICAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kcycsXG4gICAgICAgICdQT1NULCBHRVQsIFBVVCwgREVMRVRFLCBPUFRJT05TJ1xuICAgIClcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1DcmVkZW50aWFscycsICd0cnVlJylcbiAgICBuZXh0KClcbn0pXG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgY29uc3QgX19kaXJuYW1lID0gcGF0aC5yZXNvbHZlKClcbiAgICBhcHAudXNlKGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsICcuLi9mcm9udGVuZCcsICdidWlsZCcpKSlcbiAgICBhcHAuZ2V0KCcvKicsIGZ1bmN0aW9uIChyZXEsIHJlcykge1xuICAgICAgICByZXMuc2VuZEZpbGUocGF0aC5qb2luKF9fZGlybmFtZSwgJy4uL2Zyb250ZW5kJywgJ2J1aWxkJywgJ2luZGV4LmpzJykpXG4gICAgfSlcbn1cblxuY29uc3QgcG9ydCA9IHByb2Nlc3MuZW52LlBPUlQgfHwgNDAwMFxuYXBwLmxpc3Rlbihwb3J0LCAoKSA9PiBjb25zb2xlLmxvZyhgRXhhbXBsZSBhcHAgbGlzdGVuaW5nIG9uIHBvcnQgJHtwb3J0fSFgKSlcblxuY29uc3Qgc2VydmVyID0gaHR0cC5jcmVhdGVTZXJ2ZXIoYXBwKVxuY29uc3Qgd3NzID0gbmV3IFdlYlNvY2tldC5TZXJ2ZXIoeyBzZXJ2ZXIgfSlcblxubW9uZ29vc2VcbiAgICAuY29ubmVjdChwcm9jZXNzLmVudi5NT05HT19VUkwsIHtcbiAgICAgICAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxuICAgICAgICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUsXG4gICAgICAgIGRiTmFtZTogJ05UVUJ1eU1lJyxcbiAgICB9KVxuICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgd3NzLm9uKCdjb25uZWN0aW9uJywgKHdzKSA9PiB7XG4gICAgICAgICAgICB3cy5ib3ggPSAnJ1xuICAgICAgICAgICAgd3MuaWQgPSByYW5kb21VVUlEKClcbiAgICAgICAgICAgIHdzLm9ubWVzc2FnZSA9IHdzQ29ubmVjdC5vbk1lc3NhZ2Uod3NzLCB3cylcbiAgICAgICAgICAgIHdzLm9uKCdlcnJvcicsIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYENsaWVudCBkaXNjb25uZWN0ZWQgLSByZWFzb246ICR7ZXJyfWApXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH0pXG5cbnNlcnZlci5saXN0ZW4oODA4MCwgKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdsaXN0ZW5pbmcgb24gcG9ydCA0MDAwJylcbn0pXG4iXSwibWFwcGluZ3MiOiI7O0FB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","map":{"version":3,"names":["require","config","app","express","use","cors","json","bodyParser","routes","req","res","next","header","process","env","NODE_ENV","__dirname","path","resolve","join","get","sendFile","port","PORT","listen","console","log","server","http","createServer","wss","WebSocket","Server","mongoose","connect","MONGO_URL","useNewUrlParser","useUnifiedTopology","dbName","then","on","ws","box","id","randomUUID","onmessage","wsConnect","onMessage","err","warn"],"sourceRoot":"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend/src/","sources":["server.js"],"sourcesContent":["import express from 'express'\nimport cors from 'cors'\nimport routes from './routes'\nimport mongoose from 'mongoose'\nimport WebSocket from 'ws'\nimport bodyParser from 'body-parser'\nimport http from 'http'\nimport wsConnect from './wsConnect'\nimport { randomUUID } from 'crypto'\nimport path from 'path'\n\nrequire('dotenv').config()\n\nconst app = express()\n\n// if (process.env.NODE_ENV === \"development\") {\n//     app.use(cors());\n// }\napp.use(cors())\n\napp.use(express.json())\n// app.use(bodyParser.urlencoded({extended: true}));\napp.use(bodyParser.json())\n\nroutes(app)\napp.use('/api', routes)\napp.use(function (req, res, next) {\n    res.header('Access-Control-Allow-Origin', 'http://localhost:3000')\n    res.header(\n        'Access-Control-Allow-Headers',\n        'Origin, X-Requested-With, Content-Type, Accept'\n    )\n    res.header(\n        'Access-Control-Allow-Methods',\n        'POST, GET, PUT, DELETE, OPTIONS'\n    )\n    res.header('Access-Control-Allow-Credentials', 'true')\n    next()\n})\n\nif (process.env.NODE_ENV === 'production') {\n    const __dirname = path.resolve()\n    app.use(express.static(path.join(__dirname, '../frontend', 'build')))\n    app.get('/*', function (req, res) {\n        res.sendFile(path.join(__dirname, '../frontend', 'build', 'index.js'))\n    })\n}\n\nconst port = process.env.PORT || 4000\napp.listen(port, () => console.log(`Example app listening on port ${port}!`))\n\nconst server = http.createServer(app)\nconst wss = new WebSocket.Server({ server })\n\nmongoose\n    .connect(process.env.MONGO_URL, {\n        useNewUrlParser: true,\n        useUnifiedTopology: true,\n        dbName: 'NTUBuyMe',\n    })\n    .then((res) => {\n        wss.on('connection', (ws) => {\n            ws.box = ''\n            ws.id = randomUUID()\n            ws.onmessage = wsConnect.onMessage(wss, ws)\n            ws.on('error', (err) => {\n                console.warn(`Client disconnected - reason: ${err}`)\n            })\n        })\n    })\n\nserver.listen(8080, () => {\n    console.log('listening on port 4000')\n})\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAuB;AAEvBA,OAAO,CAAC,QAAQ,CAAC,CAACC,MAAM,EAAE;AAE1B,IAAMC,GAAG,GAAG,IAAAC,mBAAO,GAAE;;AAErB;AACA;AACA;AACAD,GAAG,CAACE,GAAG,CAAC,IAAAC,gBAAI,GAAE,CAAC;AAEfH,GAAG,CAACE,GAAG,CAACD,mBAAO,CAACG,IAAI,EAAE,CAAC;AACvB;AACAJ,GAAG,CAACE,GAAG,CAACG,sBAAU,CAACD,IAAI,EAAE,CAAC;AAE1B,IAAAE,kBAAM,EAACN,GAAG,CAAC;AACXA,GAAG,CAACE,GAAG,CAAC,MAAM,EAAEI,kBAAM,CAAC;AACvBN,GAAG,CAACE,GAAG,CAAC,UAAUK,GAAG,EAAEC,GAAG,EAAEC,IAAI,EAAE;EAC9BD,GAAG,CAACE,MAAM,CAAC,6BAA6B,EAAE,uBAAuB,CAAC;EAClEF,GAAG,CAACE,MAAM,CACN,8BAA8B,EAC9B,gDAAgD,CACnD;EACDF,GAAG,CAACE,MAAM,CACN,8BAA8B,EAC9B,iCAAiC,CACpC;EACDF,GAAG,CAACE,MAAM,CAAC,kCAAkC,EAAE,MAAM,CAAC;EACtDD,IAAI,EAAE;AACV,CAAC,CAAC;AAEF,IAAIE,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,EAAE;EACvC,IAAMC,QAAS,GAAGC,gBAAI,CAACC,OAAO,EAAE;EAChChB,GAAG,CAACE,GAAG,CAACD,mBAAO,UAAO,CAACc,gBAAI,CAACE,IAAI,CAACH,QAAS,EAAE,aAAa,EAAE,OAAO,CAAC,CAAC,CAAC;EACrEd,GAAG,CAACkB,GAAG,CAAC,IAAI,EAAE,UAAUX,GAAG,EAAEC,GAAG,EAAE;IAC9BA,GAAG,CAACW,QAAQ,CAACJ,gBAAI,CAACE,IAAI,CAACH,QAAS,EAAE,aAAa,EAAE,OAAO,EAAE,UAAU,CAAC,CAAC;EAC1E,CAAC,CAAC;AACN;AAEA,IAAMM,IAAI,GAAGT,OAAO,CAACC,GAAG,CAACS,IAAI,IAAI,IAAI;AACrCrB,GAAG,CAACsB,MAAM,CAACF,IAAI,EAAE;EAAA,OAAMG,OAAO,CAACC,GAAG,yCAAkCJ,IAAI,OAAI;AAAA,EAAC;AAE7E,IAAMK,MAAM,GAAGC,gBAAI,CAACC,YAAY,CAAC3B,GAAG,CAAC;AACrC,IAAM4B,GAAG,GAAG,IAAIC,cAAS,CAACC,MAAM,CAAC;EAAEL,MAAM,EAANA;AAAO,CAAC,CAAC;AAE5CM,oBAAQ,CACHC,OAAO,CAACrB,OAAO,CAACC,GAAG,CAACqB,SAAS,EAAE;EAC5BC,eAAe,EAAE,IAAI;EACrBC,kBAAkB,EAAE,IAAI;EACxBC,MAAM,EAAE;AACZ,CAAC,CAAC,CACDC,IAAI,CAAC,UAAC7B,GAAG,EAAK;EACXoB,GAAG,CAACU,EAAE,CAAC,YAAY,EAAE,UAACC,EAAE,EAAK;IACzBA,EAAE,CAACC,GAAG,GAAG,EAAE;IACXD,EAAE,CAACE,EAAE,GAAG,IAAAC,kBAAU,GAAE;IACpBH,EAAE,CAACI,SAAS,GAAGC,qBAAS,CAACC,SAAS,CAACjB,GAAG,EAAEW,EAAE,CAAC;IAC3CA,EAAE,CAACD,EAAE,CAAC,OAAO,EAAE,UAACQ,GAAG,EAAK;MACpBvB,OAAO,CAACwB,IAAI,yCAAkCD,GAAG,EAAG;IACxD,CAAC,CAAC;EACN,CAAC,CAAC;AACN,CAAC,CAAC;AAENrB,MAAM,CAACH,MAAM,CAAC,IAAI,EAAE,YAAM;EACtBC,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC;AACzC,CAAC,CAAC"}},"mtime":1672915558872},"{\"assumptions\":{},\"sourceRoot\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend\",\"filename\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend/src/routes/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _login = _interopRequireDefault(require(\"./login\"));\nvar _register = _interopRequireDefault(require(\"./register\"));\nvar _account = _interopRequireDefault(require(\"./account\"));\nvar _transfer = _interopRequireDefault(require(\"./transfer\"));\nvar _task = _interopRequireDefault(require(\"./task\"));\nvar _chat = _interopRequireDefault(require(\"./chat\"));\nvar _qrcode = _interopRequireDefault(require(\"./qrcode\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nvar wrap = function wrap(fn) {\n  return function () {\n    return fn.apply(void 0, arguments)[\"catch\"](arguments.length <= 2 ? undefined : arguments[2]);\n  };\n};\nfunction main(app) {\n  app.post('/api/login', wrap(_login[\"default\"].UserLogin));\n  app.post('/api/register', wrap(_register[\"default\"].UserRegister));\n  app.get('/api/account', wrap(_account[\"default\"].GetUserAccount));\n  app.post('/api/account', wrap(_account[\"default\"].EditUserAccount));\n  app.post('/api/changePassword', wrap(_account[\"default\"].ChangePassword));\n  app.get('/api/transfer', wrap(_transfer[\"default\"].GetTransferAccount));\n  app.get('/api/getReceiverId', wrap(_transfer[\"default\"].GetReceiverId));\n  app.get('/api/allTasksByDueStart', wrap(_task[\"default\"].FilterTasksByDueStart));\n  app.get('/api/allTasksByFee', wrap(_task[\"default\"].FilterTasksByFee));\n  app.post('/api/delete', wrap(_task[\"default\"].DeleteAllTasks));\n  app.get('/api/taskNum', wrap(_task[\"default\"].GetTaskNum));\n  app.get('/api/myTasks', wrap(_task[\"default\"].GetMyTasks));\n  app.post('/api/addTasks', wrap(_task[\"default\"].AddDummyTasks));\n  app.get('/api/taskNum', wrap(_task[\"default\"].GetTaskNum));\n  app.get('/api/myAddedTasks', wrap(_task[\"default\"].GetMyAddedTasks));\n  app.get('/api/myAcceptedTasks', wrap(_task[\"default\"].GetMyAcceptedTasks));\n  app.post('/api/createTask', wrap(_task[\"default\"].CreateTask));\n  app.post('/api/acceptTask', wrap(_task[\"default\"].AcceptTasks));\n  app.get('/api/getChat', wrap(_chat[\"default\"].GetChat));\n  app.post('/api/fulfillOrder', wrap(_chat[\"default\"].FulfillOrder));\n  app.get('/api/qrcode', wrap(_qrcode[\"default\"].GetQRCode));\n}\nvar _default = main;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ3cmFwIiwiZm4iLCJtYWluIiwiYXBwIiwicG9zdCIsImxvZ2luUm91dGUiLCJVc2VyTG9naW4iLCJyZWdpc3RlclJvdXRlIiwiVXNlclJlZ2lzdGVyIiwiZ2V0IiwiYWNjb3VudFJvdXRlIiwiR2V0VXNlckFjY291bnQiLCJFZGl0VXNlckFjY291bnQiLCJDaGFuZ2VQYXNzd29yZCIsInRyYW5zZmVyUm91dGUiLCJHZXRUcmFuc2ZlckFjY291bnQiLCJHZXRSZWNlaXZlcklkIiwiYnV5bWVSb3V0ZSIsIkZpbHRlclRhc2tzQnlEdWVTdGFydCIsIkZpbHRlclRhc2tzQnlGZWUiLCJEZWxldGVBbGxUYXNrcyIsIkdldFRhc2tOdW0iLCJHZXRNeVRhc2tzIiwiQWRkRHVtbXlUYXNrcyIsIkdldE15QWRkZWRUYXNrcyIsIkdldE15QWNjZXB0ZWRUYXNrcyIsIkNyZWF0ZVRhc2siLCJBY2NlcHRUYXNrcyIsImNoYXRSb3V0ZSIsIkdldENoYXQiLCJGdWxmaWxsT3JkZXIiLCJxckNvZGVSb3V0ZSIsIkdldFFSQ29kZSJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2xhd3JlbmNldHNhaS9Eb2N1bWVudHMvR2l0SHViL05UVUJ1eU1FL2JhY2tlbmQvc3JjL3JvdXRlcy8iLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBsb2dpblJvdXRlIGZyb20gJy4vbG9naW4nXG5pbXBvcnQgcmVnaXN0ZXJSb3V0ZSBmcm9tICcuL3JlZ2lzdGVyJ1xuaW1wb3J0IGFjY291bnRSb3V0ZSBmcm9tICcuL2FjY291bnQnXG5pbXBvcnQgdHJhbnNmZXJSb3V0ZSBmcm9tICcuL3RyYW5zZmVyJ1xuaW1wb3J0IGJ1eW1lUm91dGUgZnJvbSAnLi90YXNrJ1xuaW1wb3J0IGNoYXRSb3V0ZSBmcm9tICcuL2NoYXQnXG5pbXBvcnQgcXJDb2RlUm91dGUgZnJvbSAnLi9xcmNvZGUnXG5cbmNvbnN0IHdyYXAgPVxuICAgIChmbikgPT5cbiAgICAoLi4uYXJncykgPT5cbiAgICAgICAgZm4oLi4uYXJncykuY2F0Y2goYXJnc1syXSlcblxuZnVuY3Rpb24gbWFpbihhcHApIHtcbiAgICBhcHAucG9zdCgnL2FwaS9sb2dpbicsIHdyYXAobG9naW5Sb3V0ZS5Vc2VyTG9naW4pKVxuICAgIGFwcC5wb3N0KCcvYXBpL3JlZ2lzdGVyJywgd3JhcChyZWdpc3RlclJvdXRlLlVzZXJSZWdpc3RlcikpXG4gICAgYXBwLmdldCgnL2FwaS9hY2NvdW50Jywgd3JhcChhY2NvdW50Um91dGUuR2V0VXNlckFjY291bnQpKVxuICAgIGFwcC5wb3N0KCcvYXBpL2FjY291bnQnLCB3cmFwKGFjY291bnRSb3V0ZS5FZGl0VXNlckFjY291bnQpKVxuICAgIGFwcC5wb3N0KCcvYXBpL2NoYW5nZVBhc3N3b3JkJywgd3JhcChhY2NvdW50Um91dGUuQ2hhbmdlUGFzc3dvcmQpKVxuICAgIGFwcC5nZXQoJy9hcGkvdHJhbnNmZXInLCB3cmFwKHRyYW5zZmVyUm91dGUuR2V0VHJhbnNmZXJBY2NvdW50KSlcbiAgICBhcHAuZ2V0KCcvYXBpL2dldFJlY2VpdmVySWQnLCB3cmFwKHRyYW5zZmVyUm91dGUuR2V0UmVjZWl2ZXJJZCkpXG4gICAgYXBwLmdldCgnL2FwaS9hbGxUYXNrc0J5RHVlU3RhcnQnLCB3cmFwKGJ1eW1lUm91dGUuRmlsdGVyVGFza3NCeUR1ZVN0YXJ0KSlcbiAgICBhcHAuZ2V0KCcvYXBpL2FsbFRhc2tzQnlGZWUnLCB3cmFwKGJ1eW1lUm91dGUuRmlsdGVyVGFza3NCeUZlZSkpXG4gICAgYXBwLnBvc3QoJy9hcGkvZGVsZXRlJywgd3JhcChidXltZVJvdXRlLkRlbGV0ZUFsbFRhc2tzKSlcbiAgICBhcHAuZ2V0KCcvYXBpL3Rhc2tOdW0nLCB3cmFwKGJ1eW1lUm91dGUuR2V0VGFza051bSkpXG4gICAgYXBwLmdldCgnL2FwaS9teVRhc2tzJywgd3JhcChidXltZVJvdXRlLkdldE15VGFza3MpKVxuICAgIGFwcC5wb3N0KCcvYXBpL2FkZFRhc2tzJywgd3JhcChidXltZVJvdXRlLkFkZER1bW15VGFza3MpKVxuICAgIGFwcC5nZXQoJy9hcGkvdGFza051bScsIHdyYXAoYnV5bWVSb3V0ZS5HZXRUYXNrTnVtKSlcbiAgICBhcHAuZ2V0KCcvYXBpL215QWRkZWRUYXNrcycsIHdyYXAoYnV5bWVSb3V0ZS5HZXRNeUFkZGVkVGFza3MpKVxuICAgIGFwcC5nZXQoJy9hcGkvbXlBY2NlcHRlZFRhc2tzJywgd3JhcChidXltZVJvdXRlLkdldE15QWNjZXB0ZWRUYXNrcykpXG4gICAgYXBwLnBvc3QoJy9hcGkvY3JlYXRlVGFzaycsIHdyYXAoYnV5bWVSb3V0ZS5DcmVhdGVUYXNrKSlcbiAgICBhcHAucG9zdCgnL2FwaS9hY2NlcHRUYXNrJywgd3JhcChidXltZVJvdXRlLkFjY2VwdFRhc2tzKSlcbiAgICBhcHAuZ2V0KCcvYXBpL2dldENoYXQnLCB3cmFwKGNoYXRSb3V0ZS5HZXRDaGF0KSlcbiAgICBhcHAucG9zdCgnL2FwaS9mdWxmaWxsT3JkZXInLCB3cmFwKGNoYXRSb3V0ZS5GdWxmaWxsT3JkZXIpKVxuICAgIGFwcC5nZXQoJy9hcGkvcXJjb2RlJywgd3JhcChxckNvZGVSb3V0ZS5HZXRRUkNvZGUpKVxufVxuXG5leHBvcnQgZGVmYXVsdCBtYWluXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQWtDO0FBRWxDLElBQU1BLElBQUksR0FDTixTQURFQSxJQUFJLENBQ0xDLEVBQUU7RUFBQSxPQUNIO0lBQUEsT0FDSUEsRUFBRSx5QkFBUyxTQUFNLGtEQUFTO0VBQUE7QUFBQTtBQUVsQyxTQUFTQyxJQUFJLENBQUNDLEdBQUcsRUFBRTtFQUNmQSxHQUFHLENBQUNDLElBQUksQ0FBQyxZQUFZLEVBQUVKLElBQUksQ0FBQ0ssaUJBQVUsQ0FBQ0MsU0FBUyxDQUFDLENBQUM7RUFDbERILEdBQUcsQ0FBQ0MsSUFBSSxDQUFDLGVBQWUsRUFBRUosSUFBSSxDQUFDTyxvQkFBYSxDQUFDQyxZQUFZLENBQUMsQ0FBQztFQUMzREwsR0FB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","map":{"version":3,"names":["wrap","fn","main","app","post","loginRoute","UserLogin","registerRoute","UserRegister","get","accountRoute","GetUserAccount","EditUserAccount","ChangePassword","transferRoute","GetTransferAccount","GetReceiverId","buymeRoute","FilterTasksByDueStart","FilterTasksByFee","DeleteAllTasks","GetTaskNum","GetMyTasks","AddDummyTasks","GetMyAddedTasks","GetMyAcceptedTasks","CreateTask","AcceptTasks","chatRoute","GetChat","FulfillOrder","qrCodeRoute","GetQRCode"],"sourceRoot":"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend/src/routes/","sources":["index.js"],"sourcesContent":["import loginRoute from './login'\nimport registerRoute from './register'\nimport accountRoute from './account'\nimport transferRoute from './transfer'\nimport buymeRoute from './task'\nimport chatRoute from './chat'\nimport qrCodeRoute from './qrcode'\n\nconst wrap =\n    (fn) =>\n    (...args) =>\n        fn(...args).catch(args[2])\n\nfunction main(app) {\n    app.post('/api/login', wrap(loginRoute.UserLogin))\n    app.post('/api/register', wrap(registerRoute.UserRegister))\n    app.get('/api/account', wrap(accountRoute.GetUserAccount))\n    app.post('/api/account', wrap(accountRoute.EditUserAccount))\n    app.post('/api/changePassword', wrap(accountRoute.ChangePassword))\n    app.get('/api/transfer', wrap(transferRoute.GetTransferAccount))\n    app.get('/api/getReceiverId', wrap(transferRoute.GetReceiverId))\n    app.get('/api/allTasksByDueStart', wrap(buymeRoute.FilterTasksByDueStart))\n    app.get('/api/allTasksByFee', wrap(buymeRoute.FilterTasksByFee))\n    app.post('/api/delete', wrap(buymeRoute.DeleteAllTasks))\n    app.get('/api/taskNum', wrap(buymeRoute.GetTaskNum))\n    app.get('/api/myTasks', wrap(buymeRoute.GetMyTasks))\n    app.post('/api/addTasks', wrap(buymeRoute.AddDummyTasks))\n    app.get('/api/taskNum', wrap(buymeRoute.GetTaskNum))\n    app.get('/api/myAddedTasks', wrap(buymeRoute.GetMyAddedTasks))\n    app.get('/api/myAcceptedTasks', wrap(buymeRoute.GetMyAcceptedTasks))\n    app.post('/api/createTask', wrap(buymeRoute.CreateTask))\n    app.post('/api/acceptTask', wrap(buymeRoute.AcceptTasks))\n    app.get('/api/getChat', wrap(chatRoute.GetChat))\n    app.post('/api/fulfillOrder', wrap(chatRoute.FulfillOrder))\n    app.get('/api/qrcode', wrap(qrCodeRoute.GetQRCode))\n}\n\nexport default main\n"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAkC;AAElC,IAAMA,IAAI,GACN,SADEA,IAAI,CACLC,EAAE;EAAA,OACH;IAAA,OACIA,EAAE,yBAAS,SAAM,kDAAS;EAAA;AAAA;AAElC,SAASC,IAAI,CAACC,GAAG,EAAE;EACfA,GAAG,CAACC,IAAI,CAAC,YAAY,EAAEJ,IAAI,CAACK,iBAAU,CAACC,SAAS,CAAC,CAAC;EAClDH,GAAG,CAACC,IAAI,CAAC,eAAe,EAAEJ,IAAI,CAACO,oBAAa,CAACC,YAAY,CAAC,CAAC;EAC3DL,GAAG,CAACM,GAAG,CAAC,cAAc,EAAET,IAAI,CAACU,mBAAY,CAACC,cAAc,CAAC,CAAC;EAC1DR,GAAG,CAACC,IAAI,CAAC,cAAc,EAAEJ,IAAI,CAACU,mBAAY,CAACE,eAAe,CAAC,CAAC;EAC5DT,GAAG,CAACC,IAAI,CAAC,qBAAqB,EAAEJ,IAAI,CAACU,mBAAY,CAACG,cAAc,CAAC,CAAC;EAClEV,GAAG,CAACM,GAAG,CAAC,eAAe,EAAET,IAAI,CAACc,oBAAa,CAACC,kBAAkB,CAAC,CAAC;EAChEZ,GAAG,CAACM,GAAG,CAAC,oBAAoB,EAAET,IAAI,CAACc,oBAAa,CAACE,aAAa,CAAC,CAAC;EAChEb,GAAG,CAACM,GAAG,CAAC,yBAAyB,EAAET,IAAI,CAACiB,gBAAU,CAACC,qBAAqB,CAAC,CAAC;EAC1Ef,GAAG,CAACM,GAAG,CAAC,oBAAoB,EAAET,IAAI,CAACiB,gBAAU,CAACE,gBAAgB,CAAC,CAAC;EAChEhB,GAAG,CAACC,IAAI,CAAC,aAAa,EAAEJ,IAAI,CAACiB,gBAAU,CAACG,cAAc,CAAC,CAAC;EACxDjB,GAAG,CAACM,GAAG,CAAC,cAAc,EAAET,IAAI,CAACiB,gBAAU,CAACI,UAAU,CAAC,CAAC;EACpDlB,GAAG,CAACM,GAAG,CAAC,cAAc,EAAET,IAAI,CAACiB,gBAAU,CAACK,UAAU,CAAC,CAAC;EACpDnB,GAAG,CAACC,IAAI,CAAC,eAAe,EAAEJ,IAAI,CAACiB,gBAAU,CAACM,aAAa,CAAC,CAAC;EACzDpB,GAAG,CAACM,GAAG,CAAC,cAAc,EAAET,IAAI,CAACiB,gBAAU,CAACI,UAAU,CAAC,CAAC;EACpDlB,GAAG,CAACM,GAAG,CAAC,mBAAmB,EAAET,IAAI,CAACiB,gBAAU,CAACO,eAAe,CAAC,CAAC;EAC9DrB,GAAG,CAACM,GAAG,CAAC,sBAAsB,EAAET,IAAI,CAACiB,gBAAU,CAACQ,kBAAkB,CAAC,CAAC;EACpEtB,GAAG,CAACC,IAAI,CAAC,iBAAiB,EAAEJ,IAAI,CAACiB,gBAAU,CAACS,UAAU,CAAC,CAAC;EACxDvB,GAAG,CAACC,IAAI,CAAC,iBAAiB,EAAEJ,IAAI,CAACiB,gBAAU,CAACU,WAAW,CAAC,CAAC;EACzDxB,GAAG,CAACM,GAAG,CAAC,cAAc,EAAET,IAAI,CAAC4B,gBAAS,CAACC,OAAO,CAAC,CAAC;EAChD1B,GAAG,CAACC,IAAI,CAAC,mBAAmB,EAAEJ,IAAI,CAAC4B,gBAAS,CAACE,YAAY,CAAC,CAAC;EAC3D3B,GAAG,CAACM,GAAG,CAAC,aAAa,EAAET,IAAI,CAAC+B,kBAAW,CAACC,SAAS,CAAC,CAAC;AACvD;AAAC,eAEc9B,IAAI;AAAA"}},"mtime":1672915558871},"{\"assumptions\":{},\"sourceRoot\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend\",\"filename\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend/src/routes/login.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.5:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nvar _BuyMe = require(\"../models/BuyMe\");\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nexports.UserLogin = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var userId, user;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            userId = req.body.userId;\n            _context.next = 3;\n            return _BuyMe.UserModel.findOne({\n              user_id: userId\n            });\n          case 3:\n            user = _context.sent;\n            if (!user) {\n              res.status(400).send({\n                message: 'error',\n                content: 'User does not exist!'\n              });\n            } else {\n              res.status(200).send({\n                message: 'success',\n                content: {\n                  password: user.password,\n                  name: user.name,\n                  id: user.user_id\n                }\n              });\n            }\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHBvcnRzIiwiVXNlckxvZ2luIiwicmVxIiwicmVzIiwidXNlcklkIiwiYm9keSIsIlVzZXJNb2RlbCIsImZpbmRPbmUiLCJ1c2VyX2lkIiwidXNlciIsInN0YXR1cyIsInNlbmQiLCJtZXNzYWdlIiwiY29udGVudCIsInBhc3N3b3JkIiwibmFtZSIsImlkIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvbGF3cmVuY2V0c2FpL0RvY3VtZW50cy9HaXRIdWIvTlRVQnV5TUUvYmFja2VuZC9zcmMvcm91dGVzLyIsInNvdXJjZXMiOlsibG9naW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVXNlck1vZGVsIH0gZnJvbSAnLi4vbW9kZWxzL0J1eU1lJ1xuXG5leHBvcnRzLlVzZXJMb2dpbiA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHsgdXNlcklkIH0gPSByZXEuYm9keVxuXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJNb2RlbC5maW5kT25lKHsgdXNlcl9pZDogdXNlcklkIH0pXG5cbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDApLnNlbmQoe1xuICAgICAgICAgICAgbWVzc2FnZTogJ2Vycm9yJyxcbiAgICAgICAgICAgIGNvbnRlbnQ6ICdVc2VyIGRvZXMgbm90IGV4aXN0IScsXG4gICAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmQoe1xuICAgICAgICAgICAgbWVzc2FnZTogJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgY29udGVudDoge1xuICAgICAgICAgICAgICAgIHBhc3N3b3JkOiB1c2VyLnBhc3N3b3JkLFxuICAgICAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICAgICAgICBpZDogdXNlci51c2VyX2lkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSlcbiAgICB9XG59XG4iXSwibWFwcGluZ3MiOiI7OztBQUFBO0FBQTJDLCtDQUMzQztBQUFBO0FBQUE7QUFDQUEsT0FBTyxDQUFDQyxTQUFTO0VBQUEsc0VBQUcsaUJBQU9DLEdBQUcsRUFBRUMsR0FBRztJQUFBO0lBQUE7TUFBQTtRQUFBO1VBQUE7WUFDdkJDLE1BQU0sR0FBS0YsR0FBRyxDQUFDRyxJQUFJLENBQW5CRCxNQUFNO1lBQUE7WUFBQSxPQUVLRSxnQkFBUyxDQUFDQyxPQUFPLENBQUM7Y0FBRUMsT0FBTyxFQUFFSjtZQUFPLENBQUMsQ0FBQztVQUFBO1lBQW5ESyxJQUFJO1lBRVYsSUFBSSxDQUFDQSxJQUFJLEVBQUU7Y0FDUE4sR0FBRyxDQUFDTyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztnQkFDakJDLE9BQU8sRUFBRSxPQUFPO2dCQUNoQkMsT0FBTyxFQUFFO2NBQ2IsQ0FBQyxDQUFDO1lBQ04sQ0FBQyxNQUFNO2NBQ0hWLEdBQUcsQ0FBQ08sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7Z0JBQ2pCQyxPQUFPLEVBQUUsU0FBUztnQkFDbEJDLE9BQU8sRUFBRTtrQkFDTEMsUUFBUSxFQUFFTCxJQUFJLENBQUNLLFFBQVE7a0JBQ3ZCQyxJQUFJLEVBQUVOLElBQUksQ0FBQ00sSUFBSTtrQkFDZkMsRUFBRSxFQUFFUCxJQUFJLENBQUNEO2dCQUNiO2NBQ0osQ0FBQyxDQUFDO1lBQ047VUFBQztVQUFBO1lBQUE7UUFBQTtNQUFBO0lBQUE7RUFBQSxDQUNKO0VBQUE7SUFBQTtFQUFBO0FBQUEifQ==","map":{"version":3,"names":["exports","UserLogin","req","res","userId","body","UserModel","findOne","user_id","user","status","send","message","content","password","name","id"],"sourceRoot":"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend/src/routes/","sources":["login.js"],"sourcesContent":["import { UserModel } from '../models/BuyMe'\n\nexports.UserLogin = async (req, res) => {\n    const { userId } = req.body\n\n    const user = await UserModel.findOne({ user_id: userId })\n\n    if (!user) {\n        res.status(400).send({\n            message: 'error',\n            content: 'User does not exist!',\n        })\n    } else {\n        res.status(200).send({\n            message: 'success',\n            content: {\n                password: user.password,\n                name: user.name,\n                id: user.user_id,\n            },\n        })\n    }\n}\n"],"mappings":";;;AAAA;AAA2C,+CAC3C;AAAA;AAAA;AACAA,OAAO,CAACC,SAAS;EAAA,sEAAG,iBAAOC,GAAG,EAAEC,GAAG;IAAA;IAAA;MAAA;QAAA;UAAA;YACvBC,MAAM,GAAKF,GAAG,CAACG,IAAI,CAAnBD,MAAM;YAAA;YAAA,OAEKE,gBAAS,CAACC,OAAO,CAAC;cAAEC,OAAO,EAAEJ;YAAO,CAAC,CAAC;UAAA;YAAnDK,IAAI;YAEV,IAAI,CAACA,IAAI,EAAE;cACPN,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;gBACjBC,OAAO,EAAE,OAAO;gBAChBC,OAAO,EAAE;cACb,CAAC,CAAC;YACN,CAAC,MAAM;cACHV,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;gBACjBC,OAAO,EAAE,SAAS;gBAClBC,OAAO,EAAE;kBACLC,QAAQ,EAAEL,IAAI,CAACK,QAAQ;kBACvBC,IAAI,EAAEN,IAAI,CAACM,IAAI;kBACfC,EAAE,EAAEP,IAAI,CAACD;gBACb;cACJ,CAAC,CAAC;YACN;UAAC;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CACJ;EAAA;IAAA;EAAA;AAAA"}},"mtime":1672419536534},"{\"assumptions\":{},\"sourceRoot\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend\",\"filename\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend/src/models/BuyMe.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UserModel = exports.TaskModel = exports.MessageModel = exports.ChatBoxModel = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nvar Schema = _mongoose[\"default\"].Schema;\nvar UserSchema = Schema({\n  user_id: {\n    type: String,\n    required: true,\n    unique: true\n  },\n  name: {\n    type: String,\n    required: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  tasks: [{\n    type: _mongoose[\"default\"].Types.ObjectId,\n    ref: 'Task'\n  }],\n  bankaccount: {\n    bank_id: {\n      type: String\n    },\n    bankaccount_id: {\n      type: String\n    }\n  }\n}, {\n  timestamps: true\n});\nvar UserModel = _mongoose[\"default\"].model('User', UserSchema);\nexports.UserModel = UserModel;\nvar TaskSchema = Schema({\n  sender: {\n    type: _mongoose[\"default\"].Types.ObjectId,\n    ref: 'User',\n    required: true\n  },\n  receiver: {\n    type: _mongoose[\"default\"].Types.ObjectId,\n    ref: 'User'\n  },\n  created_at: {\n    type: Date,\n    required: true\n  },\n  title: {\n    type: String,\n    required: true\n  },\n  restaurantName: {\n    type: String,\n    required: true\n  },\n  taskContent: {\n    type: String,\n    required: true\n  },\n  due_start: {\n    type: Date,\n    required: true\n  },\n  due_end: {\n    type: Date,\n    required: true\n  },\n  fee: {\n    type: Number,\n    required: true\n  },\n  status: {\n    type: String,\n    required: true\n  } // 'open', 'accepted', 'completed'\n}, {\n  timestamps: true\n});\nvar TaskModel = _mongoose[\"default\"].model('Task', TaskSchema);\nexports.TaskModel = TaskModel;\nvar MessageSchema = new Schema({\n  sender: {\n    type: String,\n    required: true\n  },\n  body: {\n    type: String,\n    required: [true, 'Body field is required!']\n  }\n});\nvar MessageModel = _mongoose[\"default\"].model('Message', MessageSchema);\nexports.MessageModel = MessageModel;\nvar ChatBoxSchema = new Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  sender: {\n    type: _mongoose[\"default\"].Types.ObjectId,\n    ref: 'User',\n    required: true\n  },\n  receiver: {\n    type: _mongoose[\"default\"].Types.ObjectId,\n    ref: 'User'\n  },\n  title: {\n    type: String,\n    required: true\n  },\n  messages: [{\n    type: _mongoose[\"default\"].Types.ObjectId,\n    ref: 'Message'\n  }],\n  due_period: {\n    type: String,\n    required: true\n  },\n  fee: {\n    type: String,\n    required: true\n  },\n  from: {\n    type: String,\n    required: true\n  },\n  task_id: {\n    type: _mongoose[\"default\"].Types.ObjectId,\n    ref: 'Task',\n    required: true\n  }\n});\nvar ChatBoxModel = _mongoose[\"default\"].model('ChatBox', ChatBoxSchema);\nexports.ChatBoxModel = ChatBoxModel;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIlVzZXJTY2hlbWEiLCJ1c2VyX2lkIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwidW5pcXVlIiwibmFtZSIsInBhc3N3b3JkIiwidGFza3MiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwiYmFua2FjY291bnQiLCJiYW5rX2lkIiwiYmFua2FjY291bnRfaWQiLCJ0aW1lc3RhbXBzIiwiVXNlck1vZGVsIiwibW9kZWwiLCJUYXNrU2NoZW1hIiwic2VuZGVyIiwicmVjZWl2ZXIiLCJjcmVhdGVkX2F0IiwiRGF0ZSIsInRpdGxlIiwicmVzdGF1cmFudE5hbWUiLCJ0YXNrQ29udGVudCIsImR1ZV9zdGFydCIsImR1ZV9lbmQiLCJmZWUiLCJOdW1iZXIiLCJzdGF0dXMiLCJUYXNrTW9kZWwiLCJNZXNzYWdlU2NoZW1hIiwiYm9keSIsIk1lc3NhZ2VNb2RlbCIsIkNoYXRCb3hTY2hlbWEiLCJtZXNzYWdlcyIsImR1ZV9wZXJpb2QiLCJmcm9tIiwidGFza19pZCIsIkNoYXRCb3hNb2RlbCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2xhd3JlbmNldHNhaS9Eb2N1bWVudHMvR2l0SHViL05UVUJ1eU1FL2JhY2tlbmQvc3JjL21vZGVscy8iLCJzb3VyY2VzIjpbIkJ1eU1lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSdcblxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hXG5cbmNvbnN0IFVzZXJTY2hlbWEgPSBTY2hlbWEoXG4gICAge1xuICAgICAgICB1c2VyX2lkOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUsIHVuaXF1ZTogdHJ1ZSB9LFxuICAgICAgICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgICAgcGFzc3dvcmQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgICB0YXNrczogW3sgdHlwZTogbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWQsIHJlZjogJ1Rhc2snIH1dLFxuICAgICAgICBiYW5rYWNjb3VudDoge1xuICAgICAgICAgICAgYmFua19pZDogeyB0eXBlOiBTdHJpbmcgfSxcbiAgICAgICAgICAgIGJhbmthY2NvdW50X2lkOiB7IHR5cGU6IFN0cmluZyB9LFxuICAgICAgICB9LFxuICAgIH0sXG4gICAgeyB0aW1lc3RhbXBzOiB0cnVlIH1cbilcblxuY29uc3QgVXNlck1vZGVsID0gbW9uZ29vc2UubW9kZWwoJ1VzZXInLCBVc2VyU2NoZW1hKVxuXG5jb25zdCBUYXNrU2NoZW1hID0gU2NoZW1hKFxuICAgIHtcbiAgICAgICAgc2VuZGVyOiB7IHR5cGU6IG1vbmdvb3NlLlR5cGVzLk9iamVjdElkLCByZWY6ICdVc2VyJywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgICAgcmVjZWl2ZXI6IHtcbiAgICAgICAgICAgIHR5cGU6IG1vbmdvb3NlLlR5cGVzLk9iamVjdElkLFxuICAgICAgICAgICAgcmVmOiAnVXNlcicsXG4gICAgICAgIH0sXG5cbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiBEYXRlLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgICB0aXRsZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICAgIHJlc3RhdXJhbnROYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgICAgdGFza0NvbnRlbnQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgICBkdWVfc3RhcnQ6IHsgdHlwZTogRGF0ZSwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgICAgZHVlX2VuZDogeyB0eXBlOiBEYXRlLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgICBmZWU6IHsgdHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgICBzdGF0dXM6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LCAvLyAnb3BlbicsICdhY2NlcHRlZCcsICdjb21wbGV0ZWQnXG4gICAgfSxcblxuICAgIHsgdGltZXN0YW1wczogdHJ1ZSB9XG4pXG5cbmNvbnN0IFRhc2tNb2RlbCA9IG1vbmdvb3NlLm1vZGVsKCdUYXNrJywgVGFza1NjaGVtYSlcblxuY29uc3QgTWVzc2FnZVNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICAgIHNlbmRlcjogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgYm9keTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiBbdHJ1ZSwgJ0JvZHkgZmllbGQgaXMgcmVxdWlyZWQhJ10gfSxcbn0pXG5cbmNvbnN0IE1lc3NhZ2VNb2RlbCA9IG1vbmdvb3NlLm1vZGVsKCdNZXNzYWdlJywgTWVzc2FnZVNjaGVtYSlcblxuY29uc3QgQ2hhdEJveFNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICAgIG5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIHNlbmRlcjogeyB0eXBlOiBtb25nb29zZS5UeXBlcy5PYmplY3RJZCwgcmVmOiAnVXNlcicsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgcmVjZWl2ZXI6IHtcbiAgICAgICAgdHlwZTogbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWQsXG4gICAgICAgIHJlZjogJ1VzZXInLFxuICAgIH0sXG4gICAgdGl0bGU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIG1lc3NhZ2VzOiBbeyB0eXBlOiBtb25nb29zZS5UeXBlcy5PYmplY3RJZCwgcmVmOiAnTWVzc2FnZScgfV0sXG4gICAgZHVlX3BlcmlvZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgZmVlOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBmcm9tOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICB0YXNrX2lkOiB7IHR5cGU6IG1vbmdvb3NlLlR5cGVzLk9iamVjdElkLCByZWY6ICdUYXNrJywgcmVxdWlyZWQ6IHRydWUgfSxcbn0pXG5cbmNvbnN0IENoYXRCb3hNb2RlbCA9IG1vbmdvb3NlLm1vZGVsKCdDaGF0Qm94JywgQ2hhdEJveFNjaGVtYSlcblxuZXhwb3J0IHsgVXNlck1vZGVsLCBUYXNrTW9kZWwsIE1lc3NhZ2VNb2RlbCwgQ2hhdEJveE1vZGVsIH1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFBK0I7QUFFL0IsSUFBTUEsTUFBTSxHQUFHQyxvQkFBUSxDQUFDRCxNQUFNO0FBRTlCLElBQU1FLFVBQVUsR0FBR0YsTUFBTSxDQUNyQjtFQUNJRyxPQUFPLEVBQUU7SUFBRUMsSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFFBQVEsRUFBRSxJQUFJO0lBQUVDLE1BQU0sRUFBRTtFQUFLLENBQUM7RUFDdkRDLElBQUksRUFBRTtJQUFFSixJQUFJLEVBQUVDLE1BQU07SUFBRUMsUUFBUSxFQUFFO0VBQUssQ0FBQztFQUN0Q0csUUFBUSxFQUFFO0lBQUVMLElBQUksRUFBRUMsTUFBTTtJQUFFQyxRQUFRLEVBQUU7RUFBSyxDQUFDO0VBQzFDSSxLQUFLLEVBQUUsQ0FBQztJQUFFTixJQUFJLEVBQUVILG9CQUFRLENBQUNVLEtBQUssQ0FBQ0MsUUFBUTtJQUFFQyxHQUFHLEVBQUU7RUFBTyxDQUFDLENBQUM7RUFDdkRDLFdBQVcsRUFBRTtJQUNUQyxPQUFPLEVBQUU7TUFBRVgsSUFBSSxFQUFFQztJQUFPLENBQUM7SUFDekJXLGNBQWMsRUFBRTtNQUFFWixJQUFJLEVBQUVDO0lBQU87RUFDbkM7QUFDSixDQUFDLEVBQ0Q7RUFBRVksVUFBVSxFQUFFO0FBQUssQ0FBQyxDQUN2QjtBQUVELElBQU1DLFNBQVMsR0FBR2pCLG9CQUFRLENBQUNrQixLQUFLLENBQUMsTUFBTSxFQUFFakIsVUFBVSxDQUFDO0FBQUE7QUFFcEQsSUFBTWtCLFVBQVUsR0FBR3BCLE1BQU0sQ0FDckI7RUFDSXFCLE1BQU0sRUFBRTtJQUFFakIsSUFBSSxFQUFFSCxvQkFBUSxDQUFD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","map":{"version":3,"names":["Schema","mongoose","UserSchema","user_id","type","String","required","unique","name","password","tasks","Types","ObjectId","ref","bankaccount","bank_id","bankaccount_id","timestamps","UserModel","model","TaskSchema","sender","receiver","created_at","Date","title","restaurantName","taskContent","due_start","due_end","fee","Number","status","TaskModel","MessageSchema","body","MessageModel","ChatBoxSchema","messages","due_period","from","task_id","ChatBoxModel"],"sourceRoot":"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend/src/models/","sources":["BuyMe.js"],"sourcesContent":["import mongoose from 'mongoose'\n\nconst Schema = mongoose.Schema\n\nconst UserSchema = Schema(\n    {\n        user_id: { type: String, required: true, unique: true },\n        name: { type: String, required: true },\n        password: { type: String, required: true },\n        tasks: [{ type: mongoose.Types.ObjectId, ref: 'Task' }],\n        bankaccount: {\n            bank_id: { type: String },\n            bankaccount_id: { type: String },\n        },\n    },\n    { timestamps: true }\n)\n\nconst UserModel = mongoose.model('User', UserSchema)\n\nconst TaskSchema = Schema(\n    {\n        sender: { type: mongoose.Types.ObjectId, ref: 'User', required: true },\n        receiver: {\n            type: mongoose.Types.ObjectId,\n            ref: 'User',\n        },\n\n        created_at: { type: Date, required: true },\n        title: { type: String, required: true },\n        restaurantName: { type: String, required: true },\n        taskContent: { type: String, required: true },\n        due_start: { type: Date, required: true },\n        due_end: { type: Date, required: true },\n        fee: { type: Number, required: true },\n        status: { type: String, required: true }, // 'open', 'accepted', 'completed'\n    },\n\n    { timestamps: true }\n)\n\nconst TaskModel = mongoose.model('Task', TaskSchema)\n\nconst MessageSchema = new Schema({\n    sender: { type: String, required: true },\n    body: { type: String, required: [true, 'Body field is required!'] },\n})\n\nconst MessageModel = mongoose.model('Message', MessageSchema)\n\nconst ChatBoxSchema = new Schema({\n    name: { type: String, required: true },\n    sender: { type: mongoose.Types.ObjectId, ref: 'User', required: true },\n    receiver: {\n        type: mongoose.Types.ObjectId,\n        ref: 'User',\n    },\n    title: { type: String, required: true },\n    messages: [{ type: mongoose.Types.ObjectId, ref: 'Message' }],\n    due_period: { type: String, required: true },\n    fee: { type: String, required: true },\n    from: { type: String, required: true },\n    task_id: { type: mongoose.Types.ObjectId, ref: 'Task', required: true },\n})\n\nconst ChatBoxModel = mongoose.model('ChatBox', ChatBoxSchema)\n\nexport { UserModel, TaskModel, MessageModel, ChatBoxModel }\n"],"mappings":"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"}},"mtime":1672915558871},"{\"assumptions\":{},\"sourceRoot\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend\",\"filename\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend/src/routes/register.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.5:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nvar _BuyMe = require(\"../models/BuyMe\");\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nexports.UserRegister = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var _req$body$user, name, id, password, bank_id, bankaccount_id, user, _user;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _req$body$user = req.body.user, name = _req$body$user.name, id = _req$body$user.id, password = _req$body$user.password, bank_id = _req$body$user.bank_id, bankaccount_id = _req$body$user.bankaccount_id;\n            _context.next = 3;\n            return _BuyMe.UserModel.findOne({\n              user_id: id\n            }).exec();\n          case 3:\n            user = _context.sent;\n            if (user) {\n              _context.next = 11;\n              break;\n            }\n            _user = new _BuyMe.UserModel({\n              user_id: id,\n              name: name,\n              password: password,\n              bankaccount: {\n                bank_id: bank_id,\n                bankaccount_id: bankaccount_id\n              }\n            });\n            _context.next = 8;\n            return _user.save();\n          case 8:\n            res.status(200).send({\n              message: 'success',\n              content: 'Account created!'\n            });\n            _context.next = 12;\n            break;\n          case 11:\n            res.send({\n              message: 'error',\n              content: 'User already exists!'\n            });\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHBvcnRzIiwiVXNlclJlZ2lzdGVyIiwicmVxIiwicmVzIiwiYm9keSIsInVzZXIiLCJuYW1lIiwiaWQiLCJwYXNzd29yZCIsImJhbmtfaWQiLCJiYW5rYWNjb3VudF9pZCIsIlVzZXJNb2RlbCIsImZpbmRPbmUiLCJ1c2VyX2lkIiwiZXhlYyIsImJhbmthY2NvdW50Iiwic2F2ZSIsInN0YXR1cyIsInNlbmQiLCJtZXNzYWdlIiwiY29udGVudCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2xhd3JlbmNldHNhaS9Eb2N1bWVudHMvR2l0SHViL05UVUJ1eU1FL2JhY2tlbmQvc3JjL3JvdXRlcy8iLCJzb3VyY2VzIjpbInJlZ2lzdGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFVzZXJNb2RlbCB9IGZyb20gJy4uL21vZGVscy9CdXlNZSdcblxuZXhwb3J0cy5Vc2VyUmVnaXN0ZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICAgIHVzZXI6IHsgbmFtZSwgaWQsIHBhc3N3b3JkLCBiYW5rX2lkLCBiYW5rYWNjb3VudF9pZCB9LFxuICAgIH0gPSByZXEuYm9keVxuXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJNb2RlbC5maW5kT25lKHsgdXNlcl9pZDogaWQgfSkuZXhlYygpXG5cbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgY29uc3QgdXNlciA9IG5ldyBVc2VyTW9kZWwoe1xuICAgICAgICAgICAgdXNlcl9pZDogaWQsXG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLFxuICAgICAgICAgICAgYmFua2FjY291bnQ6IHsgYmFua19pZDogYmFua19pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhbmthY2NvdW50X2lkOiBiYW5rYWNjb3VudF9pZH0sXG4gICAgICAgIH0pXG4gICAgICAgIGF3YWl0IHVzZXIuc2F2ZSgpXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdzdWNjZXNzJyxcbiAgICAgICAgICAgIGNvbnRlbnQ6ICdBY2NvdW50IGNyZWF0ZWQhJyxcbiAgICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXMuc2VuZCh7XG4gICAgICAgICAgICBtZXNzYWdlOiAnZXJyb3InLFxuICAgICAgICAgICAgY29udGVudDogJ1VzZXIgYWxyZWFkeSBleGlzdHMhJyxcbiAgICAgICAgfSlcbiAgICB9XG59XG4iXSwibWFwcGluZ3MiOiI7OztBQUFBO0FBQTJDLCtDQUMzQztBQUFBO0FBQUE7QUFDQUEsT0FBTyxDQUFDQyxZQUFZO0VBQUEsc0VBQUcsaUJBQU9DLEdBQUcsRUFBRUMsR0FBRztJQUFBO0lBQUE7TUFBQTtRQUFBO1VBQUE7WUFBQSxpQkFHOUJELEdBQUcsQ0FBQ0UsSUFBSSxDQURSQyxJQUFJLEVBQUlDLElBQUksa0JBQUpBLElBQUksRUFBRUMsRUFBRSxrQkFBRkEsRUFBRSxFQUFFQyxRQUFRLGtCQUFSQSxRQUFRLEVBQUVDLE9BQU8sa0JBQVBBLE9BQU8sRUFBRUMsY0FBYyxrQkFBZEEsY0FBYztZQUFBO1lBQUEsT0FHcENDLGdCQUFTLENBQUNDLE9BQU8sQ0FBQztjQUFFQyxPQUFPLEVBQUVOO1lBQUcsQ0FBQyxDQUFDLENBQUNPLElBQUksRUFBRTtVQUFBO1lBQXREVCxJQUFJO1lBQUEsSUFFTEEsSUFBSTtjQUFBO2NBQUE7WUFBQTtZQUNDQSxLQUFJLEdBQUcsSUFBSU0sZ0JBQVMsQ0FBQztjQUN2QkUsT0FBTyxFQUFFTixFQUFFO2NBQ1hELElBQUksRUFBRUEsSUFBSTtjQUNWRSxRQUFRLEVBQUVBLFFBQVE7Y0FDbEJPLFdBQVcsRUFBRTtnQkFBRU4sT0FBTyxFQUFFQSxPQUFPO2dCQUNoQkMsY0FBYyxFQUFFQTtjQUFjO1lBQ2pELENBQUMsQ0FBQztZQUFBO1lBQUEsT0FDSUwsS0FBSSxDQUFDVyxJQUFJLEVBQUU7VUFBQTtZQUNqQmIsR0FBRyxDQUFDYyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztjQUNqQkMsT0FBTyxFQUFFLFNBQVM7Y0FDbEJDLE9BQU8sRUFBRTtZQUNiLENBQUMsQ0FBQztZQUFBO1lBQUE7VUFBQTtZQUVGakIsR0FBRyxDQUFDZSxJQUFJLENBQUM7Y0FDTEMsT0FBTyxFQUFFLE9BQU87Y0FDaEJDLE9BQU8sRUFBRTtZQUNiLENBQUMsQ0FBQztVQUFBO1VBQUE7WUFBQTtRQUFBO01BQUE7SUFBQTtFQUFBLENBRVQ7RUFBQTtJQUFBO0VBQUE7QUFBQSJ9","map":{"version":3,"names":["exports","UserRegister","req","res","body","user","name","id","password","bank_id","bankaccount_id","UserModel","findOne","user_id","exec","bankaccount","save","status","send","message","content"],"sourceRoot":"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend/src/routes/","sources":["register.js"],"sourcesContent":["import { UserModel } from '../models/BuyMe'\n\nexports.UserRegister = async (req, res) => {\n    const {\n        user: { name, id, password, bank_id, bankaccount_id },\n    } = req.body\n\n    const user = await UserModel.findOne({ user_id: id }).exec()\n\n    if (!user) {\n        const user = new UserModel({\n            user_id: id,\n            name: name,\n            password: password,\n            bankaccount: { bank_id: bank_id,\n                           bankaccount_id: bankaccount_id},\n        })\n        await user.save()\n        res.status(200).send({\n            message: 'success',\n            content: 'Account created!',\n        })\n    } else {\n        res.send({\n            message: 'error',\n            content: 'User already exists!',\n        })\n    }\n}\n"],"mappings":";;;AAAA;AAA2C,+CAC3C;AAAA;AAAA;AACAA,OAAO,CAACC,YAAY;EAAA,sEAAG,iBAAOC,GAAG,EAAEC,GAAG;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA,iBAG9BD,GAAG,CAACE,IAAI,CADRC,IAAI,EAAIC,IAAI,kBAAJA,IAAI,EAAEC,EAAE,kBAAFA,EAAE,EAAEC,QAAQ,kBAARA,QAAQ,EAAEC,OAAO,kBAAPA,OAAO,EAAEC,cAAc,kBAAdA,cAAc;YAAA;YAAA,OAGpCC,gBAAS,CAACC,OAAO,CAAC;cAAEC,OAAO,EAAEN;YAAG,CAAC,CAAC,CAACO,IAAI,EAAE;UAAA;YAAtDT,IAAI;YAAA,IAELA,IAAI;cAAA;cAAA;YAAA;YACCA,KAAI,GAAG,IAAIM,gBAAS,CAAC;cACvBE,OAAO,EAAEN,EAAE;cACXD,IAAI,EAAEA,IAAI;cACVE,QAAQ,EAAEA,QAAQ;cAClBO,WAAW,EAAE;gBAAEN,OAAO,EAAEA,OAAO;gBAChBC,cAAc,EAAEA;cAAc;YACjD,CAAC,CAAC;YAAA;YAAA,OACIL,KAAI,CAACW,IAAI,EAAE;UAAA;YACjBb,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;cACjBC,OAAO,EAAE,SAAS;cAClBC,OAAO,EAAE;YACb,CAAC,CAAC;YAAA;YAAA;UAAA;YAEFjB,GAAG,CAACe,IAAI,CAAC;cACLC,OAAO,EAAE,OAAO;cAChBC,OAAO,EAAE;YACb,CAAC,CAAC;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAET;EAAA;IAAA;EAAA;AAAA"}},"mtime":1672310438241},"{\"assumptions\":{},\"sourceRoot\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend\",\"filename\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend/src/routes/account.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.5:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nvar _BuyMe = require(\"../models/BuyMe\");\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nexports.GetUserAccount = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var user_id, user;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            user_id = req.query.user_id;\n            _context.next = 3;\n            return _BuyMe.UserModel.findOne({\n              user_id: user_id\n            });\n          case 3:\n            user = _context.sent;\n            if (user) {\n              _context.next = 6;\n              break;\n            }\n            throw new Error('userID not found!');\n          case 6:\n            res.send({\n              data: user\n            });\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexports.EditUserAccount = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var item, newValue, existing, user, _user;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            item = req.body.item;\n            newValue = req.body.newValue;\n            _context2.next = 4;\n            return _BuyMe.UserModel.findOne({\n              user_id: req.body.user_id\n            });\n          case 4:\n            existing = _context2.sent;\n            if (!existing) {\n              _context2.next = 25;\n              break;\n            }\n            _context2.prev = 6;\n            if (!(item[0] === 'name')) {\n              _context2.next = 14;\n              break;\n            }\n            _context2.next = 10;\n            return _BuyMe.UserModel.findOneAndUpdate({\n              user_id: req.body.user_id\n            }, {\n              name: newValue[0]\n            }, {\n              \"new\": true\n            });\n          case 10:\n            user = _context2.sent;\n            res.status(200).send({\n              message: \"Updating successfully!\",\n              contents: user\n            });\n            _context2.next = 18;\n            break;\n          case 14:\n            _context2.next = 16;\n            return _BuyMe.UserModel.findOneAndUpdate({\n              user_id: req.body.user_id\n            }, {\n              bankaccount: {\n                bank_id: newValue[0],\n                bankaccount_id: newValue[1]\n              }\n            }, {\n              \"new\": true\n            });\n          case 16:\n            _user = _context2.sent;\n            res.status(200).send({\n              message: \"Updating successfully!\",\n              contents: _user\n            });\n          case 18:\n            _context2.next = 23;\n            break;\n          case 20:\n            _context2.prev = 20;\n            _context2.t0 = _context2[\"catch\"](6);\n            throw new Error('Account updating error: ' + _context2.t0);\n          case 23:\n            _context2.next = 26;\n            break;\n          case 25:\n            res.status(204).json({\n              message: \"Account doesn't exist!\"\n            });\n          case 26:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[6, 20]]);\n  }));\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexports.ChangePassword = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res) {\n    var user_id, password, existing;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            user_id = req.body.user_id;\n            password = req.body.newPasswordEncrypted;\n            _context3.next = 4;\n            return _BuyMe.UserModel.findOne({\n              user_id: user_id\n            });\n          case 4:\n            existing = _context3.sent;\n            if (!existing) {\n              _context3.next = 16;\n              break;\n            }\n            _context3.prev = 6;\n            res.status(200).json({\n              message: \"Updating \".concat(user_id, \"'s password!\")\n            });\n            return _context3.abrupt(\"return\", _BuyMe.UserModel.findOneAndUpdate({\n              user_id: user_id\n            }, {\n              password: password\n            }));\n          case 11:\n            _context3.prev = 11;\n            _context3.t0 = _context3[\"catch\"](6);\n            throw new Error('Password updating error: ' + _context3.t0);\n          case 14:\n            _context3.next = 17;\n            break;\n          case 16:\n            res.status(204).json({\n              message: \"Account doesn't exist!\"\n            });\n          case 17:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, null, [[6, 11]]);\n  }));\n  return function (_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHBvcnRzIiwiR2V0VXNlckFjY291bnQiLCJyZXEiLCJyZXMiLCJ1c2VyX2lkIiwicXVlcnkiLCJVc2VyTW9kZWwiLCJmaW5kT25lIiwidXNlciIsIkVycm9yIiwic2VuZCIsImRhdGEiLCJFZGl0VXNlckFjY291bnQiLCJpdGVtIiwiYm9keSIsIm5ld1ZhbHVlIiwiZXhpc3RpbmciLCJmaW5kT25lQW5kVXBkYXRlIiwibmFtZSIsInN0YXR1cyIsIm1lc3NhZ2UiLCJjb250ZW50cyIsImJhbmthY2NvdW50IiwiYmFua19pZCIsImJhbmthY2NvdW50X2lkIiwianNvbiIsIkNoYW5nZVBhc3N3b3JkIiwicGFzc3dvcmQiLCJuZXdQYXNzd29yZEVuY3J5cHRlZCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2xhd3JlbmNldHNhaS9Eb2N1bWVudHMvR2l0SHViL05UVUJ1eU1FL2JhY2tlbmQvc3JjL3JvdXRlcy8iLCJzb3VyY2VzIjpbImFjY291bnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVXNlck1vZGVsIH0gZnJvbSAnLi4vbW9kZWxzL0J1eU1lJ1xuXG5leHBvcnRzLkdldFVzZXJBY2NvdW50ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgdXNlcl9pZCA9IHJlcS5xdWVyeS51c2VyX2lkXG4gICAgbGV0IHVzZXIgPSBhd2FpdCBVc2VyTW9kZWwuZmluZE9uZSh7IHVzZXJfaWQgfSlcbiAgICBpZiAoIXVzZXIpIHRocm93IG5ldyBFcnJvcigndXNlcklEIG5vdCBmb3VuZCEnKVxuICAgIHJlcy5zZW5kKHsgZGF0YTogdXNlciB9KVxufVxuXG5leHBvcnRzLkVkaXRVc2VyQWNjb3VudCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGxldCBpdGVtID0gcmVxLmJvZHkuaXRlbVxuICAgIGxldCBuZXdWYWx1ZSA9IHJlcS5ib2R5Lm5ld1ZhbHVlXG5cbiAgICBjb25zdCBleGlzdGluZyA9IGF3YWl0IFVzZXJNb2RlbC5maW5kT25lKHsgdXNlcl9pZDogcmVxLmJvZHkudXNlcl9pZCB9KVxuXG4gICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICAgIC8vIFVwZGF0ZSBVc2VyTW9kZWxcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChpdGVtWzBdID09PSAnbmFtZScpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlck1vZGVsLmZpbmRPbmVBbmRVcGRhdGUoXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcS5ib2R5LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IG5ld1ZhbHVlWzBdLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7bmV3OnRydWV9XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHsgbWVzc2FnZTogYFVwZGF0aW5nIHN1Y2Nlc3NmdWxseSFgLCBjb250ZW50czogdXNlciB9KVxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyTW9kZWwuZmluZE9uZUFuZFVwZGF0ZShcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxLmJvZHkudXNlcl9pZCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFua2FjY291bnQ6eyBiYW5rX2lkOiBuZXdWYWx1ZVswXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFua2FjY291bnRfaWQ6IG5ld1ZhbHVlWzFdfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge25ldzp0cnVlfVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZCh7IG1lc3NhZ2U6IGBVcGRhdGluZyBzdWNjZXNzZnVsbHkhYCwgY29udGVudHM6IHVzZXIgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBY2NvdW50IHVwZGF0aW5nIGVycm9yOiAnICsgZSlcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcy5zdGF0dXMoMjA0KS5qc29uKHsgbWVzc2FnZTogYEFjY291bnQgZG9lc24ndCBleGlzdCFgIH0pXG4gICAgfVxufVxuXG5leHBvcnRzLkNoYW5nZVBhc3N3b3JkID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgdXNlcl9pZCA9IHJlcS5ib2R5LnVzZXJfaWRcbiAgICBjb25zdCBwYXNzd29yZCA9IHJlcS5ib2R5Lm5ld1Bhc3N3b3JkRW5jcnlwdGVkXG4gICAgY29uc3QgZXhpc3RpbmcgPSBhd2FpdCBVc2VyTW9kZWwuZmluZE9uZSh7IHVzZXJfaWQgfSlcbiAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogYFVwZGF0aW5nICR7dXNlcl9pZH0ncyBwYXNzd29yZCFgIH0pXG4gICAgICAgICAgICByZXR1cm4gVXNlck1vZGVsLmZpbmRPbmVBbmRVcGRhdGUoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB1c2VyX2lkLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBwYXNzd29yZCxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUGFzc3dvcmQgdXBkYXRpbmcgZXJyb3I6ICcgKyBlKVxuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmVzLnN0YXR1cygyMDQpLmpzb24oeyBtZXNzYWdlOiBgQWNjb3VudCBkb2Vzbid0IGV4aXN0IWAgfSlcbiAgICB9XG59XG4iXSwibWFwcGluZ3MiOiI7OztBQUFBO0FBQTJDLCtDQUMzQztBQUFBO0FBQUE7QUFDQUEsT0FBTyxDQUFDQyxjQUFjO0VBQUEsc0VBQUcsaUJBQU9DLEdBQUcsRUFBRUMsR0FBRztJQUFBO0lBQUE7TUFBQTtRQUFBO1VBQUE7WUFDOUJDLE9BQU8sR0FBR0YsR0FBRyxDQUFDRyxLQUFLLENBQUNELE9BQU87WUFBQTtZQUFBLE9BQ2hCRSxnQkFBUyxDQUFDQyxPQUFPLENBQUM7Y0FBRUgsT0FBTyxFQUFQQTtZQUFRLENBQUMsQ0FBQztVQUFBO1lBQTNDSSxJQUFJO1lBQUEsSUFDSEEsSUFBSTtjQUFBO2NBQUE7WUFBQTtZQUFBLE1BQVEsSUFBSUMsS0FBSyxDQUFDLG1CQUFtQixDQUFDO1VBQUE7WUFDL0NOLEdBQUcsQ0FBQ08sSUFBSSxDQUFDO2NBQUVDLElBQUksRUFBRUg7WUFBSyxDQUFDLENBQUM7VUFBQTtVQUFBO1lBQUE7UUFBQTtNQUFBO0lBQUE7RUFBQSxDQUMzQjtFQUFBO0lBQUE7RUFBQTtBQUFBO0FBRURSLE9BQU8sQ0FBQ1ksZUFBZTtFQUFBLHVFQUFHLGtCQUFPVixHQUFHLEVBQUVDLEdBQUc7SUFBQTtJQUFBO01BQUE7UUFBQTtVQUFBO1lBQ2pDVSxJQUFJLEdBQUdYLEdBQUcsQ0FBQ1ksSUFBSSxDQUFDRCxJQUFJO1lBQ3BCRSxRQUFRLEdBQUdiLEdBQUcsQ0FBQ1ksSUFBSSxDQUFDQyxRQUFRO1lBQUE7WUFBQSxPQUVUVCxnQkFBUyxDQUFDQyxPQUFPLENBQUM7Y0FBRUgsT0FBTyxFQUFFRixHQUFHLENBQUNZLElBQUksQ0FBQ1Y7WUFBUSxDQUFDLENBQUM7VUFBQTtZQUFqRVksUUFBUTtZQUFBLEtB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","map":{"version":3,"names":["exports","GetUserAccount","req","res","user_id","query","UserModel","findOne","user","Error","send","data","EditUserAccount","item","body","newValue","existing","findOneAndUpdate","name","status","message","contents","bankaccount","bank_id","bankaccount_id","json","ChangePassword","password","newPasswordEncrypted"],"sourceRoot":"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend/src/routes/","sources":["account.js"],"sourcesContent":["import { UserModel } from '../models/BuyMe'\n\nexports.GetUserAccount = async (req, res) => {\n    const user_id = req.query.user_id\n    let user = await UserModel.findOne({ user_id })\n    if (!user) throw new Error('userID not found!')\n    res.send({ data: user })\n}\n\nexports.EditUserAccount = async (req, res) => {\n    let item = req.body.item\n    let newValue = req.body.newValue\n\n    const existing = await UserModel.findOne({ user_id: req.body.user_id })\n\n    if (existing) {\n        // Update UserModel\n        try {\n            if (item[0] === 'name') {\n                const user = await UserModel.findOneAndUpdate(\n                    {\n                        user_id: req.body.user_id,\n                    },\n                    {\n                        name: newValue[0],\n                    },\n                    {new:true}\n                )\n                res.status(200).send({ message: `Updating successfully!`, contents: user })\n\n            } else {\n                const user = await UserModel.findOneAndUpdate(\n                    {\n                        user_id: req.body.user_id,\n                    },\n                    {\n                        bankaccount:{ bank_id: newValue[0],\n                                      bankaccount_id: newValue[1]},\n                    },\n                    {new:true}\n                )\n                res.status(200).send({ message: `Updating successfully!`, contents: user })\n            }\n        } catch (e) {\n            throw new Error('Account updating error: ' + e)\n        }\n    } else {\n        res.status(204).json({ message: `Account doesn't exist!` })\n    }\n}\n\nexports.ChangePassword = async (req, res) => {\n    const user_id = req.body.user_id\n    const password = req.body.newPasswordEncrypted\n    const existing = await UserModel.findOne({ user_id })\n    if (existing) {\n        try {\n            res.status(200).json({ message: `Updating ${user_id}'s password!` })\n            return UserModel.findOneAndUpdate(\n                {\n                    user_id,\n                },\n                {\n                    password,\n                }\n            )\n        } catch (e) {\n            throw new Error('Password updating error: ' + e)\n        }\n    } else {\n        res.status(204).json({ message: `Account doesn't exist!` })\n    }\n}\n"],"mappings":"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"}},"mtime":1672850228012},"{\"assumptions\":{},\"sourceRoot\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend\",\"filename\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend/src/routes/transfer.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.5:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nvar _BuyMe = require(\"../models/BuyMe\");\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nexports.GetReceiverId = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var user;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _BuyMe.UserModel.findOne({\n              _id: req.query.userObjId\n            });\n          case 2:\n            user = _context.sent;\n            if (!user) {\n              res.status(200).send({\n                message: 'error',\n                content: 'Cannot find user with this ID!'\n              });\n            } else {\n              res.status(200).send({\n                message: 'success',\n                content: {\n                  id: user.user_id\n                }\n              });\n            }\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexports.GetTransferAccount = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var userId, user;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            userId = req.query.userId;\n            _context2.next = 3;\n            return _BuyMe.UserModel.findOne({\n              user_id: userId\n            });\n          case 3:\n            user = _context2.sent;\n            if (!user) {\n              res.status(200).send({\n                message: 'error',\n                content: 'Cannot find user with this ID!'\n              });\n            } else {\n              res.status(200).send({\n                message: 'success',\n                content: {\n                  name: user.name,\n                  id: user.user_id,\n                  bankaccount: user.bankaccount\n                }\n              });\n            }\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHBvcnRzIiwiR2V0UmVjZWl2ZXJJZCIsInJlcSIsInJlcyIsIlVzZXJNb2RlbCIsImZpbmRPbmUiLCJfaWQiLCJxdWVyeSIsInVzZXJPYmpJZCIsInVzZXIiLCJzdGF0dXMiLCJzZW5kIiwibWVzc2FnZSIsImNvbnRlbnQiLCJpZCIsInVzZXJfaWQiLCJHZXRUcmFuc2ZlckFjY291bnQiLCJ1c2VySWQiLCJuYW1lIiwiYmFua2FjY291bnQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9sYXdyZW5jZXRzYWkvRG9jdW1lbnRzL0dpdEh1Yi9OVFVCdXlNRS9iYWNrZW5kL3NyYy9yb3V0ZXMvIiwic291cmNlcyI6WyJ0cmFuc2Zlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBVc2VyTW9kZWwgfSBmcm9tICcuLi9tb2RlbHMvQnV5TWUnXG5cbmV4cG9ydHMuR2V0UmVjZWl2ZXJJZCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGxldCB1c2VyID0gYXdhaXQgVXNlck1vZGVsLmZpbmRPbmUoeyBfaWQ6IHJlcS5xdWVyeS51c2VyT2JqSWQgfSlcbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmQoe1xuICAgICAgICAgICAgbWVzc2FnZTogJ2Vycm9yJyxcbiAgICAgICAgICAgIGNvbnRlbnQ6ICdDYW5ub3QgZmluZCB1c2VyIHdpdGggdGhpcyBJRCEnLFxuICAgICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdzdWNjZXNzJyxcbiAgICAgICAgICAgIGNvbnRlbnQ6IHtcbiAgICAgICAgICAgICAgICBpZDogdXNlci51c2VyX2lkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSlcbiAgICB9XG59XG5cbmV4cG9ydHMuR2V0VHJhbnNmZXJBY2NvdW50ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgeyB1c2VySWQgfSA9IHJlcS5xdWVyeVxuICAgIGxldCB1c2VyID0gYXdhaXQgVXNlck1vZGVsLmZpbmRPbmUoeyB1c2VyX2lkOiB1c2VySWQgfSlcbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmQoe1xuICAgICAgICAgICAgbWVzc2FnZTogJ2Vycm9yJyxcbiAgICAgICAgICAgIGNvbnRlbnQ6ICdDYW5ub3QgZmluZCB1c2VyIHdpdGggdGhpcyBJRCEnLFxuICAgICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdzdWNjZXNzJyxcbiAgICAgICAgICAgIGNvbnRlbnQ6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgICAgICAgICAgICAgaWQ6IHVzZXIudXNlcl9pZCxcbiAgICAgICAgICAgICAgICBiYW5rYWNjb3VudDogdXNlci5iYW5rYWNjb3VudCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pXG4gICAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7QUFBQTtBQUEyQywrQ0FDM0M7QUFBQTtBQUFBO0FBQ0FBLE9BQU8sQ0FBQ0MsYUFBYTtFQUFBLHNFQUFHLGlCQUFPQyxHQUFHLEVBQUVDLEdBQUc7SUFBQTtJQUFBO01BQUE7UUFBQTtVQUFBO1lBQUE7WUFBQSxPQUNsQkMsZ0JBQVMsQ0FBQ0MsT0FBTyxDQUFDO2NBQUVDLEdBQUcsRUFBRUosR0FBRyxDQUFDSyxLQUFLLENBQUNDO1lBQVUsQ0FBQyxDQUFDO1VBQUE7WUFBNURDLElBQUk7WUFDUixJQUFJLENBQUNBLElBQUksRUFBRTtjQUNQTixHQUFHLENBQUNPLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO2dCQUNqQkMsT0FBTyxFQUFFLE9BQU87Z0JBQ2hCQyxPQUFPLEVBQUU7Y0FDYixDQUFDLENBQUM7WUFDTixDQUFDLE1BQU07Y0FDSFYsR0FBRyxDQUFDTyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztnQkFDakJDLE9BQU8sRUFBRSxTQUFTO2dCQUNsQkMsT0FBTyxFQUFFO2tCQUNMQyxFQUFFLEVBQUVMLElBQUksQ0FBQ007Z0JBQ2I7Y0FDSixDQUFDLENBQUM7WUFDTjtVQUFDO1VBQUE7WUFBQTtRQUFBO01BQUE7SUFBQTtFQUFBLENBQ0o7RUFBQTtJQUFBO0VBQUE7QUFBQTtBQUVEZixPQUFPLENBQUNnQixrQkFBa0I7RUFBQSx1RUFBRyxrQkFBT2QsR0FBRyxFQUFFQyxHQUFHO0lBQUE7SUFBQTtNQUFBO1FBQUE7VUFBQTtZQUNoQ2MsTUFBTSxHQUFLZixHQUFHLENBQUNLLEtBQUssQ0FBcEJVLE1BQU07WUFBQTtZQUFBLE9BQ0diLGdCQUFTLENBQUNDLE9BQU8sQ0FBQztjQUFFVSxPQUFPLEVBQUVFO1lBQU8sQ0FBQyxDQUFDO1VBQUE7WUFBbkRSLElBQUk7WUFDUixJQUFJLENBQUNBLElBQUksRUFBRTtjQUNQTixHQUFHLENBQUNPLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO2dCQUNqQkMsT0FBTyxFQUFFLE9BQU87Z0JBQ2hCQyxPQUFPLEVBQUU7Y0FDYixDQUFDLENBQUM7WUFDTixDQUFDLE1BQU07Y0FDSFYsR0FBRyxDQUFDTyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztnQkFDakJDLE9BQU8sRUFBRSxTQUFTO2dCQUNsQkMsT0FBTyxFQUFFO2tCQUNMSyxJQUFJLEVBQUVULElBQUksQ0FBQ1MsSUFBSTtrQkFDZkosRUFBRSxFQUFFTCxJQUFJLENBQUNNLE9BQU87a0JBQ2hCSSxXQUFXLEVBQUVWLElBQUksQ0FBQ1U7Z0JBQ3RCO2NBQ0osQ0FBQyxDQUFDO1lBQ047VUFBQztVQUFBO1lBQUE7UUFBQTtNQUFBO0lBQUE7RUFBQSxDQUNKO0VBQUE7SUFBQTtFQUFBO0FBQUEifQ==","map":{"version":3,"names":["exports","GetReceiverId","req","res","UserModel","findOne","_id","query","userObjId","user","status","send","message","content","id","user_id","GetTransferAccount","userId","name","bankaccount"],"sourceRoot":"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend/src/routes/","sources":["transfer.js"],"sourcesContent":["import { UserModel } from '../models/BuyMe'\n\nexports.GetReceiverId = async (req, res) => {\n    let user = await UserModel.findOne({ _id: req.query.userObjId })\n    if (!user) {\n        res.status(200).send({\n            message: 'error',\n            content: 'Cannot find user with this ID!',\n        })\n    } else {\n        res.status(200).send({\n            message: 'success',\n            content: {\n                id: user.user_id,\n            },\n        })\n    }\n}\n\nexports.GetTransferAccount = async (req, res) => {\n    const { userId } = req.query\n    let user = await UserModel.findOne({ user_id: userId })\n    if (!user) {\n        res.status(200).send({\n            message: 'error',\n            content: 'Cannot find user with this ID!',\n        })\n    } else {\n        res.status(200).send({\n            message: 'success',\n            content: {\n                name: user.name,\n                id: user.user_id,\n                bankaccount: user.bankaccount,\n            },\n        })\n    }\n}\n"],"mappings":";;;AAAA;AAA2C,+CAC3C;AAAA;AAAA;AACAA,OAAO,CAACC,aAAa;EAAA,sEAAG,iBAAOC,GAAG,EAAEC,GAAG;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,OAClBC,gBAAS,CAACC,OAAO,CAAC;cAAEC,GAAG,EAAEJ,GAAG,CAACK,KAAK,CAACC;YAAU,CAAC,CAAC;UAAA;YAA5DC,IAAI;YACR,IAAI,CAACA,IAAI,EAAE;cACPN,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;gBACjBC,OAAO,EAAE,OAAO;gBAChBC,OAAO,EAAE;cACb,CAAC,CAAC;YACN,CAAC,MAAM;cACHV,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;gBACjBC,OAAO,EAAE,SAAS;gBAClBC,OAAO,EAAE;kBACLC,EAAE,EAAEL,IAAI,CAACM;gBACb;cACJ,CAAC,CAAC;YACN;UAAC;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CACJ;EAAA;IAAA;EAAA;AAAA;AAEDf,OAAO,CAACgB,kBAAkB;EAAA,uEAAG,kBAAOd,GAAG,EAAEC,GAAG;IAAA;IAAA;MAAA;QAAA;UAAA;YAChCc,MAAM,GAAKf,GAAG,CAACK,KAAK,CAApBU,MAAM;YAAA;YAAA,OACGb,gBAAS,CAACC,OAAO,CAAC;cAAEU,OAAO,EAAEE;YAAO,CAAC,CAAC;UAAA;YAAnDR,IAAI;YACR,IAAI,CAACA,IAAI,EAAE;cACPN,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;gBACjBC,OAAO,EAAE,OAAO;gBAChBC,OAAO,EAAE;cACb,CAAC,CAAC;YACN,CAAC,MAAM;cACHV,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;gBACjBC,OAAO,EAAE,SAAS;gBAClBC,OAAO,EAAE;kBACLK,IAAI,EAAET,IAAI,CAACS,IAAI;kBACfJ,EAAE,EAAEL,IAAI,CAACM,OAAO;kBAChBI,WAAW,EAAEV,IAAI,CAACU;gBACtB;cACJ,CAAC,CAAC;YACN;UAAC;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CACJ;EAAA;IAAA;EAAA;AAAA"}},"mtime":1672915558872},"{\"assumptions\":{},\"sourceRoot\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend\",\"filename\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend/src/routes/task.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.5:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nvar _BuyMe = require(\"../models/BuyMe\");\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nexports.FilterTasksByDueStart = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var nPerPage, maxPageN, allTasks;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            nPerPage = req.query.nPerPage;\n            maxPageN = req.query.maxPageN;\n            _context.next = 4;\n            return _BuyMe.TaskModel.find({\n              status: 'open'\n            }) //status: 'open'\n            .sort({\n              due_start: 1\n            }).limit(maxPageN * nPerPage);\n          case 4:\n            allTasks = _context.sent;\n            res.send({\n              allTasks: allTasks\n            });\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexports.FilterTasksByFee = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var nPerPage, maxPageN, allTasks;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            nPerPage = req.query.nPerPage;\n            maxPageN = req.query.maxPageN;\n            _context2.next = 4;\n            return _BuyMe.TaskModel.find({\n              status: 'open'\n            }).sort({\n              fee: -1\n            }).limit(maxPageN * nPerPage);\n          case 4:\n            allTasks = _context2.sent;\n            res.send({\n              allTasks: allTasks\n            });\n          case 6:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexports.DeleteAllTasks = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(_, res) {\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return _BuyMe.TaskModel.deleteMany({});\n          case 2:\n            _context3.next = 4;\n            return _BuyMe.ChatBoxModel.deleteMany({});\n          case 4:\n            _context3.next = 6;\n            return _BuyMe.MessageModel.deleteMany({});\n          case 6:\n            res.send({\n              success: true\n            });\n          case 7:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return function (_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nexports.GetTaskNum = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(_, res) {\n    var offset, DayRange, taskNum;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            offset = new Date(Date.now());\n            DayRange = 2;\n            offset.setDate(offset.getDate() - DayRange);\n            _context4.next = 5;\n            return _BuyMe.TaskModel.find({\n              status: 'open',\n              created_at: {\n                $gt: offset\n              }\n            }).count();\n          case 5:\n            taskNum = _context4.sent;\n            res.send({\n              taskNum: taskNum\n            });\n          case 7:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n  return function (_x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nexports.AddDummyTasks = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(_, res) {\n    var person, D, i, t;\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return _BuyMe.UserModel.findOne({\n              user_id: 'R11725051'\n            });\n          case 2:\n            person = _context5.sent;\n            D = new Date(Date.now());\n            i = 0;\n          case 5:\n            if (!(i < 1)) {\n              _context5.next = 12;\n              break;\n            }\n            t = new _BuyMe.TaskModel({\n              sender: person,\n              created_at: new Date(Date.now()),\n              title: 'Dummy',\n              restaurantName: 'Dummy Restaurant',\n              taskContent: 'Dummy Task',\n              due_start: D.setDate(D.getDate() - 4),\n              due_end: new Date(Date.now()),\n              fee: 10000,\n              status: 'open'\n            });\n            _context5.next = 9;\n            return t.save();\n          case 9:\n            i++;\n            _context5.next = 5;\n            break;\n          case 12:\n            res.send({\n              success: true\n            });\n          case 13:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n  return function (_x9, _x10) {\n    return _ref5.apply(this, arguments);\n  };\n}();\nexports.GetMyAddedTasks = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(req, res) {\n    var currentPage, nPerPage, maxPageN, id, myUserModel, myTasks, taskOverload;\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            currentPage = req.query.currentPage;\n            nPerPage = req.query.nPerPage;\n            maxPageN = req.query.maxPageN;\n            id = req.query.id;\n            _context6.next = 6;\n            return _BuyMe.UserModel.findOne({\n              user_id: id\n            });\n          case 6:\n            myUserModel = _context6.sent;\n            _context6.next = 9;\n            return _BuyMe.TaskModel.find({\n              sender: myUserModel,\n              status: {\n                $in: ['accepted', 'completed']\n              }\n            }).sort({\n              status: 1,\n              due_end: 1\n            });\n          case 9:\n            myTasks = _context6.sent;\n            taskOverload = myTasks.length === maxPageN * nPerPage + 1;\n            res.send({\n              myTasks: myTasks,\n              taskOverload: taskOverload\n            });\n          case 12:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n  return function (_x11, _x12) {\n    return _ref6.apply(this, arguments);\n  };\n}();\nexports.GetMyAcceptedTasks = /*#__PURE__*/function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(req, res) {\n    var currentPage, nPerPage, maxPageN, id, myUserModel, myTasks, taskOverload;\n    return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            currentPage = req.query.currentPage;\n            nPerPage = req.query.nPerPage;\n            maxPageN = req.query.maxPageN;\n            id = req.query.id;\n            _context7.next = 6;\n            return _BuyMe.UserModel.findOne({\n              user_id: id\n            });\n          case 6:\n            myUserModel = _context7.sent;\n            _context7.next = 9;\n            return _BuyMe.TaskModel.find({\n              receiver: myUserModel,\n              status: {\n                $in: ['accepted', 'completed']\n              }\n            }).sort({\n              status: 1,\n              due_end: 1\n            });\n          case 9:\n            myTasks = _context7.sent;\n            taskOverload = myTasks.length === maxPageN * nPerPage + 1;\n            res.send({\n              myTasks: myTasks,\n              taskOverload: taskOverload\n            });\n          case 12:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7);\n  }));\n  return function (_x13, _x14) {\n    return _ref7.apply(this, arguments);\n  };\n}();\nexports.CreateTask = /*#__PURE__*/function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(req, res) {\n    var _req$body, id, title, restaurant, fee, arrivalStart, arrivalEnd, taskContent, myUserModel, newTask;\n    return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            _req$body = req.body, id = _req$body.id, title = _req$body.title, restaurant = _req$body.restaurant, fee = _req$body.fee, arrivalStart = _req$body.arrivalStart, arrivalEnd = _req$body.arrivalEnd, taskContent = _req$body.taskContent;\n            _context8.next = 3;\n            return _BuyMe.UserModel.findOne({\n              user_id: id\n            });\n          case 3:\n            myUserModel = _context8.sent;\n            newTask = new _BuyMe.TaskModel({\n              sender: myUserModel,\n              created_at: new Date(Date.now()),\n              title: title,\n              restaurantName: restaurant,\n              taskContent: taskContent,\n              due_start: arrivalStart,\n              due_end: arrivalEnd,\n              fee: fee,\n              status: 'open'\n            });\n            _context8.next = 7;\n            return newTask.save();\n          case 7:\n          case \"end\":\n            return _context8.stop();\n        }\n      }\n    }, _callee8);\n  }));\n  return function (_x15, _x16) {\n    return _ref8.apply(this, arguments);\n  };\n}();\nexports.AcceptTasks = /*#__PURE__*/function () {\n  var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9(req, res) {\n    var makeName, _req$body2, id, receiver, user, task, task_populated, senderName, chatBoxName, newChatRoom;\n    return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n      while (1) {\n        switch (_context9.prev = _context9.next) {\n          case 0:\n            makeName = function makeName(name, to) {\n              return [name, to].sort().join('_');\n            };\n            _req$body2 = req.body, id = _req$body2.id, receiver = _req$body2.receiver;\n            _context9.next = 4;\n            return _BuyMe.UserModel.findOne({\n              user_id: receiver\n            });\n          case 4:\n            user = _context9.sent;\n            _context9.next = 7;\n            return _BuyMe.TaskModel.findOne({\n              _id: id\n            });\n          case 7:\n            task = _context9.sent;\n            _context9.next = 10;\n            return task.populate({\n              path: 'sender',\n              select: 'name'\n            });\n          case 10:\n            task_populated = _context9.sent;\n            senderName = task_populated.sender.name;\n            chatBoxName = makeName(user.name, senderName);\n            _context9.next = 15;\n            return _BuyMe.TaskModel.updateOne({\n              _id: id\n            }, {\n              receiver: user,\n              status: 'accepted'\n            });\n          case 15:\n            newChatRoom = new _BuyMe.ChatBoxModel({\n              name: chatBoxName,\n              title: task.title,\n              sender: task.sender,\n              receiver: user,\n              due_period: \"\".concat(task.due_start.toDateString(), \" \").concat(task.due_start.toTimeString().split(' ', 1), \" ~ \").concat(task.due_end.toDateString(), \" \").concat(task.due_end.toTimeString().split(' ', 1)),\n              fee: task.fee,\n              from: senderName,\n              task_id: task._id\n            });\n            newChatRoom.save();\n            res.send({\n              message: 'success',\n              content: 'Task Accepted'\n            });\n          case 18:\n          case \"end\":\n            return _context9.stop();\n        }\n      }\n    }, _callee9);\n  }));\n  return function (_x17, _x18) {\n    return _ref9.apply(this, arguments);\n  };\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHBvcnRzIiwiRmlsdGVyVGFza3NCeUR1ZVN0YXJ0IiwicmVxIiwicmVzIiwiblBlclBhZ2UiLCJxdWVyeSIsIm1heFBhZ2VOIiwiVGFza01vZGVsIiwiZmluZCIsInN0YXR1cyIsInNvcnQiLCJkdWVfc3RhcnQiLCJsaW1pdCIsImFsbFRhc2tzIiwic2VuZCIsIkZpbHRlclRhc2tzQnlGZWUiLCJmZWUiLCJEZWxldGVBbGxUYXNrcyIsIl8iLCJkZWxldGVNYW55IiwiQ2hhdEJveE1vZGVsIiwiTWVzc2FnZU1vZGVsIiwic3VjY2VzcyIsIkdldFRhc2tOdW0iLCJvZmZzZXQiLCJEYXRlIiwibm93IiwiRGF5UmFuZ2UiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsImNyZWF0ZWRfYXQiLCIkZ3QiLCJjb3VudCIsInRhc2tOdW0iLCJBZGREdW1teVRhc2tzIiwiVXNlck1vZGVsIiwiZmluZE9uZSIsInVzZXJfaWQiLCJwZXJzb24iLCJEIiwiaSIsInQiLCJzZW5kZXIiLCJ0aXRsZSIsInJlc3RhdXJhbnROYW1lIiwidGFza0NvbnRlbnQiLCJkdWVfZW5kIiwic2F2ZSIsIkdldE15QWRkZWRUYXNrcyIsImN1cnJlbnRQYWdlIiwiaWQiLCJteVVzZXJNb2RlbCIsIiRpbiIsIm15VGFza3MiLCJ0YXNrT3ZlcmxvYWQiLCJsZW5ndGgiLCJHZXRNeUFjY2VwdGVkVGFza3MiLCJyZWNlaXZlciIsIkNyZWF0ZVRhc2siLCJib2R5IiwicmVzdGF1cmFudCIsImFycml2YWxTdGFydCIsImFycml2YWxFbmQiLCJuZXdUYXNrIiwiQWNjZXB0VGFza3MiLCJtYWtlTmFtZSIsIm5hbWUiLCJ0byIsImpvaW4iLCJ1c2VyIiwiX2lkIiwidGFzayIsInBvcHVsYXRlIiwicGF0aCIsInNlbGVjdCIsInRhc2tfcG9wdWxhdGVkIiwic2VuZGVyTmFtZSIsImNoYXRCb3hOYW1lIiwidXBkYXRlT25lIiwibmV3Q2hhdFJvb20iLCJkdWVfcGVyaW9kIiwidG9EYXRlU3RyaW5nIiwidG9UaW1lU3RyaW5nIiwic3BsaXQiLCJmcm9tIiwidGFza19pZCIsIm1lc3NhZ2UiLCJjb250ZW50Il0sInNvdXJjZVJvb3QiOiIvVXNlcnMvbGF3cmVuY2V0c2FpL0RvY3VtZW50cy9HaXRIdWIvTlRVQnV5TUUvYmFja2VuZC9zcmMvcm91dGVzLyIsInNvdXJjZXMiOlsidGFzay5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNZXNzYWdlTW9kZWwsIFRhc2tNb2RlbCB9IGZyb20gJy4uL21vZGVscy9CdXlNZSdcbmltcG9ydCB7IFVzZXJNb2RlbCB9IGZyb20gJy4uL21vZGVscy9CdXlNZSdcbmltcG9ydCB7IENoYXRCb3hNb2RlbCB9IGZyb20gJy4uL21vZGVscy9CdXlNZSdcblxuZXhwb3J0cy5GaWx0ZXJUYXNrc0J5RHVlU3RhcnQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBuUGVyUGFnZSA9IHJlcS5xdWVyeS5uUGVyUGFnZVxuICAgIGNvbnN0IG1heFBhZ2VOID0gcmVxLnF1ZXJ5Lm1heFBhZ2VOXG4gICAgY29uc3QgYWxsVGFza3MgPSBhd2FpdCBUYXNrTW9kZWwuZmluZCh7IHN0YXR1czogJ29wZW4nIH0pIC8vc3RhdHVzOiAnb3BlbidcbiAgICAgICAgLnNvcnQoeyBkdWVfc3RhcnQ6IDEgfSlcbiAgICAgICAgLmxpbWl0KG1heFBhZ2VOICogblBlclBhZ2UpXG5cbiAgICByZXMuc2VuZCh7IGFsbFRhc2tzIH0pXG59XG5cbmV4cG9ydHMuRmlsdGVyVGFza3NCeUZlZSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IG5QZXJQYWdlID0gcmVxLnF1ZXJ5Lm5QZXJQYWdlXG4gICAgY29uc3QgbWF4UGFnZU4gPSByZXEucXVlcnkubWF4UGFnZU5cblxuICAgIGNvbnN0IGFsbFRhc2tzID0gYXdhaXQgVGFza01vZGVsLmZpbmQoeyBzdGF0dXM6ICdvcGVuJyB9KVxuICAgICAgICAuc29ydCh7IGZlZTogLTEgfSlcbiAgICAgICAgLmxpbWl0KG1heFBhZ2VOICogblBlclBhZ2UpXG5cbiAgICByZXMuc2VuZCh7IGFsbFRhc2tzIH0pXG59XG5cbmV4cG9ydHMuRGVsZXRlQWxsVGFza3MgPSBhc3luYyAoXywgcmVzKSA9PiB7XG4gICAgYXdhaXQgVGFza01vZGVsLmRlbGV0ZU1hbnkoe30pXG4gICAgYXdhaXQgQ2hhdEJveE1vZGVsLmRlbGV0ZU1hbnkoe30pXG4gICAgYXdhaXQgTWVzc2FnZU1vZGVsLmRlbGV0ZU1hbnkoe30pXG4gICAgcmVzLnNlbmQoeyBzdWNjZXNzOiB0cnVlIH0pXG59XG5cbmV4cG9ydHMuR2V0VGFza051bSA9IGFzeW5jIChfLCByZXMpID0+IHtcbiAgICBjb25zdCBvZmZzZXQgPSBuZXcgRGF0ZShEYXRlLm5vdygpKVxuICAgIGNvbnN0IERheVJhbmdlID0gMlxuICAgIG9mZnNldC5zZXREYXRlKG9mZnNldC5nZXREYXRlKCkgLSBEYXlSYW5nZSlcbiAgICBjb25zdCB0YXNrTnVtID0gYXdhaXQgVGFza01vZGVsLmZpbmQoe1xuICAgICAgICBzdGF0dXM6ICdvcGVuJyxcbiAgICAgICAgY3JlYXRlZF9hdDogeyAkZ3Q6IG9mZnNldCB9LFxuICAgIH0pLmNvdW50KClcbiAgICByZXMuc2VuZCh7IHRhc2tOdW0gfSlcbn1cblxuZXhwb3J0cy5BZGREdW1teVRhc2tzID0gYXN5bmMgKF8sIHJlcykgPT4ge1xuICAgIGNvbnN0IHBlcnNvbiA9IGF3YWl0IFVzZXJNb2RlbC5maW5kT25lKHsgdXNlcl9pZDogJ1IxMTcyNTA1MScgfSlcbiAgICBjb25zdCBEID0gbmV3IERhdGUoRGF0ZS5ub3coKSlcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHQgPSBuZXcgVGFza01vZGVsKHtcbiAgICAgICAgICAgIHNlbmRlcjogcGVyc29uLFxuICAgICAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoRGF0ZS5ub3coKSksXG4gICAgICAgICAgICB0aXRsZTogJ0R1bW15JyxcbiAgICAgICAgICAgIHJlc3RhdXJhbnROYW1lOiAnRHVtbXkgUmVzdGF1cmFudCcsXG4gICAgICAgICAgICB0YXNrQ29udGVudDogJ0R1bW15IFRhc2snLFxuICAgICAgICAgICAgZHVlX3N0YXJ0OiBELnNldERhdGUoRC5nZXREYXRlKCkgLSA0KSxcbiAgICAgICAgICAgIGR1ZV9lbmQ6IG5ldyBEYXRlKERhdGUubm93KCkpLFxuICAgICAgICAgICAgZmVlOiAxMDAwMCxcbiAgICAgICAgICAgIHN0YXR1czogJ29wZW4nLFxuICAgICAgICB9KVxuICAgICAgICBhd2FpdCB0LnNhdmUoKVxuICAgIH1cblxuICAgIHJlcy5zZW5kKHsgc3VjY2VzczogdHJ1ZSB9KVxufVxuXG5leHBvcnRzLkdldE15QWRkZWRUYXNrcyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnRQYWdlID0gcmVxLnF1ZXJ5LmN1cnJlbnRQYWdlXG4gICAgY29uc3QgblBlclBhZ2UgPSByZXEucXVlcnkublBlclBhZ2VcbiAgICBjb25zdCBtYXhQYWdlTiA9IHJlcS5xdWVyeS5tYXhQYWdlTlxuICAgIGNvbnN0IGlkID0gcmVxLnF1ZXJ5LmlkXG4gICAgY29uc3QgbXlVc2VyTW9kZWwgPSBhd2FpdCBVc2VyTW9kZWwuZmluZE9uZSh7IHVzZXJfaWQ6IGlkIH0pXG5cbiAgICBjb25zdCBteVRhc2tzID0gYXdhaXQgVGFza01vZGVsLmZpbmQoe1xuICAgICAgICBzZW5kZXI6IG15VXNlck1vZGVsLFxuICAgICAgICBzdGF0dXM6IHsgJGluOiBbJ2FjY2VwdGVkJywgJ2NvbXBsZXRlZCddIH0sXG4gICAgfSkuc29ydCh7IHN0YXR1czogMSwgZHVlX2VuZDogMSB9KVxuICAgIGNvbnN0IHRhc2tPdmVybG9hZCA9IG15VGFza3MubGVuZ3RoID09PSBtYXhQYWdlTiAqIG5QZXJQYWdlICsgMVxuICAgIHJlcy5zZW5kKHsgbXlUYXNrcywgdGFza092ZXJsb2FkIH0pXG59XG5cbmV4cG9ydHMuR2V0TXlBY2NlcHRlZFRhc2tzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgY3VycmVudFBhZ2UgPSByZXEucXVlcnkuY3VycmVudFBhZ2VcbiAgICBjb25zdCBuUGVyUGFnZSA9IHJlcS5xdWVyeS5uUGVyUGFnZVxuICAgIGNvbnN0IG1heFBhZ2VOID0gcmVxLnF1ZXJ5Lm1heFBhZ2VOXG4gICAgY29uc3QgaWQgPSByZXEucXVlcnkuaWRcbiAgICBjb25zdCBteVVzZXJNb2RlbCA9IGF3YWl0IFVzZXJNb2RlbC5maW5kT25lKHsgdXNlcl9pZDogaWQgfSlcbiAgICBjb25zdCBteVRhc2tzID0gYXdhaXQgVGFza01vZGVsLmZpbmQoe1xuICAgICAgICByZWNlaXZlcjogbXlVc2VyTW9kZWwsXG4gICAgICAgIHN0YXR1czogeyAkaW46IFsnYWNjZXB0ZWQnLCAnY29tcGxldGVkJ10gfSxcbiAgICB9KS5zb3J0KHsgc3RhdHVzOiAxLCBkdWVfZW5kOiAxIH0pXG5cbiAgICBjb25zdCB0YXNrT3ZlcmxvYWQgPSBteVRhc2tzLmxlbmd0aCA9PT0gbWF4UGFnZU4gKiBuUGVyUGFnZSArIDFcbiAgICByZXMuc2VuZCh7IG15VGFza3MsIHRhc2tPdmVybG9hZCB9KVxufVxuXG5leHBvcnRzLkNyZWF0ZVRhc2sgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICAgIGlkLFxuICAgICAgICB0aXRsZSxcbiAgICAgICAgcmVzdGF1cmFudCxcbiAgICAgICAgZmVlLFxuICAgICAgICBhcnJpdmFsU3RhcnQsXG4gICAgICAgIGFycml2YWxFbmQsXG4gICAgICAgIHRhc2tDb250ZW50LFxuICAgIH0gPSByZXEuYm9keVxuXG4gICAgY29uc3QgbXlVc2VyTW9kZWwgPSBhd2FpdCBVc2VyTW9kZWwuZmluZE9uZSh7IHVzZXJfaWQ6IGlkIH0pXG4gICAgY29uc3QgbmV3VGFzayA9IG5ldyBUYXNrTW9kZWwoe1xuICAgICAgICBzZW5kZXI6IG15VXNlck1vZGVsLFxuICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZShEYXRlLm5vdygpKSxcbiAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgICByZXN0YXVyYW50TmFtZTogcmVzdGF1cmFudCxcbiAgICAgICAgdGFza0NvbnRlbnQ6IHRhc2tDb250ZW50LFxuICAgICAgICBkdWVfc3RhcnQ6IGFycml2YWxTdGFydCxcbiAgICAgICAgZHVlX2VuZDogYXJyaXZhbEVuZCxcbiAgICAgICAgZmVlOiBmZWUsXG4gICAgICAgIHN0YXR1czogJ29wZW4nLFxuICAgIH0pXG5cbiAgICBhd2FpdCBuZXdUYXNrLnNhdmUoKVxufVxuXG5leHBvcnRzLkFjY2VwdFRhc2tzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgbWFrZU5hbWUgPSAobmFtZSwgdG8pID0+IHtcbiAgICAgICAgcmV0dXJuIFtuYW1lLCB0b10uc29ydCgpLmpvaW4oJ18nKVxuICAgIH1cblxuICAgIGNvbnN0IHsgaWQsIHJlY2VpdmVyIH0gPSByZXEuYm9keVxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyTW9kZWwuZmluZE9uZSh7IHVzZXJfaWQ6IHJlY2VpdmVyIH0pXG4gICAgY29uc3QgdGFzayA9IGF3YWl0IFRhc2tNb2RlbC5maW5kT25lKHsgX2lkOiBpZCB9KVxuICAgIGNvbnN0IHRhc2tfcG9wdWxhdGVkID0gYXdhaXQgdGFzay5wb3B1bGF0ZSh7XG4gICAgICAgIHBhdGg6ICdzZW5kZXInLFxuICAgICAgICBzZWxlY3Q6ICduYW1lJyxcbiAgICB9KVxuICAgIGNvbnN0IHNlbmRlck5hbWUgPSB0YXNrX3BvcHVsYXRlZC5zZW5kZXIubmFtZVxuICAgIGNvbnN0IGNoYXRCb3hOYW1lID0gbWFrZU5hbWUodXNlci5uYW1lLCBzZW5kZXJOYW1lKVxuICAgIGF3YWl0IFRhc2tNb2RlbC51cGRhdGVPbmUoXG4gICAgICAgIHsgX2lkOiBpZCB9LFxuICAgICAgICB7IHJlY2VpdmVyOiB1c2VyLCBzdGF0dXM6ICdhY2NlcHRlZCcgfVxuICAgIClcbiAgICBjb25zdCBuZXdDaGF0Um9vbSA9IG5ldyBDaGF0Qm94TW9kZWwoe1xuICAgICAgICBuYW1lOiBjaGF0Qm94TmFtZSxcbiAgICAgICAgdGl0bGU6IHRhc2sudGl0bGUsXG4gICAgICAgIHNlbmRlcjogdGFzay5zZW5kZXIsXG4gICAgICAgIHJlY2VpdmVyOiB1c2VyLFxuICAgICAgICBkdWVfcGVyaW9kOiBgJHt0YXNrLmR1ZV9zdGFydC50b0RhdGVTdHJpbmcoKX0gJHt0YXNrLmR1ZV9zdGFydFxuICAgICAgICAgICAgLnRvVGltZVN0cmluZygpXG4gICAgICAgICAgICAuc3BsaXQoJyAnLCAxKX0gfiAke3Rhc2suZHVlX2VuZC50b0RhdGVTdHJpbmcoKX0gJHt0YXNrLmR1ZV9lbmRcbiAgICAgICAgICAgIC50b1RpbWVTdHJpbmcoKVxuICAgICAgICAgICAgLnNwbGl0KCcgJywgMSl9YCxcbiAgICAgICAgZmVlOiB0YXNrLmZlZSxcbiAgICAgICAgZnJvbTogc2VuZGVyTmFtZSxcbiAgICAgICAgdGFza19pZDogdGFzay5faWQsXG4gICAgfSlcblxuICAgIG5ld0NoYXRSb29tLnNhdmUoKVxuICAgIHJlcy5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogJ3N1Y2Nlc3MnLFxuICAgICAgICBjb250ZW50OiAnVGFzayBBY2NlcHRlZCcsXG4gICAgfSlcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7O0FBQUE7QUFBeUQsK0NBQ3pEO0FBQUE7QUFBQTtBQUdBQSxPQUFPLENBQUNDLHFCQUFxQjtFQUFBLHNFQUFHLGlCQUFPQyxHQUFHLEVBQUVDLEdBQUc7SUFBQTtJQUFBO01BQUE7UUFBQTtVQUFBO1lBQ3JDQyxRQUFRLEdBQUdGLEdBQUcsQ0FBQ0csS0FBSyxDQUFDRCxRQUFRO1lBQzdCRSxRQUFRLEdBQUdKLEdBQUcsQ0FBQ0csS0FBSyxDQUFDQyxRQUFRO1lBQUE7WUFBQSxPQUNaQyxnQkFBUyxDQUFDQyxJQUFJLENBQUM7Y0FBRUMsTUFBTSxFQUFFO1lBQU8sQ0FBQyxDQUFDLENBQUM7WUFBQSxDQUNyREMsSUFBSSxDQUFDO2NBQUVDLFNBQVMsRUFBRTtZ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","map":{"version":3,"names":["exports","FilterTasksByDueStart","req","res","nPerPage","query","maxPageN","TaskModel","find","status","sort","due_start","limit","allTasks","send","FilterTasksByFee","fee","DeleteAllTasks","_","deleteMany","ChatBoxModel","MessageModel","success","GetTaskNum","offset","Date","now","DayRange","setDate","getDate","created_at","$gt","count","taskNum","AddDummyTasks","UserModel","findOne","user_id","person","D","i","t","sender","title","restaurantName","taskContent","due_end","save","GetMyAddedTasks","currentPage","id","myUserModel","$in","myTasks","taskOverload","length","GetMyAcceptedTasks","receiver","CreateTask","body","restaurant","arrivalStart","arrivalEnd","newTask","AcceptTasks","makeName","name","to","join","user","_id","task","populate","path","select","task_populated","senderName","chatBoxName","updateOne","newChatRoom","due_period","toDateString","toTimeString","split","from","task_id","message","content"],"sourceRoot":"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend/src/routes/","sources":["task.js"],"sourcesContent":["import { MessageModel, TaskModel } from '../models/BuyMe'\nimport { UserModel } from '../models/BuyMe'\nimport { ChatBoxModel } from '../models/BuyMe'\n\nexports.FilterTasksByDueStart = async (req, res) => {\n    const nPerPage = req.query.nPerPage\n    const maxPageN = req.query.maxPageN\n    const allTasks = await TaskModel.find({ status: 'open' }) //status: 'open'\n        .sort({ due_start: 1 })\n        .limit(maxPageN * nPerPage)\n\n    res.send({ allTasks })\n}\n\nexports.FilterTasksByFee = async (req, res) => {\n    const nPerPage = req.query.nPerPage\n    const maxPageN = req.query.maxPageN\n\n    const allTasks = await TaskModel.find({ status: 'open' })\n        .sort({ fee: -1 })\n        .limit(maxPageN * nPerPage)\n\n    res.send({ allTasks })\n}\n\nexports.DeleteAllTasks = async (_, res) => {\n    await TaskModel.deleteMany({})\n    await ChatBoxModel.deleteMany({})\n    await MessageModel.deleteMany({})\n    res.send({ success: true })\n}\n\nexports.GetTaskNum = async (_, res) => {\n    const offset = new Date(Date.now())\n    const DayRange = 2\n    offset.setDate(offset.getDate() - DayRange)\n    const taskNum = await TaskModel.find({\n        status: 'open',\n        created_at: { $gt: offset },\n    }).count()\n    res.send({ taskNum })\n}\n\nexports.AddDummyTasks = async (_, res) => {\n    const person = await UserModel.findOne({ user_id: 'R11725051' })\n    const D = new Date(Date.now())\n\n    for (let i = 0; i < 1; i++) {\n        const t = new TaskModel({\n            sender: person,\n            created_at: new Date(Date.now()),\n            title: 'Dummy',\n            restaurantName: 'Dummy Restaurant',\n            taskContent: 'Dummy Task',\n            due_start: D.setDate(D.getDate() - 4),\n            due_end: new Date(Date.now()),\n            fee: 10000,\n            status: 'open',\n        })\n        await t.save()\n    }\n\n    res.send({ success: true })\n}\n\nexports.GetMyAddedTasks = async (req, res) => {\n    const currentPage = req.query.currentPage\n    const nPerPage = req.query.nPerPage\n    const maxPageN = req.query.maxPageN\n    const id = req.query.id\n    const myUserModel = await UserModel.findOne({ user_id: id })\n\n    const myTasks = await TaskModel.find({\n        sender: myUserModel,\n        status: { $in: ['accepted', 'completed'] },\n    }).sort({ status: 1, due_end: 1 })\n    const taskOverload = myTasks.length === maxPageN * nPerPage + 1\n    res.send({ myTasks, taskOverload })\n}\n\nexports.GetMyAcceptedTasks = async (req, res) => {\n    const currentPage = req.query.currentPage\n    const nPerPage = req.query.nPerPage\n    const maxPageN = req.query.maxPageN\n    const id = req.query.id\n    const myUserModel = await UserModel.findOne({ user_id: id })\n    const myTasks = await TaskModel.find({\n        receiver: myUserModel,\n        status: { $in: ['accepted', 'completed'] },\n    }).sort({ status: 1, due_end: 1 })\n\n    const taskOverload = myTasks.length === maxPageN * nPerPage + 1\n    res.send({ myTasks, taskOverload })\n}\n\nexports.CreateTask = async (req, res) => {\n    const {\n        id,\n        title,\n        restaurant,\n        fee,\n        arrivalStart,\n        arrivalEnd,\n        taskContent,\n    } = req.body\n\n    const myUserModel = await UserModel.findOne({ user_id: id })\n    const newTask = new TaskModel({\n        sender: myUserModel,\n        created_at: new Date(Date.now()),\n        title: title,\n        restaurantName: restaurant,\n        taskContent: taskContent,\n        due_start: arrivalStart,\n        due_end: arrivalEnd,\n        fee: fee,\n        status: 'open',\n    })\n\n    await newTask.save()\n}\n\nexports.AcceptTasks = async (req, res) => {\n    const makeName = (name, to) => {\n        return [name, to].sort().join('_')\n    }\n\n    const { id, receiver } = req.body\n    const user = await UserModel.findOne({ user_id: receiver })\n    const task = await TaskModel.findOne({ _id: id })\n    const task_populated = await task.populate({\n        path: 'sender',\n        select: 'name',\n    })\n    const senderName = task_populated.sender.name\n    const chatBoxName = makeName(user.name, senderName)\n    await TaskModel.updateOne(\n        { _id: id },\n        { receiver: user, status: 'accepted' }\n    )\n    const newChatRoom = new ChatBoxModel({\n        name: chatBoxName,\n        title: task.title,\n        sender: task.sender,\n        receiver: user,\n        due_period: `${task.due_start.toDateString()} ${task.due_start\n            .toTimeString()\n            .split(' ', 1)} ~ ${task.due_end.toDateString()} ${task.due_end\n            .toTimeString()\n            .split(' ', 1)}`,\n        fee: task.fee,\n        from: senderName,\n        task_id: task._id,\n    })\n\n    newChatRoom.save()\n    res.send({\n        message: 'success',\n        content: 'Task Accepted',\n    })\n}\n"],"mappings":"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"}},"mtime":1672915558872},"{\"assumptions\":{},\"sourceRoot\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend\",\"filename\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend/src/routes/chat.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.5:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nvar _BuyMe = require(\"../models/BuyMe\");\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nexports.GetChat = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var id, user, chatRooms;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            id = req.query.id;\n            _context.next = 3;\n            return _BuyMe.UserModel.findOne({\n              user_id: id\n            });\n          case 3:\n            user = _context.sent;\n            _context.next = 6;\n            return _BuyMe.ChatBoxModel.find({\n              $or: [{\n                sender: user\n              }, {\n                receiver: user\n              }]\n            }).populate('messages');\n          case 6:\n            chatRooms = _context.sent;\n            res.send({\n              chatRooms: chatRooms\n            });\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexports.FulfillOrder = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var senderID, receiverID, userID, taskID, user, chatRooms;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            senderID = req.body.senderID;\n            receiverID = req.body.receiverID;\n            userID = req.body.userID;\n            taskID = req.body.taskID;\n            _context2.prev = 4;\n            _context2.next = 7;\n            return _BuyMe.TaskModel.findOneAndUpdate({\n              sender: senderID,\n              receiver: receiverID\n            }, {\n              status: 'completed'\n            });\n          case 7:\n            _context2.next = 12;\n            break;\n          case 9:\n            _context2.prev = 9;\n            _context2.t0 = _context2[\"catch\"](4);\n            console.log(_context2.t0);\n          case 12:\n            _context2.prev = 12;\n            _context2.next = 15;\n            return _BuyMe.ChatBoxModel.findOneAndDelete({\n              task_id: taskID\n            });\n          case 15:\n            _context2.next = 20;\n            break;\n          case 17:\n            _context2.prev = 17;\n            _context2.t1 = _context2[\"catch\"](12);\n            console.log(_context2.t1);\n          case 20:\n            _context2.next = 22;\n            return _BuyMe.UserModel.findOne({\n              user_id: userID\n            });\n          case 22:\n            user = _context2.sent;\n            _context2.next = 25;\n            return _BuyMe.ChatBoxModel.find({\n              $or: [{\n                sender: user\n              }, {\n                receiver: user\n              }]\n            }).populate('messages');\n          case 25:\n            chatRooms = _context2.sent;\n            res.send({\n              chatRooms: chatRooms\n            });\n          case 27:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[4, 9], [12, 17]]);\n  }));\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHBvcnRzIiwiR2V0Q2hhdCIsInJlcSIsInJlcyIsImlkIiwicXVlcnkiLCJVc2VyTW9kZWwiLCJmaW5kT25lIiwidXNlcl9pZCIsInVzZXIiLCJDaGF0Qm94TW9kZWwiLCJmaW5kIiwiJG9yIiwic2VuZGVyIiwicmVjZWl2ZXIiLCJwb3B1bGF0ZSIsImNoYXRSb29tcyIsInNlbmQiLCJGdWxmaWxsT3JkZXIiLCJzZW5kZXJJRCIsImJvZHkiLCJyZWNlaXZlcklEIiwidXNlcklEIiwidGFza0lEIiwiVGFza01vZGVsIiwiZmluZE9uZUFuZFVwZGF0ZSIsInN0YXR1cyIsImNvbnNvbGUiLCJsb2ciLCJmaW5kT25lQW5kRGVsZXRlIiwidGFza19pZCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2xhd3JlbmNldHNhaS9Eb2N1bWVudHMvR2l0SHViL05UVUJ1eU1FL2JhY2tlbmQvc3JjL3JvdXRlcy8iLCJzb3VyY2VzIjpbImNoYXQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2hhdEJveE1vZGVsLCBVc2VyTW9kZWwsIFRhc2tNb2RlbCB9IGZyb20gJy4uL21vZGVscy9CdXlNZSdcblxuZXhwb3J0cy5HZXRDaGF0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgaWQgPSByZXEucXVlcnkuaWRcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlck1vZGVsLmZpbmRPbmUoeyB1c2VyX2lkOiBpZCB9KVxuICAgIGNvbnN0IGNoYXRSb29tcyA9IGF3YWl0IENoYXRCb3hNb2RlbC5maW5kKHtcbiAgICAgICAgJG9yOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2VuZGVyOiB1c2VyLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZWNlaXZlcjogdXNlcixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgfSkucG9wdWxhdGUoJ21lc3NhZ2VzJylcbiAgICByZXMuc2VuZCh7IGNoYXRSb29tczogY2hhdFJvb21zIH0pXG59XG5cbmV4cG9ydHMuRnVsZmlsbE9yZGVyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3Qgc2VuZGVySUQgPSByZXEuYm9keS5zZW5kZXJJRFxuICAgIGNvbnN0IHJlY2VpdmVySUQgPSByZXEuYm9keS5yZWNlaXZlcklEXG4gICAgY29uc3QgdXNlcklEID0gcmVxLmJvZHkudXNlcklEXG4gICAgY29uc3QgdGFza0lEID0gcmVxLmJvZHkudGFza0lEXG5cbiAgICB0cnkge1xuICAgICAgICBhd2FpdCBUYXNrTW9kZWwuZmluZE9uZUFuZFVwZGF0ZShcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzZW5kZXI6IHNlbmRlcklELFxuICAgICAgICAgICAgICAgIHJlY2VpdmVyOiByZWNlaXZlcklELFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHsgc3RhdHVzOiAnY29tcGxldGVkJyB9XG4gICAgICAgIClcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGUpXG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgQ2hhdEJveE1vZGVsLmZpbmRPbmVBbmREZWxldGUoeyB0YXNrX2lkOiB0YXNrSUQgfSlcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGUpXG4gICAgfVxuXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJNb2RlbC5maW5kT25lKHsgdXNlcl9pZDogdXNlcklEIH0pXG4gICAgY29uc3QgY2hhdFJvb21zID0gYXdhaXQgQ2hhdEJveE1vZGVsLmZpbmQoe1xuICAgICAgICAkb3I6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzZW5kZXI6IHVzZXIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJlY2VpdmVyOiB1c2VyLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICB9KS5wb3B1bGF0ZSgnbWVzc2FnZXMnKVxuICAgIHJlcy5zZW5kKHsgY2hhdFJvb21zOiBjaGF0Um9vbXMgfSlcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7O0FBQUE7QUFBb0UsK0NBQ3BFO0FBQUE7QUFBQTtBQUNBQSxPQUFPLENBQUNDLE9BQU87RUFBQSxzRUFBRyxpQkFBT0MsR0FBRyxFQUFFQyxHQUFHO0lBQUE7SUFBQTtNQUFBO1FBQUE7VUFBQTtZQUN2QkMsRUFBRSxHQUFHRixHQUFHLENBQUNHLEtBQUssQ0FBQ0QsRUFBRTtZQUFBO1lBQUEsT0FDSkUsZ0JBQVMsQ0FBQ0MsT0FBTyxDQUFDO2NBQUVDLE9BQU8sRUFBRUo7WUFBRyxDQUFDLENBQUM7VUFBQTtZQUEvQ0ssSUFBSTtZQUFBO1lBQUEsT0FDY0MsbUJBQVksQ0FBQ0MsSUFBSSxDQUFDO2NBQ3RDQyxHQUFHLEVBQUUsQ0FDRDtnQkFDSUMsTUFBTSxFQUFFSjtjQUNaLENBQUMsRUFDRDtnQkFDSUssUUFBUSxFQUFFTDtjQUNkLENBQUM7WUFFVCxDQUFDLENBQUMsQ0FBQ00sUUFBUSxDQUFDLFVBQVUsQ0FBQztVQUFBO1lBVGpCQyxTQUFTO1lBVWZiLEdBQUcsQ0FBQ2MsSUFBSSxDQUFDO2NBQUVELFNBQVMsRUFBRUE7WUFBVSxDQUFDLENBQUM7VUFBQTtVQUFBO1lBQUE7UUFBQTtNQUFBO0lBQUE7RUFBQSxDQUNyQztFQUFBO0lBQUE7RUFBQTtBQUFBO0FBRURoQixPQUFPLENBQUNrQixZQUFZO0VBQUEsdUVBQUcsa0JBQU9oQixHQUFHLEVBQUVDLEdBQUc7SUFBQTtJQUFBO01BQUE7UUFBQTtVQUFBO1lBQzVCZ0IsUUFBUSxHQUFHakIsR0FBRyxDQUFDa0IsSUFBSSxDQUFDRCxRQUFRO1lBQzVCRSxVQUFVLEdBQUduQixHQUFHLENBQUNrQixJQUFJLENBQUNDLFVBQVU7WUFDaENDLE1BQU0sR0FBR3BCLEdBQUcsQ0FBQ2tCLElBQUksQ0FBQ0UsTUFBTTtZQUN4QkMsTUFBTSxHQUFHckIsR0FBRyxDQUFDa0IsSUFBSSxDQUFDRyxNQUFNO1lBQUE7WUFBQTtZQUFBLE9BR3BCQyxnQkFBUyxDQUFDQyxnQkFBZ0IsQ0FDNUI7Y0FDSVosTUFBTSxFQUFFTSxRQUFRO2NBQ2hCTCxRQUFRLEVBQUVPO1lBQ2QsQ0FBQyxFQUNEO2NBQUVLLE1BQU0sRUFBRTtZQUFZLENBQUMsQ0FDMUI7VUFBQTtZQUFBO1lBQUE7VUFBQTtZQUFBO1lBQUE7WUFFREMsT0FBTyxDQUFDQyxHQUFHLGNBQUc7VUFBQTtZQUFBO1lBQUE7WUFBQSxPQUlSbEIsbUJBQVksQ0FBQ21CLGdCQUFnQixDQUFDO2NBQUVDLE9BQU8sRUFBRVA7WUFBTyxDQUFDLENBQUM7VUFBQTtZQUFBO1lBQUE7VUFBQTtZQUFBO1lBQUE7WUFFeERJLE9BQU8sQ0FBQ0MsR0FBRyxjQUFHO1VBQUE7WUFBQTtZQUFBLE9BR0N0QixnQkFBUyxDQUFDQyxPQUFPLENBQUM7Y0FBRUMsT0FBTyxFQUFFYztZQUFPLENBQUMsQ0FBQztVQUFBO1lBQW5EYixJQUFJO1lBQUE7WUFBQSxPQUNjQyxtQkFBWSxDQUFDQyxJQUFJLENBQUM7Y0FDdENDLEdBQUcsRUFBRSxDQUNEO2dCQUNJQyxNQUFNLEVBQUVKO2NBQ1osQ0FBQyxFQUNEO2dCQUNJSyxRQUFRLEVBQUVMO2NBQ2QsQ0FBQztZQUVULENBQUMsQ0FBQyxDQUFDTSxRQUFRLENBQUMsVUFBVSxDQUFDO1VBQUE7WUFUakJDLFNBQVM7WUFVZmIsR0FBRyxDQUFDYyxJQUFJLENBQUM7Y0FBRUQsU0FBUyxFQUFFQTtZQUFVLENBQUMsQ0FBQztVQUFBO1VBQUE7WUFBQTtRQUFBO01BQUE7SUFBQTtFQUFBLENBQ3JDO0VBQUE7SUFBQTtFQUFBO0FBQUEifQ==","map":{"version":3,"names":["exports","GetChat","req","res","id","query","UserModel","findOne","user_id","user","ChatBoxModel","find","$or","sender","receiver","populate","chatRooms","send","FulfillOrder","senderID","body","receiverID","userID","taskID","TaskModel","findOneAndUpdate","status","console","log","findOneAndDelete","task_id"],"sourceRoot":"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend/src/routes/","sources":["chat.js"],"sourcesContent":["import { ChatBoxModel, UserModel, TaskModel } from '../models/BuyMe'\n\nexports.GetChat = async (req, res) => {\n    const id = req.query.id\n    const user = await UserModel.findOne({ user_id: id })\n    const chatRooms = await ChatBoxModel.find({\n        $or: [\n            {\n                sender: user,\n            },\n            {\n                receiver: user,\n            },\n        ],\n    }).populate('messages')\n    res.send({ chatRooms: chatRooms })\n}\n\nexports.FulfillOrder = async (req, res) => {\n    const senderID = req.body.senderID\n    const receiverID = req.body.receiverID\n    const userID = req.body.userID\n    const taskID = req.body.taskID\n\n    try {\n        await TaskModel.findOneAndUpdate(\n            {\n                sender: senderID,\n                receiver: receiverID,\n            },\n            { status: 'completed' }\n        )\n    } catch (e) {\n        console.log(e)\n    }\n\n    try {\n        await ChatBoxModel.findOneAndDelete({ task_id: taskID })\n    } catch (e) {\n        console.log(e)\n    }\n\n    const user = await UserModel.findOne({ user_id: userID })\n    const chatRooms = await ChatBoxModel.find({\n        $or: [\n            {\n                sender: user,\n            },\n            {\n                receiver: user,\n            },\n        ],\n    }).populate('messages')\n    res.send({ chatRooms: chatRooms })\n}\n"],"mappings":";;;AAAA;AAAoE,+CACpE;AAAA;AAAA;AACAA,OAAO,CAACC,OAAO;EAAA,sEAAG,iBAAOC,GAAG,EAAEC,GAAG;IAAA;IAAA;MAAA;QAAA;UAAA;YACvBC,EAAE,GAAGF,GAAG,CAACG,KAAK,CAACD,EAAE;YAAA;YAAA,OACJE,gBAAS,CAACC,OAAO,CAAC;cAAEC,OAAO,EAAEJ;YAAG,CAAC,CAAC;UAAA;YAA/CK,IAAI;YAAA;YAAA,OACcC,mBAAY,CAACC,IAAI,CAAC;cACtCC,GAAG,EAAE,CACD;gBACIC,MAAM,EAAEJ;cACZ,CAAC,EACD;gBACIK,QAAQ,EAAEL;cACd,CAAC;YAET,CAAC,CAAC,CAACM,QAAQ,CAAC,UAAU,CAAC;UAAA;YATjBC,SAAS;YAUfb,GAAG,CAACc,IAAI,CAAC;cAAED,SAAS,EAAEA;YAAU,CAAC,CAAC;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CACrC;EAAA;IAAA;EAAA;AAAA;AAEDhB,OAAO,CAACkB,YAAY;EAAA,uEAAG,kBAAOhB,GAAG,EAAEC,GAAG;IAAA;IAAA;MAAA;QAAA;UAAA;YAC5BgB,QAAQ,GAAGjB,GAAG,CAACkB,IAAI,CAACD,QAAQ;YAC5BE,UAAU,GAAGnB,GAAG,CAACkB,IAAI,CAACC,UAAU;YAChCC,MAAM,GAAGpB,GAAG,CAACkB,IAAI,CAACE,MAAM;YACxBC,MAAM,GAAGrB,GAAG,CAACkB,IAAI,CAACG,MAAM;YAAA;YAAA;YAAA,OAGpBC,gBAAS,CAACC,gBAAgB,CAC5B;cACIZ,MAAM,EAAEM,QAAQ;cAChBL,QAAQ,EAAEO;YACd,CAAC,EACD;cAAEK,MAAM,EAAE;YAAY,CAAC,CAC1B;UAAA;YAAA;YAAA;UAAA;YAAA;YAAA;YAEDC,OAAO,CAACC,GAAG,cAAG;UAAA;YAAA;YAAA;YAAA,OAIRlB,mBAAY,CAACmB,gBAAgB,CAAC;cAAEC,OAAO,EAAEP;YAAO,CAAC,CAAC;UAAA;YAAA;YAAA;UAAA;YAAA;YAAA;YAExDI,OAAO,CAACC,GAAG,cAAG;UAAA;YAAA;YAAA,OAGCtB,gBAAS,CAACC,OAAO,CAAC;cAAEC,OAAO,EAAEc;YAAO,CAAC,CAAC;UAAA;YAAnDb,IAAI;YAAA;YAAA,OACcC,mBAAY,CAACC,IAAI,CAAC;cACtCC,GAAG,EAAE,CACD;gBACIC,MAAM,EAAEJ;cACZ,CAAC,EACD;gBACIK,QAAQ,EAAEL;cACd,CAAC;YAET,CAAC,CAAC,CAACM,QAAQ,CAAC,UAAU,CAAC;UAAA;YATjBC,SAAS;YAUfb,GAAG,CAACc,IAAI,CAAC;cAAED,SAAS,EAAEA;YAAU,CAAC,CAAC;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CACrC;EAAA;IAAA;EAAA;AAAA"}},"mtime":1672903622191},"{\"assumptions\":{},\"sourceRoot\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend\",\"filename\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend/src/wsConnect.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.5:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _BuyMe = require(\"./models/BuyMe\");\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0) { ; } } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nvar sendData = function sendData(data, ws) {\n  ws.send(JSON.stringify(data));\n};\nvar chatBoxes = {}; // chatBoxes[chatBoxName] = ws\nvar _default = {\n  onMessage: function onMessage(wss, ws) {\n    return /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(byteString) {\n        var data, _JSON$parse, _JSON$parse2, task, payload, who, body, name, message, chatBox, _name, id;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                data = byteString.data;\n                _JSON$parse = JSON.parse(data), _JSON$parse2 = _slicedToArray(_JSON$parse, 2), task = _JSON$parse2[0], payload = _JSON$parse2[1];\n                _context.t0 = task;\n                _context.next = _context.t0 === 'MESSAGE' ? 5 : _context.t0 === 'CHAT' ? 24 : _context.t0 === 'FULFILL' ? 28 : 30;\n                break;\n              case 5:\n                who = payload.who, body = payload.body, name = payload.name;\n                ws.box = name;\n                message = new _BuyMe.MessageModel({\n                  sender: who,\n                  body: body\n                });\n                _context.prev = 8;\n                _context.next = 11;\n                return message.save();\n              case 11:\n                _context.next = 16;\n                break;\n              case 13:\n                _context.prev = 13;\n                _context.t1 = _context[\"catch\"](8);\n                throw new Error('Message DB server error: ' + _context.t1);\n              case 16:\n                _context.next = 18;\n                return _BuyMe.ChatBoxModel.findOne({\n                  name: name\n                });\n              case 18:\n                chatBox = _context.sent;\n                chatBox.messages = [].concat(_toConsumableArray(chatBox.messages), [message]);\n                _context.next = 22;\n                return chatBox.save();\n              case 22:\n                chatBoxes[ws.box].forEach(function (ws) {\n                  sendData(['message', {\n                    sender: who,\n                    body: body\n                  }], ws);\n                });\n                return _context.abrupt(\"break\", 30);\n              case 24:\n                _name = payload.name;\n                ws.box = _name;\n                if (!chatBoxes[ws.box]) {\n                  chatBoxes[ws.box] = [ws];\n                } else if (!chatBoxes[ws.box].includes(ws)) {\n                  chatBoxes[ws.box].push(ws);\n                }\n                return _context.abrupt(\"break\", 30);\n              case 28:\n                id = payload.id;\n                chatBoxes[ws.box].forEach(function (ws) {\n                  sendData(['fulfill', id], ws);\n                });\n              case 30:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[8, 13]]);\n      }));\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n  }\n};\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzZW5kRGF0YSIsImRhdGEiLCJ3cyIsInNlbmQiLCJKU09OIiwic3RyaW5naWZ5IiwiY2hhdEJveGVzIiwib25NZXNzYWdlIiwid3NzIiwiYnl0ZVN0cmluZyIsInBhcnNlIiwidGFzayIsInBheWxvYWQiLCJ3aG8iLCJib2R5IiwibmFtZSIsImJveCIsIm1lc3NhZ2UiLCJNZXNzYWdlTW9kZWwiLCJzZW5kZXIiLCJzYXZlIiwiRXJyb3IiLCJDaGF0Qm94TW9kZWwiLCJmaW5kT25lIiwiY2hhdEJveCIsIm1lc3NhZ2VzIiwiZm9yRWFjaCIsImluY2x1ZGVzIiwicHVzaCIsImlkIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvbGF3cmVuY2V0c2FpL0RvY3VtZW50cy9HaXRIdWIvTlRVQnV5TUUvYmFja2VuZC9zcmMvIiwic291cmNlcyI6WyJ3c0Nvbm5lY3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2hhdEJveE1vZGVsLCBNZXNzYWdlTW9kZWwsIFVzZXJNb2RlbCB9IGZyb20gJy4vbW9kZWxzL0J1eU1lJ1xuXG5jb25zdCBzZW5kRGF0YSA9IChkYXRhLCB3cykgPT4ge1xuICAgIHdzLnNlbmQoSlNPTi5zdHJpbmdpZnkoZGF0YSkpXG59XG5cbmNvbnN0IGNoYXRCb3hlcyA9IHt9IC8vIGNoYXRCb3hlc1tjaGF0Qm94TmFtZV0gPSB3c1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgb25NZXNzYWdlOiAod3NzLCB3cykgPT4gYXN5bmMgKGJ5dGVTdHJpbmcpID0+IHtcbiAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBieXRlU3RyaW5nXG4gICAgICAgIGNvbnN0IFt0YXNrLCBwYXlsb2FkXSA9IEpTT04ucGFyc2UoZGF0YSlcbiAgICAgICAgc3dpdGNoICh0YXNrKSB7XG4gICAgICAgICAgICBjYXNlICdNRVNTQUdFJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgd2hvLCBib2R5LCBuYW1lIH0gPSBwYXlsb2FkXG4gICAgICAgICAgICAgICAgd3MuYm94ID0gbmFtZVxuICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBuZXcgTWVzc2FnZU1vZGVsKHsgc2VuZGVyOiB3aG8sIGJvZHk6IGJvZHkgfSlcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBtZXNzYWdlLnNhdmUoKVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNZXNzYWdlIERCIHNlcnZlciBlcnJvcjogJyArIGUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGNoYXRCb3ggPSBhd2FpdCBDaGF0Qm94TW9kZWwuZmluZE9uZSh7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgIGNoYXRCb3gubWVzc2FnZXMgPSBbLi4uY2hhdEJveC5tZXNzYWdlcywgbWVzc2FnZV1cbiAgICAgICAgICAgICAgICBhd2FpdCBjaGF0Qm94LnNhdmUoKVxuXG4gICAgICAgICAgICAgICAgY2hhdEJveGVzW3dzLmJveF0uZm9yRWFjaCgod3MpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2VuZERhdGEoWydtZXNzYWdlJywgeyBzZW5kZXI6IHdobywgYm9keSB9XSwgd3MpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdDSEFUJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgbmFtZSB9ID0gcGF5bG9hZFxuICAgICAgICAgICAgICAgIHdzLmJveCA9IG5hbWVcbiAgICAgICAgICAgICAgICBpZiAoIWNoYXRCb3hlc1t3cy5ib3hdKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYXRCb3hlc1t3cy5ib3hdID0gW3dzXVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWNoYXRCb3hlc1t3cy5ib3hdLmluY2x1ZGVzKHdzKSkge1xuICAgICAgICAgICAgICAgICAgICBjaGF0Qm94ZXNbd3MuYm94XS5wdXNoKHdzKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdGVUxGSUxMJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgaWQgfSA9IHBheWxvYWRcbiAgICAgICAgICAgICAgICBjaGF0Qm94ZXNbd3MuYm94XS5mb3JFYWNoKCh3cykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZW5kRGF0YShbJ2Z1bGZpbGwnLCBpZF0sIHdzKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFBc0UsK0NBQ3RFO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0EsSUFBTUEsUUFBUSxHQUFHLFNBQVhBLFFBQVEsQ0FBSUMsSUFBSSxFQUFFQyxFQUFFLEVBQUs7RUFDM0JBLEVBQUUsQ0FBQ0MsSUFBSSxDQUFDQyxJQUFJLENBQUNDLFNBQVMsQ0FBQ0osSUFBSSxDQUFDLENBQUM7QUFDakMsQ0FBQztBQUVELElBQU1LLFNBQVMsR0FBRyxDQUFDLENBQUMsRUFBQztBQUFBLGVBRU47RUFDWEMsU0FBUyxFQUFFLG1CQUFDQyxHQUFHLEVBQUVOLEVBQUU7SUFBQTtNQUFBLHNFQUFLLGlCQUFPTyxVQUFVO1FBQUE7UUFBQTtVQUFBO1lBQUE7Y0FBQTtnQkFDN0JSLElBQUksR0FBS1EsVUFBVSxDQUFuQlIsSUFBSTtnQkFBQSxjQUNZRyxJQUFJLENBQUNNLEtBQUssQ0FBQ1QsSUFBSSxDQUFDLGlEQUFqQ1UsSUFBSSxvQkFBRUMsT0FBTztnQkFBQSxjQUNaRCxJQUFJO2dCQUFBLGdDQUNILFNBQVMsdUJBc0JULE1BQU0sd0JBV04sU0FBUztnQkFBQTtjQUFBO2dCQWhDRkUsR0FBRyxHQUFpQkQsT0FBTyxDQUEzQkMsR0FBRyxFQUFFQyxJQUFJLEdBQVdGLE9BQU8sQ0FBdEJFLElBQUksRUFBRUMsSUFBSSxHQUFLSCxPQUFPLENBQWhCRyxJQUFJO2dCQUN2QmIsRUFBRSxDQUFDYyxHQUFHLEdBQUdELElBQUk7Z0JBQ1BFLE9BQU8sR0FBRyxJQUFJQyxtQkFBWSxDQUFDO2tCQUFFQyxNQUFNLEVBQUVOLEdBQUc7a0JBQUVDLElBQUksRUFBRUE7Z0JBQUssQ0FBQyxDQUFDO2dCQUFBO2dCQUFBO2dCQUFBLE9BRW5ERyxPQUFPLENBQUNHLElBQUksRUFBRTtjQUFBO2dCQUFBO2dCQUFBO2NBQUE7Z0JBQUE7Z0JBQUE7Z0JBQUEsTUFFZCxJQUFJQyxLQUFLLENBQUMsMkJBQTJCLGNBQUksQ0FBQztjQUFBO2dCQUFBO2dCQUFBLE9BRTlCQyxtQkFBWSxDQUFDQyxPQUFPLENBQUM7a0JBQ3ZDUixJQUFJLEVBQUVBO2dCQUNWLENBQUMsQ0FBQztjQUFBO2dCQUZJUyxPQUFPO2dCQUliQSxPQUFPLENBQUNDLFFBQVEsZ0NBQU9ELE9BQU8sQ0FBQ0MsUUFBUSxJQUFFUixPQUFPLEVBQUM7Z0JBQUE7Z0JBQUEsT0FDM0NPLE9BQU8sQ0FBQ0osSUFBSSxFQUFFO2NBQUE7Z0JBRXBCZCxTQUFTLENBQUNKLEVBQUUsQ0FBQ2MsR0FBRyxDQUFDLENBQUNVLE9BQU8sQ0FBQyxVQUFDeEIsRUFBRSxFQUFLO2tCQUM5QkYsUUFBUSxDQUFDLENBQUMsU0FBUyxFQUFFO29CQUFFbUIsTUFBTSxFQUFFTixHQUFHO29CQUFFQyxJQUFJLEVBQUpBO2tCQUFLLENBQUMsQ0FBQyxFQUFFWixFQUFFLENBQUM7Z0JBQ3BELENBQUMsQ0FBQztnQkFBQTtjQUFBO2dCQUtNYSxLQUFJLEdBQUtILE9BQU8sQ0FBaEJHLElBQUk7Z0JBQ1piLEVBQUUsQ0FBQ2MsR0FBRyxHQUFHRCxLQUFJO2dCQUNiLElBQUksQ0FBQ1QsU0FBUyxDQUFDSixFQUFFLENBQUNjLEdBQUcsQ0FBQyxFQUFFO2tCQUNwQlYsU0FBUyxDQUFDSixFQUFFLENBQUNjLEdBQUcsQ0FBQyxHQUFHLENBQUNkLEVBQUUsQ0FBQztnQkFDNUIsQ0FBQyxNQUFNLElBQUksQ0FBQ0ksU0FBUyxDQUFDSixFQUFFLENBQUNjLEdBQUcsQ0FBQyxDQUFDVyxRQUFRLENBQUN6QixFQUFFLENBQUMsRUFBRTtrQkFDeENJLFNBQVMsQ0FBQ0osRUFBRSxDQUFDYyxHQUFHLENBQUMsQ0FBQ1ksSUFBSSxDQUFDMUIsRUFBRSxDQUFDO2dCQUM5QjtnQkFBQztjQUFBO2dCQUtPMkIsRUFBRSxHQUFLakIsT0FBTyxDQUFkaUIsRUFBRTtnQkFDVnZCLFNBQVMsQ0FBQ0osRUFBRSxDQUFDYyxHQUFHLENBQUMsQ0FBQ1UsT0FBTyxDQUFDLFVBQUN4QixFQUFFLEVBQUs7a0JBQzlCRixRQUFRLENBQUMsQ0FBQyxTQUFTLEVBQUU2QixFQUFFLENBQUMsRUFBRTNCLEVBQUUsQ0FBQztnQkFDakMsQ0FBQyxDQUFDO2NBQUE7Y0FBQTtnQkFBQTtZQUFBO1VBQUE7UUFBQTtNQUFBLENBR2I7TUFBQTtRQUFBO01BQUE7SUFBQTtFQUFBO0FBQ0wsQ0FBQztBQUFBIn0=","map":{"version":3,"names":["sendData","data","ws","send","JSON","stringify","chatBoxes","onMessage","wss","byteString","parse","task","payload","who","body","name","box","message","MessageModel","sender","save","Error","ChatBoxModel","findOne","chatBox","messages","forEach","includes","push","id"],"sourceRoot":"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend/src/","sources":["wsConnect.js"],"sourcesContent":["import { ChatBoxModel, MessageModel, UserModel } from './models/BuyMe'\n\nconst sendData = (data, ws) => {\n    ws.send(JSON.stringify(data))\n}\n\nconst chatBoxes = {} // chatBoxes[chatBoxName] = ws\n\nexport default {\n    onMessage: (wss, ws) => async (byteString) => {\n        const { data } = byteString\n        const [task, payload] = JSON.parse(data)\n        switch (task) {\n            case 'MESSAGE': {\n                const { who, body, name } = payload\n                ws.box = name\n                const message = new MessageModel({ sender: who, body: body })\n                try {\n                    await message.save()\n                } catch (e) {\n                    throw new Error('Message DB server error: ' + e)\n                }\n                const chatBox = await ChatBoxModel.findOne({\n                    name: name,\n                })\n\n                chatBox.messages = [...chatBox.messages, message]\n                await chatBox.save()\n\n                chatBoxes[ws.box].forEach((ws) => {\n                    sendData(['message', { sender: who, body }], ws)\n                })\n                break\n            }\n\n            case 'CHAT': {\n                const { name } = payload\n                ws.box = name\n                if (!chatBoxes[ws.box]) {\n                    chatBoxes[ws.box] = [ws]\n                } else if (!chatBoxes[ws.box].includes(ws)) {\n                    chatBoxes[ws.box].push(ws)\n                }\n                break\n            }\n\n            case 'FULFILL': {\n                const { id } = payload\n                chatBoxes[ws.box].forEach((ws) => {\n                    sendData(['fulfill', id], ws)\n                })\n            }\n        }\n    },\n}\n"],"mappings":";;;;;;;AAAA;AAAsE,+CACtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,IAAMA,QAAQ,GAAG,SAAXA,QAAQ,CAAIC,IAAI,EAAEC,EAAE,EAAK;EAC3BA,EAAE,CAACC,IAAI,CAACC,IAAI,CAACC,SAAS,CAACJ,IAAI,CAAC,CAAC;AACjC,CAAC;AAED,IAAMK,SAAS,GAAG,CAAC,CAAC,EAAC;AAAA,eAEN;EACXC,SAAS,EAAE,mBAACC,GAAG,EAAEN,EAAE;IAAA;MAAA,sEAAK,iBAAOO,UAAU;QAAA;QAAA;UAAA;YAAA;cAAA;gBAC7BR,IAAI,GAAKQ,UAAU,CAAnBR,IAAI;gBAAA,cACYG,IAAI,CAACM,KAAK,CAACT,IAAI,CAAC,iDAAjCU,IAAI,oBAAEC,OAAO;gBAAA,cACZD,IAAI;gBAAA,gCACH,SAAS,uBAsBT,MAAM,wBAWN,SAAS;gBAAA;cAAA;gBAhCFE,GAAG,GAAiBD,OAAO,CAA3BC,GAAG,EAAEC,IAAI,GAAWF,OAAO,CAAtBE,IAAI,EAAEC,IAAI,GAAKH,OAAO,CAAhBG,IAAI;gBACvBb,EAAE,CAACc,GAAG,GAAGD,IAAI;gBACPE,OAAO,GAAG,IAAIC,mBAAY,CAAC;kBAAEC,MAAM,EAAEN,GAAG;kBAAEC,IAAI,EAAEA;gBAAK,CAAC,CAAC;gBAAA;gBAAA;gBAAA,OAEnDG,OAAO,CAACG,IAAI,EAAE;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAAA,MAEd,IAAIC,KAAK,CAAC,2BAA2B,cAAI,CAAC;cAAA;gBAAA;gBAAA,OAE9BC,mBAAY,CAACC,OAAO,CAAC;kBACvCR,IAAI,EAAEA;gBACV,CAAC,CAAC;cAAA;gBAFIS,OAAO;gBAIbA,OAAO,CAACC,QAAQ,gCAAOD,OAAO,CAACC,QAAQ,IAAER,OAAO,EAAC;gBAAA;gBAAA,OAC3CO,OAAO,CAACJ,IAAI,EAAE;cAAA;gBAEpBd,SAAS,CAACJ,EAAE,CAACc,GAAG,CAAC,CAACU,OAAO,CAAC,UAACxB,EAAE,EAAK;kBAC9BF,QAAQ,CAAC,CAAC,SAAS,EAAE;oBAAEmB,MAAM,EAAEN,GAAG;oBAAEC,IAAI,EAAJA;kBAAK,CAAC,CAAC,EAAEZ,EAAE,CAAC;gBACpD,CAAC,CAAC;gBAAA;cAAA;gBAKMa,KAAI,GAAKH,OAAO,CAAhBG,IAAI;gBACZb,EAAE,CAACc,GAAG,GAAGD,KAAI;gBACb,IAAI,CAACT,SAAS,CAACJ,EAAE,CAACc,GAAG,CAAC,EAAE;kBACpBV,SAAS,CAACJ,EAAE,CAACc,GAAG,CAAC,GAAG,CAACd,EAAE,CAAC;gBAC5B,CAAC,MAAM,IAAI,CAACI,SAAS,CAACJ,EAAE,CAACc,GAAG,CAAC,CAACW,QAAQ,CAACzB,EAAE,CAAC,EAAE;kBACxCI,SAAS,CAACJ,EAAE,CAACc,GAAG,CAAC,CAACY,IAAI,CAAC1B,EAAE,CAAC;gBAC9B;gBAAC;cAAA;gBAKO2B,EAAE,GAAKjB,OAAO,CAAdiB,EAAE;gBACVvB,SAAS,CAACJ,EAAE,CAACc,GAAG,CAAC,CAACU,OAAO,CAAC,UAACxB,EAAE,EAAK;kBAC9BF,QAAQ,CAAC,CAAC,SAAS,EAAE6B,EAAE,CAAC,EAAE3B,EAAE,CAAC;gBACjC,CAAC,CAAC;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAGb;MAAA;QAAA;MAAA;IAAA;EAAA;AACL,CAAC;AAAA"}},"mtime":1672915558873},"{\"assumptions\":{},\"sourceRoot\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend\",\"filename\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend/src/routes/qrcode.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.5:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nexports.GetQRCode = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var bank, account, amount, memo, redir, str, BankCode, AccNo, QString, Amount, Memo, Pixel;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            console.log(req.query.account);\n            bank = req.query.account.bank_id;\n            account = req.query.account.bankaccount_id;\n            amount = req.query.amount;\n            memo = req.query.memo;\n            redir = req.query.redir;\n            str = \"\";\n            if (bank && account) {\n              //檢查銀行代碼\n              BankCode = bank.slice(0, 3);\n              if (!isNaN(BankCode) && BankCode >= 1 && BankCode.length == 3) {\n                //檢查帳號\n                AccNo = account.padStart(16, '0');\n                if (!isNaN(AccNo) && AccNo >= 1 && AccNo <= 9999999999999999) {\n                  //產生QRCode編碼字串\n                  QString = \"TWQRP%3A%2F%2F\".concat(BankCode, \"NTTransfer%2F158%2F02%2FV1%3FD6%3D\").concat(AccNo, \"%26D5%3D\").concat(BankCode, \"%26D10%3D901\"); //檢查金額\n                  if (amount) {\n                    //TWPay金額格式包含兩位小數，所以此處數字要乘上100\n                    Amount = amount * 100; //TWPay金額限制最低1.00元，最高9,999,999.00元\n                    if (!isNaN(Amount) && Amount <= 999999900 && Amount >= 100) {\n                      //於編碼字串上加上金額\n                      QString += \"%26D1%3D\".concat(Amount);\n                    }\n                  }\n\n                  //檢查備註\n                  if (memo) {\n                    //備註上限為19字元，超過者省略。\n                    Memo = memo.slice(0, 19); //於編碼字串上加上備註\n                    QString += \"%26D9%3D\".concat(Memo);\n                  }\n\n                  //資料檢核完成，顯示QRCode\n                  if (redir) {\n                    Pixel = redir; //Google API產生的QR Code像素大小須介於99~547之間\n                    if (!isNaN(Pixel) && Pixel >= 99 && Pixel <= 547) {\n                      str = \"<center><img src='https://chart.googleapis.com/chart?cht=qr&chs=\".concat(Pixel, \"x\").concat(Pixel, \"&chl=\").concat(QString, \"' /></center>\");\n                    } else {\n                      //預設像素為400x400\n                      str = \"<center><img src='https://chart.googleapis.com/chart?cht=qr&chs=400x400&chl=\".concat(QString, \"' /></center>\");\n                    }\n                  } else {\n                    //資料檢核完成，回傳JSON String\n                    str = \"{\\\"Success\\\":\\\"1\\\", \\\"String\\\":\\\"\".concat(decodeURI(QString), \"\\\", \\\"QR\\\":\\\"https://chart.googleapis.com/chart?cht=qr&chs=400x400&chl=\").concat(QString, \"\\\"}\");\n                  }\n                } else {\n                  //回傳帳號不合法訊息\n                  str = \"{\\\"Success\\\":\\\"0\\\", \\\"Msg\\\":\\\"Parameters `Acc` not legal\\\"}\";\n                }\n              } else {\n                //回傳銀行代碼不合法訊息\n                str = \"{\\\"Success\\\":\\\"0\\\", \\\"Msg\\\":\\\"Parameters `Bank` not legal\\\"}\";\n              }\n            } else {\n              //銀行代碼或帳號值為空，回傳錯誤訊息\n              str = \"{\\\"Success\\\":\\\"0\\\", \\\"Msg\\\":\\\"Parameters `Bank` or `Acc` not set\\\"}\";\n            }\n            res.status(200).send(str);\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHBvcnRzIiwiR2V0UVJDb2RlIiwicmVxIiwicmVzIiwiY29uc29sZSIsImxvZyIsInF1ZXJ5IiwiYWNjb3VudCIsImJhbmsiLCJiYW5rX2lkIiwiYmFua2FjY291bnRfaWQiLCJhbW91bnQiLCJtZW1vIiwicmVkaXIiLCJzdHIiLCJCYW5rQ29kZSIsInNsaWNlIiwiaXNOYU4iLCJsZW5ndGgiLCJBY2NObyIsInBhZFN0YXJ0IiwiUVN0cmluZyIsIkFtb3VudCIsIk1lbW8iLCJQaXhlbCIsImRlY29kZVVSSSIsInN0YXR1cyIsInNlbmQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9sYXdyZW5jZXRzYWkvRG9jdW1lbnRzL0dpdEh1Yi9OVFVCdXlNRS9iYWNrZW5kL3NyYy9yb3V0ZXMvIiwic291cmNlcyI6WyJxcmNvZGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0cy5HZXRRUkNvZGUgPSBhc3luYyAocmVxLCByZXMpID0+ICB7XG4gICAgY29uc29sZS5sb2cocmVxLnF1ZXJ5LmFjY291bnQpXG4gICAgY29uc3QgYmFuayA9IHJlcS5xdWVyeS5hY2NvdW50LmJhbmtfaWQ7XG4gICAgY29uc3QgYWNjb3VudCA9IHJlcS5xdWVyeS5hY2NvdW50LmJhbmthY2NvdW50X2lkO1xuXG4gICAgY29uc3QgYW1vdW50ID0gcmVxLnF1ZXJ5LmFtb3VudDtcbiAgICBjb25zdCBtZW1vID0gcmVxLnF1ZXJ5Lm1lbW87XG4gICAgY29uc3QgcmVkaXIgPSByZXEucXVlcnkucmVkaXI7XG4gICAgXG4gICAgbGV0IHN0ciA9IFwiXCI7XG4gICAgaWYgKGJhbmsgJiYgYWNjb3VudCkge1xuICAgICAgICAvL+aqouafpemKgOihjOS7o+eivFxuICAgICAgICBsZXQgQmFua0NvZGUgPSBiYW5rLnNsaWNlKDAsIDMpO1xuICAgICAgICBpZiAoIWlzTmFOKEJhbmtDb2RlKSAmJiBCYW5rQ29kZSA+PSAxICYmIEJhbmtDb2RlLmxlbmd0aCA9PSAzKSB7XG5cbiAgICAgICAgICAgIC8v5qqi5p+l5biz6JmfXG4gICAgICAgICAgICBsZXQgQWNjTm8gPSBhY2NvdW50LnBhZFN0YXJ0KDE2LCAnMCcpO1xuICAgICAgICAgICAgaWYgKCFpc05hTihBY2NObykgJiYgQWNjTm8gPj0gMSAmJiBBY2NObyA8PSA5OTk5OTk5OTk5OTk5OTk5KSB7XG5cbiAgICAgICAgICAgICAgICAvL+eUoueUn1FSQ29kZee3qOeivOWtl+S4slxuICAgICAgICAgICAgICAgIGxldCBRU3RyaW5nID0gYFRXUVJQJTNBJTJGJTJGJHtCYW5rQ29kZX1OVFRyYW5zZmVyJTJGMTU4JTJGMDIlMkZWMSUzRkQ2JTNEJHtBY2NOb30lMjZENSUzRCR7QmFua0NvZGV9JTI2RDEwJTNEOTAxYDtcblxuICAgICAgICAgICAgICAgIC8v5qqi5p+l6YeR6aGNXG4gICAgICAgICAgICAgICAgaWYgKGFtb3VudCkge1xuICAgICAgICAgICAgICAgICAgICAvL1RXUGF56YeR6aGN5qC85byP5YyF5ZCr5YWp5L2N5bCP5pW477yM5omA5Lul5q2k6JmV5pW45a2X6KaB5LmY5LiKMTAwXG4gICAgICAgICAgICAgICAgICAgIGxldCBBbW91bnQgPSBhbW91bnQgKiAxMDA7XG4gICAgICAgICAgICAgICAgICAgIC8vVFdQYXnph5HpoY3pmZDliLbmnIDkvY4xLjAw5YWD77yM5pyA6auYOSw5OTksOTk5LjAw5YWDXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNOYU4oQW1vdW50KSAmJiBBbW91bnQgPD0gOTk5OTk5OTAwICYmIEFtb3VudCA+PSAxMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8v5pa857eo56K85a2X5Liy5LiK5Yqg5LiK6YeR6aGNXG4gICAgICAgICAgICAgICAgICAgICAgICBRU3RyaW5nICs9IGAlMjZEMSUzRCR7QW1vdW50fWA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvL+aqouafpeWCmeiou1xuICAgICAgICAgICAgICAgIGlmIChtZW1vKSB7XG4gICAgICAgICAgICAgICAgICAgIC8v5YKZ6Ki75LiK6ZmQ54K6MTnlrZflhYPvvIzotoXpgY7ogIXnnIHnlaXjgIJcbiAgICAgICAgICAgICAgICAgICAgbGV0IE1lbW8gPSBtZW1vLnNsaWNlKDAsIDE5KTtcbiAgICAgICAgICAgICAgICAgICAgLy/mlrznt6jnorzlrZfkuLLkuIrliqDkuIrlgpnoqLtcbiAgICAgICAgICAgICAgICAgICAgUVN0cmluZyArPSBgJTI2RDklM0Qke01lbW99YDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvL+izh+aWmeaqouaguOWujOaIkO+8jOmhr+ekulFSQ29kZVxuICAgICAgICAgICAgICAgIGlmIChyZWRpcikge1xuICAgICAgICAgICAgICAgICAgICBsZXQgUGl4ZWwgPSByZWRpcjtcbiAgICAgICAgICAgICAgICAgICAgLy9Hb29nbGUgQVBJ55Si55Sf55qEUVIgQ29kZeWDj+e0oOWkp+Wwj+mgiOS7i+aWvDk5fjU0N+S5i+mWk1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKFBpeGVsKSAmJiBQaXhlbCA+PSA5OSAmJiBQaXhlbCA8PSA1NDcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciA9IGA8Y2VudGVyPjxpbWcgc3JjPSdodHRwczovL2NoYXJ0Lmdvb2dsZWFwaXMuY29tL2NoYXJ0P2NodD1xciZjaHM9JHtQaXhlbH14JHtQaXhlbH0mY2hsPSR7UVN0cmluZ30nIC8+PC9jZW50ZXI+YDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8v6aCQ6Kit5YOP57Sg54K6NDAweDQwMFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyID0gYDxjZW50ZXI+PGltZyBzcmM9J2h0dHBzOi8vY2hhcnQuZ29vZ2xlYXBpcy5jb20vY2hhcnQ/Y2h0PXFyJmNocz00MDB4NDAwJmNobD0ke1FTdHJpbmd9JyAvPjwvY2VudGVyPmA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvL+izh+aWmeaqouaguOWujOaIkO+8jOWbnuWCs0pTT04gU3RyaW5nXG4gICAgICAgICAgICAgICAgICAgIHN0ciA9IGB7XCJTdWNjZXNzXCI6XCIxXCIsIFwiU3RyaW5nXCI6XCIke2RlY29kZVVSSShRU3RyaW5nKX1cIiwgXCJRUlwiOlwiaHR0cHM6Ly9jaGFydC5nb29nbGVhcGlzLmNvbS9jaGFydD9jaHQ9cXImY2hzPTQwMHg0MDAmY2hsPSR7UVN0cmluZ31cIn1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy/lm57lgrPluLPomZ/kuI3lkIjms5XoqIrmga9cbiAgICAgICAgICAgICAgICBzdHIgPSBge1wiU3VjY2Vzc1wiOlwiMFwiLCBcIk1zZ1wiOlwiUGFyYW1ldGVycyBcXGBBY2NcXGAgbm90IGxlZ2FsXCJ9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8v5Zue5YKz6YqA6KGM5Luj56K85LiN5ZCI5rOV6KiK5oGvXG4gICAgICAgICAgICBzdHIgPSBge1wiU3VjY2Vzc1wiOlwiMFwiLCBcIk1zZ1wiOlwiUGFyYW1ldGVycyBcXGBCYW5rXFxgIG5vdCBsZWdhbFwifWA7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICAvL+mKgOihjOS7o+eivOaIluW4s+iZn+WAvOeCuuepuu+8jOWbnuWCs+mMr+iqpOioiuaBr1xuICAgICAgICBzdHIgPSBge1wiU3VjY2Vzc1wiOlwiMFwiLCBcIk1zZ1wiOlwiUGFyYW1ldGVycyBcXGBCYW5rXFxgIG9yIFxcYEFjY1xcYCBub3Qgc2V0XCJ9YDtcbiAgICB9XG4gICAgcmVzLnN0YXR1cygyMDApLnNlbmQoc3RyKTtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7OytDQUNBO0FBQUE7QUFBQTtBQURBQSxPQUFPLENBQUNDLFNBQVM7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","map":{"version":3,"names":["exports","GetQRCode","req","res","console","log","query","account","bank","bank_id","bankaccount_id","amount","memo","redir","str","BankCode","slice","isNaN","length","AccNo","padStart","QString","Amount","Memo","Pixel","decodeURI","status","send"],"sourceRoot":"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend/src/routes/","sources":["qrcode.js"],"sourcesContent":["exports.GetQRCode = async (req, res) =>  {\n    console.log(req.query.account)\n    const bank = req.query.account.bank_id;\n    const account = req.query.account.bankaccount_id;\n\n    const amount = req.query.amount;\n    const memo = req.query.memo;\n    const redir = req.query.redir;\n    \n    let str = \"\";\n    if (bank && account) {\n        //檢查銀行代碼\n        let BankCode = bank.slice(0, 3);\n        if (!isNaN(BankCode) && BankCode >= 1 && BankCode.length == 3) {\n\n            //檢查帳號\n            let AccNo = account.padStart(16, '0');\n            if (!isNaN(AccNo) && AccNo >= 1 && AccNo <= 9999999999999999) {\n\n                //產生QRCode編碼字串\n                let QString = `TWQRP%3A%2F%2F${BankCode}NTTransfer%2F158%2F02%2FV1%3FD6%3D${AccNo}%26D5%3D${BankCode}%26D10%3D901`;\n\n                //檢查金額\n                if (amount) {\n                    //TWPay金額格式包含兩位小數，所以此處數字要乘上100\n                    let Amount = amount * 100;\n                    //TWPay金額限制最低1.00元，最高9,999,999.00元\n                    if (!isNaN(Amount) && Amount <= 999999900 && Amount >= 100) {\n                        //於編碼字串上加上金額\n                        QString += `%26D1%3D${Amount}`;\n                    }\n                }\n\n                //檢查備註\n                if (memo) {\n                    //備註上限為19字元，超過者省略。\n                    let Memo = memo.slice(0, 19);\n                    //於編碼字串上加上備註\n                    QString += `%26D9%3D${Memo}`;\n                }\n\n                //資料檢核完成，顯示QRCode\n                if (redir) {\n                    let Pixel = redir;\n                    //Google API產生的QR Code像素大小須介於99~547之間\n                    if (!isNaN(Pixel) && Pixel >= 99 && Pixel <= 547) {\n                        str = `<center><img src='https://chart.googleapis.com/chart?cht=qr&chs=${Pixel}x${Pixel}&chl=${QString}' /></center>`;\n                    } else {\n                        //預設像素為400x400\n                        str = `<center><img src='https://chart.googleapis.com/chart?cht=qr&chs=400x400&chl=${QString}' /></center>`;\n                    }\n                } else {\n                    //資料檢核完成，回傳JSON String\n                    str = `{\"Success\":\"1\", \"String\":\"${decodeURI(QString)}\", \"QR\":\"https://chart.googleapis.com/chart?cht=qr&chs=400x400&chl=${QString}\"}`;\n                }\n            } else {\n                //回傳帳號不合法訊息\n                str = `{\"Success\":\"0\", \"Msg\":\"Parameters \\`Acc\\` not legal\"}`;\n            }\n        } else {\n            //回傳銀行代碼不合法訊息\n            str = `{\"Success\":\"0\", \"Msg\":\"Parameters \\`Bank\\` not legal\"}`;\n        }\n    } else {\n        //銀行代碼或帳號值為空，回傳錯誤訊息\n        str = `{\"Success\":\"0\", \"Msg\":\"Parameters \\`Bank\\` or \\`Acc\\` not set\"}`;\n    }\n    res.status(200).send(str);\n}\n"],"mappings":";;;+CACA;AAAA;AAAA;AADAA,OAAO,CAACC,SAAS;EAAA,sEAAG,iBAAOC,GAAG,EAAEC,GAAG;IAAA;IAAA;MAAA;QAAA;UAAA;YAC/BC,OAAO,CAACC,GAAG,CAACH,GAAG,CAACI,KAAK,CAACC,OAAO,CAAC;YACxBC,IAAI,GAAGN,GAAG,CAACI,KAAK,CAACC,OAAO,CAACE,OAAO;YAChCF,OAAO,GAAGL,GAAG,CAACI,KAAK,CAACC,OAAO,CAACG,cAAc;YAE1CC,MAAM,GAAGT,GAAG,CAACI,KAAK,CAACK,MAAM;YACzBC,IAAI,GAAGV,GAAG,CAACI,KAAK,CAACM,IAAI;YACrBC,KAAK,GAAGX,GAAG,CAACI,KAAK,CAACO,KAAK;YAEzBC,GAAG,GAAG,EAAE;YACZ,IAAIN,IAAI,IAAID,OAAO,EAAE;cACjB;cACIQ,QAAQ,GAAGP,IAAI,CAACQ,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;cAC/B,IAAI,CAACC,KAAK,CAACF,QAAQ,CAAC,IAAIA,QAAQ,IAAI,CAAC,IAAIA,QAAQ,CAACG,MAAM,IAAI,CAAC,EAAE;gBAE3D;gBACIC,KAAK,GAAGZ,OAAO,CAACa,QAAQ,CAAC,EAAE,EAAE,GAAG,CAAC;gBACrC,IAAI,CAACH,KAAK,CAACE,KAAK,CAAC,IAAIA,KAAK,IAAI,CAAC,IAAIA,KAAK,IAAI,gBAAgB,EAAE;kBAE1D;kBACIE,OAAO,2BAAoBN,QAAQ,+CAAqCI,KAAK,qBAAWJ,QAAQ,mBAEpG;kBACA,IAAIJ,MAAM,EAAE;oBACR;oBACIW,MAAM,GAAGX,MAAM,GAAG,GAAG,EACzB;oBACA,IAAI,CAACM,KAAK,CAACK,MAAM,CAAC,IAAIA,MAAM,IAAI,SAAS,IAAIA,MAAM,IAAI,GAAG,EAAE;sBACxD;sBACAD,OAAO,sBAAeC,MAAM,CAAE;oBAClC;kBACJ;;kBAEA;kBACA,IAAIV,IAAI,EAAE;oBACN;oBACIW,IAAI,GAAGX,IAAI,CAACI,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,EAC5B;oBACAK,OAAO,sBAAeE,IAAI,CAAE;kBAChC;;kBAEA;kBACA,IAAIV,KAAK,EAAE;oBACHW,KAAK,GAAGX,KAAK,EACjB;oBACA,IAAI,CAACI,KAAK,CAACO,KAAK,CAAC,IAAIA,KAAK,IAAI,EAAE,IAAIA,KAAK,IAAI,GAAG,EAAE;sBAC9CV,GAAG,6EAAsEU,KAAK,cAAIA,KAAK,kBAAQH,OAAO,kBAAe;oBACzH,CAAC,MAAM;sBACH;sBACAP,GAAG,yFAAkFO,OAAO,kBAAe;oBAC/G;kBACJ,CAAC,MAAM;oBACH;oBACAP,GAAG,8CAAgCW,SAAS,CAACJ,OAAO,CAAC,oFAAsEA,OAAO,QAAI;kBAC1I;gBACJ,CAAC,MAAM;kBACH;kBACAP,GAAG,gEAA0D;gBACjE;cACJ,CAAC,MAAM;gBACH;gBACAA,GAAG,iEAA2D;cAClE;YACJ,CAAC,MAAM;cACH;cACAA,GAAG,wEAAoE;YAC3E;YACAX,GAAG,CAACuB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACb,GAAG,CAAC;UAAC;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAC7B;EAAA;IAAA;EAAA;AAAA"}},"mtime":1672903622191},"{\"assumptions\":{},\"sourceRoot\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend\",\"filename\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend/src/db.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _dotenvDefaults = _interopRequireDefault(require(\"dotenv-defaults\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n_dotenvDefaults[\"default\"].config();\nvar _default = {\n  connect: function connect() {\n    // mongoose \n    _mongoose[\"default\"].connect(process.env.MONGO_URL, {\n      useNewUrlParser: true,\n      useUnifiedTopology: true\n    }).then(function (res) {\n      return console.log(\"mongo db connection created\");\n    });\n\n    // 開啟mongos DB\n    var db = _mongoose[\"default\"].connection;\n    db.on(\"error\", function (err) {\n      return console.log(err);\n    });\n    // db.once(\"open\", async () => {\n\n    // });\n  }\n};\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJjb25uZWN0IiwibW9uZ29vc2UiLCJwcm9jZXNzIiwiZW52IiwiTU9OR09fVVJMIiwidXNlTmV3VXJsUGFyc2VyIiwidXNlVW5pZmllZFRvcG9sb2d5IiwidGhlbiIsInJlcyIsImNvbnNvbGUiLCJsb2ciLCJkYiIsImNvbm5lY3Rpb24iLCJvbiIsImVyciJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2xhd3JlbmNldHNhaS9Eb2N1bWVudHMvR2l0SHViL05UVUJ1eU1FL2JhY2tlbmQvc3JjLyIsInNvdXJjZXMiOlsiZGIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmltcG9ydCBkb3RlbnYgZnJvbSBcImRvdGVudi1kZWZhdWx0c1wiOyBcblxuZG90ZW52LmNvbmZpZygpO1xuXG5leHBvcnQgZGVmYXVsdHtcbiAgICBjb25uZWN0OiAoKSA9PntcbiAgICAgICAgLy8gbW9uZ29vc2UgXG4gICAgICAgIG1vbmdvb3NlXG4gICAgICAgIC5jb25uZWN0KHByb2Nlc3MuZW52Lk1PTkdPX1VSTCwge1xuICAgICAgICAgICAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxuICAgICAgICAgICAgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlLFxuICAgICAgICB9KSBcbiAgICAgICAgLnRoZW4oKHJlcykgPT4gY29uc29sZS5sb2coXCJtb25nbyBkYiBjb25uZWN0aW9uIGNyZWF0ZWRcIikpO1xuXG4gICAgICAgIC8vIOmWi+WVn21vbmdvcyBEQlxuICAgICAgICBjb25zdCBkYiA9IG1vbmdvb3NlLmNvbm5lY3Rpb247XG4gICAgICAgIGRiLm9uKFwiZXJyb3JcIiwgKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XG4gICAgICAgIC8vIGRiLm9uY2UoXCJvcGVuXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICBcbiAgICAgICAgLy8gfSk7XG4gICAgfVxufVxuXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFBcUM7QUFFckNBLDBCQUFNLENBQUNDLE1BQU0sRUFBRTtBQUFDLGVBRUY7RUFDVkMsT0FBTyxFQUFFLG1CQUFLO0lBQ1Y7SUFDQUMsb0JBQVEsQ0FDUEQsT0FBTyxDQUFDRSxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsU0FBUyxFQUFFO01BQzVCQyxlQUFlLEVBQUUsSUFBSTtNQUNyQkMsa0JBQWtCLEVBQUU7SUFDeEIsQ0FBQyxDQUFDLENBQ0RDLElBQUksQ0FBQyxVQUFDQyxHQUFHO01BQUEsT0FBS0MsT0FBTyxDQUFDQyxHQUFHLENBQUMsNkJBQTZCLENBQUM7SUFBQSxFQUFDOztJQUUxRDtJQUNBLElBQU1DLEVBQUUsR0FBR1Ysb0JBQVEsQ0FBQ1csVUFBVTtJQUM5QkQsRUFBRSxDQUFDRSxFQUFFLENBQUMsT0FBTyxFQUFFLFVBQUNDLEdBQUc7TUFBQSxPQUFLTCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0ksR0FBRyxDQUFDO0lBQUEsRUFBQztJQUN6Qzs7SUFFQTtFQUNKO0FBQ0osQ0FBQztBQUFBIn0=","map":{"version":3,"names":["dotenv","config","connect","mongoose","process","env","MONGO_URL","useNewUrlParser","useUnifiedTopology","then","res","console","log","db","connection","on","err"],"sourceRoot":"/Users/lawrencetsai/Documents/GitHub/NTUBuyME/backend/src/","sources":["db.js"],"sourcesContent":["import mongoose from 'mongoose';\nimport dotenv from \"dotenv-defaults\"; \n\ndotenv.config();\n\nexport default{\n    connect: () =>{\n        // mongoose \n        mongoose\n        .connect(process.env.MONGO_URL, {\n            useNewUrlParser: true,\n            useUnifiedTopology: true,\n        }) \n        .then((res) => console.log(\"mongo db connection created\"));\n\n        // 開啟mongos DB\n        const db = mongoose.connection;\n        db.on(\"error\", (err) => console.log(err));\n        // db.once(\"open\", async () => {\n          \n        // });\n    }\n}\n\n"],"mappings":";;;;;;AAAA;AACA;AAAqC;AAErCA,0BAAM,CAACC,MAAM,EAAE;AAAC,eAEF;EACVC,OAAO,EAAE,mBAAK;IACV;IACAC,oBAAQ,CACPD,OAAO,CAACE,OAAO,CAACC,GAAG,CAACC,SAAS,EAAE;MAC5BC,eAAe,EAAE,IAAI;MACrBC,kBAAkB,EAAE;IACxB,CAAC,CAAC,CACDC,IAAI,CAAC,UAACC,GAAG;MAAA,OAAKC,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAC;IAAA,EAAC;;IAE1D;IACA,IAAMC,EAAE,GAAGV,oBAAQ,CAACW,UAAU;IAC9BD,EAAE,CAACE,EAAE,CAAC,OAAO,EAAE,UAACC,GAAG;MAAA,OAAKL,OAAO,CAACC,GAAG,CAACI,GAAG,CAAC;IAAA,EAAC;IACzC;;IAEA;EACJ;AACJ,CAAC;AAAA"}},"mtime":1672911127271},"{\"assumptions\":{},\"sourceRoot\":\"/Users/chunkuei/code/BuyMeClone/backend/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/chunkuei/code/BuyMeClone/backend\",\"filename\":\"/Users/chunkuei/code/BuyMeClone/backend/src/server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/chunkuei/code/BuyMeClone/backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.5:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _cors = _interopRequireDefault(require(\"cors\"));\nvar _routes = _interopRequireDefault(require(\"./routes\"));\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _ws = _interopRequireDefault(require(\"ws\"));\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\nvar _http = _interopRequireDefault(require(\"http\"));\nvar _wsConnect = _interopRequireDefault(require(\"./wsConnect\"));\nvar _crypto = require(\"crypto\");\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nrequire('dotenv').config();\nvar app = (0, _express[\"default\"])();\n\n// if (process.env.NODE_ENV === \"development\") {\n//     app.use(cors());\n// }\napp.use((0, _cors[\"default\"])());\napp.use(_express[\"default\"].json());\n// app.use(bodyParser.urlencoded({extended: true}));\napp.use(_bodyParser[\"default\"].json());\n(0, _routes[\"default\"])(app);\napp.use('/api', _routes[\"default\"]);\napp.use(function (req, res, next) {\n  res.header('Access-Control-Allow-Origin', 'http://localhost:3000');\n  res.header('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept');\n  res.header('Access-Control-Allow-Methods', 'POST, GET, PUT, DELETE, OPTIONS');\n  res.header('Access-Control-Allow-Credentials', 'true');\n  next();\n});\nif (process.env.NODE_ENV === 'production') {\n  var _dirname = _path[\"default\"].resolve();\n  app.use(_express[\"default\"][\"static\"](_path[\"default\"].join(_dirname, '../frontend', 'build')));\n  app.get('/*', function (req, res) {\n    res.sendFile(_path[\"default\"].join(_dirname, '../frontend', 'build', 'index.js'));\n  });\n}\nvar port = process.env.PORT || 4000;\napp.listen(port, function () {\n  return console.log(\"This Example app listening on port \".concat(port, \"!\"));\n});\nvar server = _http[\"default\"].createServer(app);\nvar wss = new _ws[\"default\"].Server({\n  server: server\n});\n_mongoose[\"default\"].connect(process.env.MONGO_URL, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true,\n  dbName: 'NTUBuyMe'\n}).then(function (res) {\n  wss.on('connection', function (ws) {\n    ws.box = '';\n    ws.id = (0, _crypto.randomUUID)();\n    ws.onmessage = _wsConnect[\"default\"].onMessage(wss, ws);\n    ws.on('error', function (err) {\n      console.warn(\"Client disconnected - reason: \".concat(err));\n    });\n  });\n});\nserver.listen(8080, function () {\n  console.log('listening on port 8080');\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwiYXBwIiwiZXhwcmVzcyIsInVzZSIsImNvcnMiLCJqc29uIiwiYm9keVBhcnNlciIsInJvdXRlcyIsInJlcSIsInJlcyIsIm5leHQiLCJoZWFkZXIiLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJfX2Rpcm5hbWUiLCJwYXRoIiwicmVzb2x2ZSIsImpvaW4iLCJnZXQiLCJzZW5kRmlsZSIsInBvcnQiLCJQT1JUIiwibGlzdGVuIiwiY29uc29sZSIsImxvZyIsInNlcnZlciIsImh0dHAiLCJjcmVhdGVTZXJ2ZXIiLCJ3c3MiLCJXZWJTb2NrZXQiLCJTZXJ2ZXIiLCJtb25nb29zZSIsImNvbm5lY3QiLCJNT05HT19VUkwiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJkYk5hbWUiLCJ0aGVuIiwib24iLCJ3cyIsImJveCIsImlkIiwicmFuZG9tVVVJRCIsIm9ubWVzc2FnZSIsIndzQ29ubmVjdCIsIm9uTWVzc2FnZSIsImVyciIsIndhcm4iXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9jaHVua3VlaS9jb2RlL0J1eU1lQ2xvbmUvYmFja2VuZC9zcmMvIiwic291cmNlcyI6WyJzZXJ2ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcydcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnXG5pbXBvcnQgcm91dGVzIGZyb20gJy4vcm91dGVzJ1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJ1xuaW1wb3J0IFdlYlNvY2tldCBmcm9tICd3cydcbmltcG9ydCBib2R5UGFyc2VyIGZyb20gJ2JvZHktcGFyc2VyJ1xuaW1wb3J0IGh0dHAgZnJvbSAnaHR0cCdcbmltcG9ydCB3c0Nvbm5lY3QgZnJvbSAnLi93c0Nvbm5lY3QnXG5pbXBvcnQgeyByYW5kb21VVUlEIH0gZnJvbSAnY3J5cHRvJ1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcblxucmVxdWlyZSgnZG90ZW52JykuY29uZmlnKClcblxuY29uc3QgYXBwID0gZXhwcmVzcygpXG5cbi8vIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJkZXZlbG9wbWVudFwiKSB7XG4vLyAgICAgYXBwLnVzZShjb3JzKCkpO1xuLy8gfVxuYXBwLnVzZShjb3JzKCkpXG5cbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpXG4vLyBhcHAudXNlKGJvZHlQYXJzZXIudXJsZW5jb2RlZCh7ZXh0ZW5kZWQ6IHRydWV9KSk7XG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKVxuXG5yb3V0ZXMoYXBwKVxuYXBwLnVzZSgnL2FwaScsIHJvdXRlcylcbmFwcC51c2UoZnVuY3Rpb24gKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJywgJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCcpXG4gICAgcmVzLmhlYWRlcihcbiAgICAgICAgJ0FjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnMnLFxuICAgICAgICAnT3JpZ2luLCBYLVJlcXVlc3RlZC1XaXRoLCBDb250ZW50LVR5cGUsIEFjY2VwdCdcbiAgICApXG4gICAgcmVzLmhlYWRlcihcbiAgICAgICAgJ0FjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHMnLFxuICAgICAgICAnUE9TVCwgR0VULCBQVVQsIERFTEVURSwgT1BUSU9OUydcbiAgICApXG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctQ3JlZGVudGlhbHMnLCAndHJ1ZScpXG4gICAgbmV4dCgpXG59KVxuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICAgIGNvbnN0IF9fZGlybmFtZSA9IHBhdGgucmVzb2x2ZSgpXG4gICAgYXBwLnVzZShleHByZXNzLnN0YXRpYyhwYXRoLmpvaW4oX19kaXJuYW1lLCAnLi4vZnJvbnRlbmQnLCAnYnVpbGQnKSkpXG4gICAgYXBwLmdldCgnLyonLCBmdW5jdGlvbiAocmVxLCByZXMpIHtcbiAgICAgICAgcmVzLnNlbmRGaWxlKHBhdGguam9pbihfX2Rpcm5hbWUsICcuLi9mcm9udGVuZCcsICdidWlsZCcsICdpbmRleC5qcycpKVxuICAgIH0pXG59XG5cbmNvbnN0IHBvcnQgPSBwcm9jZXNzLmVudi5QT1JUIHx8IDQwMDBcbmFwcC5saXN0ZW4ocG9ydCwgKCkgPT5cbiAgICBjb25zb2xlLmxvZyhgVGhpcyBFeGFtcGxlIGFwcCBsaXN0ZW5pbmcgb24gcG9ydCAke3BvcnR9IWApXG4pXG5cbmNvbnN0IHNlcnZlciA9IGh0dHAuY3JlYXRlU2VydmVyKGFwcClcbmNvbnN0IHdzcyA9IG5ldyBXZWJTb2NrZXQuU2VydmVyKHsgc2VydmVyIH0pXG5cbm1vbmdvb3NlXG4gICAgLmNvbm5lY3QocHJvY2Vzcy5lbnYuTU9OR09fVVJMLCB7XG4gICAgICAgIHVzZU5ld1VybFBhcnNlcjogdHJ1ZSxcbiAgICAgICAgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlLFxuICAgICAgICBkYk5hbWU6ICdOVFVCdXlNZScsXG4gICAgfSlcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIHdzcy5vbignY29ubmVjdGlvbicsICh3cykgPT4ge1xuICAgICAgICAgICAgd3MuYm94ID0gJydcbiAgICAgICAgICAgIHdzLmlkID0gcmFuZG9tVVVJRCgpXG4gICAgICAgICAgICB3cy5vbm1lc3NhZ2UgPSB3c0Nvbm5lY3Qub25NZXNzYWdlKHdzcywgd3MpXG4gICAgICAgICAgICB3cy5vbignZXJyb3InLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBDbGllbnQgZGlzY29ubmVjdGVkIC0gcmVhc29uOiAke2Vycn1gKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9KVxuXG5zZXJ2ZXIubGlzdGVuKDgwODAsICgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnbGlzdGVuaW5nIG9uIHBvcnQgODA4MCcpXG59KVxuIl0sIm1hcHBpbmdzIjoiOztBQUFB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","map":{"version":3,"names":["require","config","app","express","use","cors","json","bodyParser","routes","req","res","next","header","process","env","NODE_ENV","__dirname","path","resolve","join","get","sendFile","port","PORT","listen","console","log","server","http","createServer","wss","WebSocket","Server","mongoose","connect","MONGO_URL","useNewUrlParser","useUnifiedTopology","dbName","then","on","ws","box","id","randomUUID","onmessage","wsConnect","onMessage","err","warn"],"sourceRoot":"/Users/chunkuei/code/BuyMeClone/backend/src/","sources":["server.js"],"sourcesContent":["import express from 'express'\nimport cors from 'cors'\nimport routes from './routes'\nimport mongoose from 'mongoose'\nimport WebSocket from 'ws'\nimport bodyParser from 'body-parser'\nimport http from 'http'\nimport wsConnect from './wsConnect'\nimport { randomUUID } from 'crypto'\nimport path from 'path'\n\nrequire('dotenv').config()\n\nconst app = express()\n\n// if (process.env.NODE_ENV === \"development\") {\n//     app.use(cors());\n// }\napp.use(cors())\n\napp.use(express.json())\n// app.use(bodyParser.urlencoded({extended: true}));\napp.use(bodyParser.json())\n\nroutes(app)\napp.use('/api', routes)\napp.use(function (req, res, next) {\n    res.header('Access-Control-Allow-Origin', 'http://localhost:3000')\n    res.header(\n        'Access-Control-Allow-Headers',\n        'Origin, X-Requested-With, Content-Type, Accept'\n    )\n    res.header(\n        'Access-Control-Allow-Methods',\n        'POST, GET, PUT, DELETE, OPTIONS'\n    )\n    res.header('Access-Control-Allow-Credentials', 'true')\n    next()\n})\n\nif (process.env.NODE_ENV === 'production') {\n    const __dirname = path.resolve()\n    app.use(express.static(path.join(__dirname, '../frontend', 'build')))\n    app.get('/*', function (req, res) {\n        res.sendFile(path.join(__dirname, '../frontend', 'build', 'index.js'))\n    })\n}\n\nconst port = process.env.PORT || 4000\napp.listen(port, () =>\n    console.log(`This Example app listening on port ${port}!`)\n)\n\nconst server = http.createServer(app)\nconst wss = new WebSocket.Server({ server })\n\nmongoose\n    .connect(process.env.MONGO_URL, {\n        useNewUrlParser: true,\n        useUnifiedTopology: true,\n        dbName: 'NTUBuyMe',\n    })\n    .then((res) => {\n        wss.on('connection', (ws) => {\n            ws.box = ''\n            ws.id = randomUUID()\n            ws.onmessage = wsConnect.onMessage(wss, ws)\n            ws.on('error', (err) => {\n                console.warn(`Client disconnected - reason: ${err}`)\n            })\n        })\n    })\n\nserver.listen(8080, () => {\n    console.log('listening on port 8080')\n})\n"],"mappings":"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"}},"mtime":1672983804122},"{\"assumptions\":{},\"sourceRoot\":\"/Users/chunkuei/code/BuyMeClone/backend/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/chunkuei/code/BuyMeClone/backend\",\"filename\":\"/Users/chunkuei/code/BuyMeClone/backend/src/routes/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/chunkuei/code/BuyMeClone/backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _login = _interopRequireDefault(require(\"./login\"));\nvar _register = _interopRequireDefault(require(\"./register\"));\nvar _account = _interopRequireDefault(require(\"./account\"));\nvar _transfer = _interopRequireDefault(require(\"./transfer\"));\nvar _task = _interopRequireDefault(require(\"./task\"));\nvar _chat = _interopRequireDefault(require(\"./chat\"));\nvar _qrcode = _interopRequireDefault(require(\"./qrcode\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nvar wrap = function wrap(fn) {\n  return function () {\n    return fn.apply(void 0, arguments)[\"catch\"](arguments.length <= 2 ? undefined : arguments[2]);\n  };\n};\nfunction main(app) {\n  app.post('/api/login', wrap(_login[\"default\"].UserLogin));\n  app.post('/api/register', wrap(_register[\"default\"].UserRegister));\n  app.get('/api/account', wrap(_account[\"default\"].GetUserAccount));\n  app.post('/api/account', wrap(_account[\"default\"].EditUserAccount));\n  app.post('/api/changePassword', wrap(_account[\"default\"].ChangePassword));\n  app.get('/api/transfer', wrap(_transfer[\"default\"].GetTransferAccount));\n  app.get('/api/getReceiverId', wrap(_transfer[\"default\"].GetReceiverId));\n  app.get('/api/allTasksByDueStart', wrap(_task[\"default\"].FilterTasksByDueStart));\n  app.get('/api/allTasksByFee', wrap(_task[\"default\"].FilterTasksByFee));\n  app.post('/api/delete', wrap(_task[\"default\"].DeleteAllTasks));\n  app.get('/api/taskNum', wrap(_task[\"default\"].GetTaskNum));\n  app.get('/api/myTasks', wrap(_task[\"default\"].GetMyTasks));\n  app.post('/api/addTasks', wrap(_task[\"default\"].AddDummyTasks));\n  app.get('/api/taskNum', wrap(_task[\"default\"].GetTaskNum));\n  app.get('/api/myAddedTasks', wrap(_task[\"default\"].GetMyAddedTasks));\n  app.get('/api/myAcceptedTasks', wrap(_task[\"default\"].GetMyAcceptedTasks));\n  app.post('/api/createTask', wrap(_task[\"default\"].CreateTask));\n  app.post('/api/acceptTask', wrap(_task[\"default\"].AcceptTasks));\n  app.get('/api/getChat', wrap(_chat[\"default\"].GetChat));\n  app.post('/api/fulfillOrder', wrap(_chat[\"default\"].FulfillOrder));\n  app.get('/api/qrcode', wrap(_qrcode[\"default\"].GetQRCode));\n}\nvar _default = main;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ3cmFwIiwiZm4iLCJtYWluIiwiYXBwIiwicG9zdCIsImxvZ2luUm91dGUiLCJVc2VyTG9naW4iLCJyZWdpc3RlclJvdXRlIiwiVXNlclJlZ2lzdGVyIiwiZ2V0IiwiYWNjb3VudFJvdXRlIiwiR2V0VXNlckFjY291bnQiLCJFZGl0VXNlckFjY291bnQiLCJDaGFuZ2VQYXNzd29yZCIsInRyYW5zZmVyUm91dGUiLCJHZXRUcmFuc2ZlckFjY291bnQiLCJHZXRSZWNlaXZlcklkIiwiYnV5bWVSb3V0ZSIsIkZpbHRlclRhc2tzQnlEdWVTdGFydCIsIkZpbHRlclRhc2tzQnlGZWUiLCJEZWxldGVBbGxUYXNrcyIsIkdldFRhc2tOdW0iLCJHZXRNeVRhc2tzIiwiQWRkRHVtbXlUYXNrcyIsIkdldE15QWRkZWRUYXNrcyIsIkdldE15QWNjZXB0ZWRUYXNrcyIsIkNyZWF0ZVRhc2siLCJBY2NlcHRUYXNrcyIsImNoYXRSb3V0ZSIsIkdldENoYXQiLCJGdWxmaWxsT3JkZXIiLCJxckNvZGVSb3V0ZSIsIkdldFFSQ29kZSJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2NodW5rdWVpL2NvZGUvQnV5TWVDbG9uZS9iYWNrZW5kL3NyYy9yb3V0ZXMvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbG9naW5Sb3V0ZSBmcm9tICcuL2xvZ2luJ1xuaW1wb3J0IHJlZ2lzdGVyUm91dGUgZnJvbSAnLi9yZWdpc3RlcidcbmltcG9ydCBhY2NvdW50Um91dGUgZnJvbSAnLi9hY2NvdW50J1xuaW1wb3J0IHRyYW5zZmVyUm91dGUgZnJvbSAnLi90cmFuc2ZlcidcbmltcG9ydCBidXltZVJvdXRlIGZyb20gJy4vdGFzaydcbmltcG9ydCBjaGF0Um91dGUgZnJvbSAnLi9jaGF0J1xuaW1wb3J0IHFyQ29kZVJvdXRlIGZyb20gJy4vcXJjb2RlJ1xuXG5jb25zdCB3cmFwID1cbiAgICAoZm4pID0+XG4gICAgKC4uLmFyZ3MpID0+XG4gICAgICAgIGZuKC4uLmFyZ3MpLmNhdGNoKGFyZ3NbMl0pXG5cbmZ1bmN0aW9uIG1haW4oYXBwKSB7XG4gICAgYXBwLnBvc3QoJy9hcGkvbG9naW4nLCB3cmFwKGxvZ2luUm91dGUuVXNlckxvZ2luKSlcbiAgICBhcHAucG9zdCgnL2FwaS9yZWdpc3RlcicsIHdyYXAocmVnaXN0ZXJSb3V0ZS5Vc2VyUmVnaXN0ZXIpKVxuICAgIGFwcC5nZXQoJy9hcGkvYWNjb3VudCcsIHdyYXAoYWNjb3VudFJvdXRlLkdldFVzZXJBY2NvdW50KSlcbiAgICBhcHAucG9zdCgnL2FwaS9hY2NvdW50Jywgd3JhcChhY2NvdW50Um91dGUuRWRpdFVzZXJBY2NvdW50KSlcbiAgICBhcHAucG9zdCgnL2FwaS9jaGFuZ2VQYXNzd29yZCcsIHdyYXAoYWNjb3VudFJvdXRlLkNoYW5nZVBhc3N3b3JkKSlcbiAgICBhcHAuZ2V0KCcvYXBpL3RyYW5zZmVyJywgd3JhcCh0cmFuc2ZlclJvdXRlLkdldFRyYW5zZmVyQWNjb3VudCkpXG4gICAgYXBwLmdldCgnL2FwaS9nZXRSZWNlaXZlcklkJywgd3JhcCh0cmFuc2ZlclJvdXRlLkdldFJlY2VpdmVySWQpKVxuICAgIGFwcC5nZXQoJy9hcGkvYWxsVGFza3NCeUR1ZVN0YXJ0Jywgd3JhcChidXltZVJvdXRlLkZpbHRlclRhc2tzQnlEdWVTdGFydCkpXG4gICAgYXBwLmdldCgnL2FwaS9hbGxUYXNrc0J5RmVlJywgd3JhcChidXltZVJvdXRlLkZpbHRlclRhc2tzQnlGZWUpKVxuICAgIGFwcC5wb3N0KCcvYXBpL2RlbGV0ZScsIHdyYXAoYnV5bWVSb3V0ZS5EZWxldGVBbGxUYXNrcykpXG4gICAgYXBwLmdldCgnL2FwaS90YXNrTnVtJywgd3JhcChidXltZVJvdXRlLkdldFRhc2tOdW0pKVxuICAgIGFwcC5nZXQoJy9hcGkvbXlUYXNrcycsIHdyYXAoYnV5bWVSb3V0ZS5HZXRNeVRhc2tzKSlcbiAgICBhcHAucG9zdCgnL2FwaS9hZGRUYXNrcycsIHdyYXAoYnV5bWVSb3V0ZS5BZGREdW1teVRhc2tzKSlcbiAgICBhcHAuZ2V0KCcvYXBpL3Rhc2tOdW0nLCB3cmFwKGJ1eW1lUm91dGUuR2V0VGFza051bSkpXG4gICAgYXBwLmdldCgnL2FwaS9teUFkZGVkVGFza3MnLCB3cmFwKGJ1eW1lUm91dGUuR2V0TXlBZGRlZFRhc2tzKSlcbiAgICBhcHAuZ2V0KCcvYXBpL215QWNjZXB0ZWRUYXNrcycsIHdyYXAoYnV5bWVSb3V0ZS5HZXRNeUFjY2VwdGVkVGFza3MpKVxuICAgIGFwcC5wb3N0KCcvYXBpL2NyZWF0ZVRhc2snLCB3cmFwKGJ1eW1lUm91dGUuQ3JlYXRlVGFzaykpXG4gICAgYXBwLnBvc3QoJy9hcGkvYWNjZXB0VGFzaycsIHdyYXAoYnV5bWVSb3V0ZS5BY2NlcHRUYXNrcykpXG4gICAgYXBwLmdldCgnL2FwaS9nZXRDaGF0Jywgd3JhcChjaGF0Um91dGUuR2V0Q2hhdCkpXG4gICAgYXBwLnBvc3QoJy9hcGkvZnVsZmlsbE9yZGVyJywgd3JhcChjaGF0Um91dGUuRnVsZmlsbE9yZGVyKSlcbiAgICBhcHAuZ2V0KCcvYXBpL3FyY29kZScsIHdyYXAocXJDb2RlUm91dGUuR2V0UVJDb2RlKSlcbn1cblxuZXhwb3J0IGRlZmF1bHQgbWFpblxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFrQztBQUVsQyxJQUFNQSxJQUFJLEdBQ04sU0FERUEsSUFBSSxDQUNMQyxFQUFFO0VBQUEsT0FDSDtJQUFBLE9BQ0lBLEVBQUUseUJBQVMsU0FBTSxrREFBUztFQUFBO0FBQUE7QUFFbEMsU0FBU0MsSUFBSSxDQUFDQyxHQUFHLEVBQUU7RUFDZkEsR0FBRyxDQUFDQyxJQUFJLENBQUMsWUFBWSxFQUFFSixJQUFJLENBQUNLLGlCQUFVLENBQUNDLFNBQVMsQ0FBQyxDQUFDO0VBQ2xESCxHQUFHLENBQUNDLElBQUksQ0FBQyxlQUFlLEVBQUVKLElBQUksQ0FBQ08sb0JBQWEsQ0FBQ0MsWUFBWSxDQUFDLENBQUM7RUFDM0RMLEdBQUcsQ0FBQ00sR0FBRyxD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","map":{"version":3,"names":["wrap","fn","main","app","post","loginRoute","UserLogin","registerRoute","UserRegister","get","accountRoute","GetUserAccount","EditUserAccount","ChangePassword","transferRoute","GetTransferAccount","GetReceiverId","buymeRoute","FilterTasksByDueStart","FilterTasksByFee","DeleteAllTasks","GetTaskNum","GetMyTasks","AddDummyTasks","GetMyAddedTasks","GetMyAcceptedTasks","CreateTask","AcceptTasks","chatRoute","GetChat","FulfillOrder","qrCodeRoute","GetQRCode"],"sourceRoot":"/Users/chunkuei/code/BuyMeClone/backend/src/routes/","sources":["index.js"],"sourcesContent":["import loginRoute from './login'\nimport registerRoute from './register'\nimport accountRoute from './account'\nimport transferRoute from './transfer'\nimport buymeRoute from './task'\nimport chatRoute from './chat'\nimport qrCodeRoute from './qrcode'\n\nconst wrap =\n    (fn) =>\n    (...args) =>\n        fn(...args).catch(args[2])\n\nfunction main(app) {\n    app.post('/api/login', wrap(loginRoute.UserLogin))\n    app.post('/api/register', wrap(registerRoute.UserRegister))\n    app.get('/api/account', wrap(accountRoute.GetUserAccount))\n    app.post('/api/account', wrap(accountRoute.EditUserAccount))\n    app.post('/api/changePassword', wrap(accountRoute.ChangePassword))\n    app.get('/api/transfer', wrap(transferRoute.GetTransferAccount))\n    app.get('/api/getReceiverId', wrap(transferRoute.GetReceiverId))\n    app.get('/api/allTasksByDueStart', wrap(buymeRoute.FilterTasksByDueStart))\n    app.get('/api/allTasksByFee', wrap(buymeRoute.FilterTasksByFee))\n    app.post('/api/delete', wrap(buymeRoute.DeleteAllTasks))\n    app.get('/api/taskNum', wrap(buymeRoute.GetTaskNum))\n    app.get('/api/myTasks', wrap(buymeRoute.GetMyTasks))\n    app.post('/api/addTasks', wrap(buymeRoute.AddDummyTasks))\n    app.get('/api/taskNum', wrap(buymeRoute.GetTaskNum))\n    app.get('/api/myAddedTasks', wrap(buymeRoute.GetMyAddedTasks))\n    app.get('/api/myAcceptedTasks', wrap(buymeRoute.GetMyAcceptedTasks))\n    app.post('/api/createTask', wrap(buymeRoute.CreateTask))\n    app.post('/api/acceptTask', wrap(buymeRoute.AcceptTasks))\n    app.get('/api/getChat', wrap(chatRoute.GetChat))\n    app.post('/api/fulfillOrder', wrap(chatRoute.FulfillOrder))\n    app.get('/api/qrcode', wrap(qrCodeRoute.GetQRCode))\n}\n\nexport default main\n"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAkC;AAElC,IAAMA,IAAI,GACN,SADEA,IAAI,CACLC,EAAE;EAAA,OACH;IAAA,OACIA,EAAE,yBAAS,SAAM,kDAAS;EAAA;AAAA;AAElC,SAASC,IAAI,CAACC,GAAG,EAAE;EACfA,GAAG,CAACC,IAAI,CAAC,YAAY,EAAEJ,IAAI,CAACK,iBAAU,CAACC,SAAS,CAAC,CAAC;EAClDH,GAAG,CAACC,IAAI,CAAC,eAAe,EAAEJ,IAAI,CAACO,oBAAa,CAACC,YAAY,CAAC,CAAC;EAC3DL,GAAG,CAACM,GAAG,CAAC,cAAc,EAAET,IAAI,CAACU,mBAAY,CAACC,cAAc,CAAC,CAAC;EAC1DR,GAAG,CAACC,IAAI,CAAC,cAAc,EAAEJ,IAAI,CAACU,mBAAY,CAACE,eAAe,CAAC,CAAC;EAC5DT,GAAG,CAACC,IAAI,CAAC,qBAAqB,EAAEJ,IAAI,CAACU,mBAAY,CAACG,cAAc,CAAC,CAAC;EAClEV,GAAG,CAACM,GAAG,CAAC,eAAe,EAAET,IAAI,CAACc,oBAAa,CAACC,kBAAkB,CAAC,CAAC;EAChEZ,GAAG,CAACM,GAAG,CAAC,oBAAoB,EAAET,IAAI,CAACc,oBAAa,CAACE,aAAa,CAAC,CAAC;EAChEb,GAAG,CAACM,GAAG,CAAC,yBAAyB,EAAET,IAAI,CAACiB,gBAAU,CAACC,qBAAqB,CAAC,CAAC;EAC1Ef,GAAG,CAACM,GAAG,CAAC,oBAAoB,EAAET,IAAI,CAACiB,gBAAU,CAACE,gBAAgB,CAAC,CAAC;EAChEhB,GAAG,CAACC,IAAI,CAAC,aAAa,EAAEJ,IAAI,CAACiB,gBAAU,CAACG,cAAc,CAAC,CAAC;EACxDjB,GAAG,CAACM,GAAG,CAAC,cAAc,EAAET,IAAI,CAACiB,gBAAU,CAACI,UAAU,CAAC,CAAC;EACpDlB,GAAG,CAACM,GAAG,CAAC,cAAc,EAAET,IAAI,CAACiB,gBAAU,CAACK,UAAU,CAAC,CAAC;EACpDnB,GAAG,CAACC,IAAI,CAAC,eAAe,EAAEJ,IAAI,CAACiB,gBAAU,CAACM,aAAa,CAAC,CAAC;EACzDpB,GAAG,CAACM,GAAG,CAAC,cAAc,EAAET,IAAI,CAACiB,gBAAU,CAACI,UAAU,CAAC,CAAC;EACpDlB,GAAG,CAACM,GAAG,CAAC,mBAAmB,EAAET,IAAI,CAACiB,gBAAU,CAACO,eAAe,CAAC,CAAC;EAC9DrB,GAAG,CAACM,GAAG,CAAC,sBAAsB,EAAET,IAAI,CAACiB,gBAAU,CAACQ,kBAAkB,CAAC,CAAC;EACpEtB,GAAG,CAACC,IAAI,CAAC,iBAAiB,EAAEJ,IAAI,CAACiB,gBAAU,CAACS,UAAU,CAAC,CAAC;EACxDvB,GAAG,CAACC,IAAI,CAAC,iBAAiB,EAAEJ,IAAI,CAACiB,gBAAU,CAACU,WAAW,CAAC,CAAC;EACzDxB,GAAG,CAACM,GAAG,CAAC,cAAc,EAAET,IAAI,CAAC4B,gBAAS,CAACC,OAAO,CAAC,CAAC;EAChD1B,GAAG,CAACC,IAAI,CAAC,mBAAmB,EAAEJ,IAAI,CAAC4B,gBAAS,CAACE,YAAY,CAAC,CAAC;EAC3D3B,GAAG,CAACM,GAAG,CAAC,aAAa,EAAET,IAAI,CAAC+B,kBAAW,CAACC,SAAS,CAAC,CAAC;AACvD;AAAC,eAEc9B,IAAI;AAAA"}},"mtime":1672983804121},"{\"assumptions\":{},\"sourceRoot\":\"/Users/chunkuei/code/BuyMeClone/backend/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/chunkuei/code/BuyMeClone/backend\",\"filename\":\"/Users/chunkuei/code/BuyMeClone/backend/src/routes/login.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/chunkuei/code/BuyMeClone/backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.5:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nvar _BuyMe = require(\"../models/BuyMe\");\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nexports.UserLogin = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var userId, user;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            userId = req.body.userId;\n            _context.next = 3;\n            return _BuyMe.UserModel.findOne({\n              user_id: userId\n            });\n          case 3:\n            user = _context.sent;\n            if (!user) {\n              res.status(400).send({\n                message: 'error',\n                content: 'User does not exist!'\n              });\n            } else {\n              res.status(200).send({\n                message: 'success',\n                content: {\n                  password: user.password,\n                  name: user.name,\n                  id: user.user_id\n                }\n              });\n            }\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHBvcnRzIiwiVXNlckxvZ2luIiwicmVxIiwicmVzIiwidXNlcklkIiwiYm9keSIsIlVzZXJNb2RlbCIsImZpbmRPbmUiLCJ1c2VyX2lkIiwidXNlciIsInN0YXR1cyIsInNlbmQiLCJtZXNzYWdlIiwiY29udGVudCIsInBhc3N3b3JkIiwibmFtZSIsImlkIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvY2h1bmt1ZWkvY29kZS9CdXlNZUNsb25lL2JhY2tlbmQvc3JjL3JvdXRlcy8iLCJzb3VyY2VzIjpbImxvZ2luLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFVzZXJNb2RlbCB9IGZyb20gJy4uL21vZGVscy9CdXlNZSdcblxuZXhwb3J0cy5Vc2VyTG9naW4gPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB7IHVzZXJJZCB9ID0gcmVxLmJvZHlcblxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyTW9kZWwuZmluZE9uZSh7IHVzZXJfaWQ6IHVzZXJJZCB9KVxuXG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5zZW5kKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdlcnJvcicsXG4gICAgICAgICAgICBjb250ZW50OiAnVXNlciBkb2VzIG5vdCBleGlzdCEnLFxuICAgICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdzdWNjZXNzJyxcbiAgICAgICAgICAgIGNvbnRlbnQ6IHtcbiAgICAgICAgICAgICAgICBwYXNzd29yZDogdXNlci5wYXNzd29yZCxcbiAgICAgICAgICAgICAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgICAgICAgICAgICAgaWQ6IHVzZXIudXNlcl9pZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pXG4gICAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7QUFBQTtBQUEyQywrQ0FDM0M7QUFBQTtBQUFBO0FBQ0FBLE9BQU8sQ0FBQ0MsU0FBUztFQUFBLHNFQUFHLGlCQUFPQyxHQUFHLEVBQUVDLEdBQUc7SUFBQTtJQUFBO01BQUE7UUFBQTtVQUFBO1lBQ3ZCQyxNQUFNLEdBQUtGLEdBQUcsQ0FBQ0csSUFBSSxDQUFuQkQsTUFBTTtZQUFBO1lBQUEsT0FFS0UsZ0JBQVMsQ0FBQ0MsT0FBTyxDQUFDO2NBQUVDLE9BQU8sRUFBRUo7WUFBTyxDQUFDLENBQUM7VUFBQTtZQUFuREssSUFBSTtZQUVWLElBQUksQ0FBQ0EsSUFBSSxFQUFFO2NBQ1BOLEdBQUcsQ0FBQ08sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7Z0JBQ2pCQyxPQUFPLEVBQUUsT0FBTztnQkFDaEJDLE9BQU8sRUFBRTtjQUNiLENBQUMsQ0FBQztZQUNOLENBQUMsTUFBTTtjQUNIVixHQUFHLENBQUNPLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO2dCQUNqQkMsT0FBTyxFQUFFLFNBQVM7Z0JBQ2xCQyxPQUFPLEVBQUU7a0JBQ0xDLFFBQVEsRUFBRUwsSUFBSSxDQUFDSyxRQUFRO2tCQUN2QkMsSUFBSSxFQUFFTixJQUFJLENBQUNNLElBQUk7a0JBQ2ZDLEVBQUUsRUFBRVAsSUFBSSxDQUFDRDtnQkFDYjtjQUNKLENBQUMsQ0FBQztZQUNOO1VBQUM7VUFBQTtZQUFBO1FBQUE7TUFBQTtJQUFBO0VBQUEsQ0FDSjtFQUFBO0lBQUE7RUFBQTtBQUFBIn0=","map":{"version":3,"names":["exports","UserLogin","req","res","userId","body","UserModel","findOne","user_id","user","status","send","message","content","password","name","id"],"sourceRoot":"/Users/chunkuei/code/BuyMeClone/backend/src/routes/","sources":["login.js"],"sourcesContent":["import { UserModel } from '../models/BuyMe'\n\nexports.UserLogin = async (req, res) => {\n    const { userId } = req.body\n\n    const user = await UserModel.findOne({ user_id: userId })\n\n    if (!user) {\n        res.status(400).send({\n            message: 'error',\n            content: 'User does not exist!',\n        })\n    } else {\n        res.status(200).send({\n            message: 'success',\n            content: {\n                password: user.password,\n                name: user.name,\n                id: user.user_id,\n            },\n        })\n    }\n}\n"],"mappings":";;;AAAA;AAA2C,+CAC3C;AAAA;AAAA;AACAA,OAAO,CAACC,SAAS;EAAA,sEAAG,iBAAOC,GAAG,EAAEC,GAAG;IAAA;IAAA;MAAA;QAAA;UAAA;YACvBC,MAAM,GAAKF,GAAG,CAACG,IAAI,CAAnBD,MAAM;YAAA;YAAA,OAEKE,gBAAS,CAACC,OAAO,CAAC;cAAEC,OAAO,EAAEJ;YAAO,CAAC,CAAC;UAAA;YAAnDK,IAAI;YAEV,IAAI,CAACA,IAAI,EAAE;cACPN,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;gBACjBC,OAAO,EAAE,OAAO;gBAChBC,OAAO,EAAE;cACb,CAAC,CAAC;YACN,CAAC,MAAM;cACHV,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;gBACjBC,OAAO,EAAE,SAAS;gBAClBC,OAAO,EAAE;kBACLC,QAAQ,EAAEL,IAAI,CAACK,QAAQ;kBACvBC,IAAI,EAAEN,IAAI,CAACM,IAAI;kBACfC,EAAE,EAAEP,IAAI,CAACD;gBACb;cACJ,CAAC,CAAC;YACN;UAAC;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CACJ;EAAA;IAAA;EAAA;AAAA"}},"mtime":1672983804121},"{\"assumptions\":{},\"sourceRoot\":\"/Users/chunkuei/code/BuyMeClone/backend/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/chunkuei/code/BuyMeClone/backend\",\"filename\":\"/Users/chunkuei/code/BuyMeClone/backend/src/models/BuyMe.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/chunkuei/code/BuyMeClone/backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UserModel = exports.TaskModel = exports.MessageModel = exports.ChatBoxModel = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nvar Schema = _mongoose[\"default\"].Schema;\nvar UserSchema = Schema({\n  user_id: {\n    type: String,\n    required: true,\n    unique: true\n  },\n  name: {\n    type: String,\n    required: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  tasks: [{\n    type: _mongoose[\"default\"].Types.ObjectId,\n    ref: 'Task'\n  }],\n  bankaccount: {\n    bank_id: {\n      type: String\n    },\n    bankaccount_id: {\n      type: String\n    }\n  }\n}, {\n  timestamps: true\n});\nvar UserModel = _mongoose[\"default\"].model('User', UserSchema);\nexports.UserModel = UserModel;\nvar TaskSchema = Schema({\n  sender: {\n    type: _mongoose[\"default\"].Types.ObjectId,\n    ref: 'User',\n    required: true\n  },\n  receiver: {\n    type: _mongoose[\"default\"].Types.ObjectId,\n    ref: 'User'\n  },\n  created_at: {\n    type: Date,\n    required: true\n  },\n  title: {\n    type: String,\n    required: true\n  },\n  restaurantName: {\n    type: String,\n    required: true\n  },\n  taskContent: {\n    type: String,\n    required: true\n  },\n  due_start: {\n    type: Date,\n    required: true\n  },\n  due_end: {\n    type: Date,\n    required: true\n  },\n  fee: {\n    type: Number,\n    required: true\n  },\n  status: {\n    type: String,\n    required: true\n  } // 'open', 'accepted', 'completed'\n}, {\n  timestamps: true\n});\nvar TaskModel = _mongoose[\"default\"].model('Task', TaskSchema);\nexports.TaskModel = TaskModel;\nvar MessageSchema = new Schema({\n  sender: {\n    type: String,\n    required: true\n  },\n  body: {\n    type: String,\n    required: [true, 'Body field is required!']\n  }\n});\nvar MessageModel = _mongoose[\"default\"].model('Message', MessageSchema);\nexports.MessageModel = MessageModel;\nvar ChatBoxSchema = new Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  sender: {\n    type: _mongoose[\"default\"].Types.ObjectId,\n    ref: 'User',\n    required: true\n  },\n  receiver: {\n    type: _mongoose[\"default\"].Types.ObjectId,\n    ref: 'User'\n  },\n  title: {\n    type: String,\n    required: true\n  },\n  messages: [{\n    type: _mongoose[\"default\"].Types.ObjectId,\n    ref: 'Message'\n  }],\n  due_period: {\n    type: String,\n    required: true\n  },\n  fee: {\n    type: String,\n    required: true\n  },\n  from: {\n    type: String,\n    required: true\n  },\n  task_id: {\n    type: _mongoose[\"default\"].Types.ObjectId,\n    ref: 'Task',\n    required: true\n  }\n});\nvar ChatBoxModel = _mongoose[\"default\"].model('ChatBox', ChatBoxSchema);\nexports.ChatBoxModel = ChatBoxModel;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIlVzZXJTY2hlbWEiLCJ1c2VyX2lkIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwidW5pcXVlIiwibmFtZSIsInBhc3N3b3JkIiwidGFza3MiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwiYmFua2FjY291bnQiLCJiYW5rX2lkIiwiYmFua2FjY291bnRfaWQiLCJ0aW1lc3RhbXBzIiwiVXNlck1vZGVsIiwibW9kZWwiLCJUYXNrU2NoZW1hIiwic2VuZGVyIiwicmVjZWl2ZXIiLCJjcmVhdGVkX2F0IiwiRGF0ZSIsInRpdGxlIiwicmVzdGF1cmFudE5hbWUiLCJ0YXNrQ29udGVudCIsImR1ZV9zdGFydCIsImR1ZV9lbmQiLCJmZWUiLCJOdW1iZXIiLCJzdGF0dXMiLCJUYXNrTW9kZWwiLCJNZXNzYWdlU2NoZW1hIiwiYm9keSIsIk1lc3NhZ2VNb2RlbCIsIkNoYXRCb3hTY2hlbWEiLCJtZXNzYWdlcyIsImR1ZV9wZXJpb2QiLCJmcm9tIiwidGFza19pZCIsIkNoYXRCb3hNb2RlbCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2NodW5rdWVpL2NvZGUvQnV5TWVDbG9uZS9iYWNrZW5kL3NyYy9tb2RlbHMvIiwic291cmNlcyI6WyJCdXlNZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnXG5cbmNvbnN0IFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYVxuXG5jb25zdCBVc2VyU2NoZW1hID0gU2NoZW1hKFxuICAgIHtcbiAgICAgICAgdXNlcl9pZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlLCB1bmlxdWU6IHRydWUgfSxcbiAgICAgICAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICAgIHBhc3N3b3JkOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgICAgdGFza3M6IFt7IHR5cGU6IG1vbmdvb3NlLlR5cGVzLk9iamVjdElkLCByZWY6ICdUYXNrJyB9XSxcbiAgICAgICAgYmFua2FjY291bnQ6IHtcbiAgICAgICAgICAgIGJhbmtfaWQ6IHsgdHlwZTogU3RyaW5nIH0sXG4gICAgICAgICAgICBiYW5rYWNjb3VudF9pZDogeyB0eXBlOiBTdHJpbmcgfSxcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIHsgdGltZXN0YW1wczogdHJ1ZSB9XG4pXG5cbmNvbnN0IFVzZXJNb2RlbCA9IG1vbmdvb3NlLm1vZGVsKCdVc2VyJywgVXNlclNjaGVtYSlcblxuY29uc3QgVGFza1NjaGVtYSA9IFNjaGVtYShcbiAgICB7XG4gICAgICAgIHNlbmRlcjogeyB0eXBlOiBtb25nb29zZS5UeXBlcy5PYmplY3RJZCwgcmVmOiAnVXNlcicsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICAgIHJlY2VpdmVyOiB7XG4gICAgICAgICAgICB0eXBlOiBtb25nb29zZS5UeXBlcy5PYmplY3RJZCxcbiAgICAgICAgICAgIHJlZjogJ1VzZXInLFxuICAgICAgICB9LFxuXG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogRGF0ZSwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgICAgdGl0bGU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgICByZXN0YXVyYW50TmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICAgIHRhc2tDb250ZW50OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgICAgZHVlX3N0YXJ0OiB7IHR5cGU6IERhdGUsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICAgIGR1ZV9lbmQ6IHsgdHlwZTogRGF0ZSwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgICAgZmVlOiB7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgICAgc3RhdHVzOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSwgLy8gJ29wZW4nLCAnYWNjZXB0ZWQnLCAnY29tcGxldGVkJ1xuICAgIH0sXG5cbiAgICB7IHRpbWVzdGFtcHM6IHRydWUgfVxuKVxuXG5jb25zdCBUYXNrTW9kZWwgPSBtb25nb29zZS5tb2RlbCgnVGFzaycsIFRhc2tTY2hlbWEpXG5cbmNvbnN0IE1lc3NhZ2VTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgICBzZW5kZXI6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIGJvZHk6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogW3RydWUsICdCb2R5IGZpZWxkIGlzIHJlcXVpcmVkISddIH0sXG59KVxuXG5jb25zdCBNZXNzYWdlTW9kZWwgPSBtb25nb29zZS5tb2RlbCgnTWVzc2FnZScsIE1lc3NhZ2VTY2hlbWEpXG5cbmNvbnN0IENoYXRCb3hTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBzZW5kZXI6IHsgdHlwZTogbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWQsIHJlZjogJ1VzZXInLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIHJlY2VpdmVyOiB7XG4gICAgICAgIHR5cGU6IG1vbmdvb3NlLlR5cGVzLk9iamVjdElkLFxuICAgICAgICByZWY6ICdVc2VyJyxcbiAgICB9LFxuICAgIHRpdGxlOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBtZXNzYWdlczogW3sgdHlwZTogbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWQsIHJlZjogJ01lc3NhZ2UnIH1dLFxuICAgIGR1ZV9wZXJpb2Q6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIGZlZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgZnJvbTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgdGFza19pZDogeyB0eXBlOiBtb25nb29zZS5UeXBlcy5PYmplY3RJZCwgcmVmOiAnVGFzaycsIHJlcXVpcmVkOiB0cnVlIH0sXG59KVxuXG5jb25zdCBDaGF0Qm94TW9kZWwgPSBtb25nb29zZS5tb2RlbCgnQ2hhdEJveCcsIENoYXRCb3hTY2hlbWEpXG5cbmV4cG9ydCB7IFVzZXJNb2RlbCwgVGFza01vZGVsLCBNZXNzYWdlTW9kZWwsIENoYXRCb3hNb2RlbCB9XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQStCO0FBRS9CLElBQU1BLE1BQU0sR0FBR0Msb0JBQVEsQ0FBQ0QsTUFBTTtBQUU5QixJQUFNRSxVQUFVLEdBQUdGLE1BQU0sQ0FDckI7RUFDSUcsT0FBTyxFQUFFO0lBQUVDLElBQUksRUFBRUMsTUFBTTtJQUFFQyxRQUFRLEVBQUUsSUFBSTtJQUFFQyxNQUFNLEVBQUU7RUFBSyxDQUFDO0VBQ3ZEQyxJQUFJLEVBQUU7SUFBRUosSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFFBQVEsRUFBRTtFQUFLLENBQUM7RUFDdENHLFFBQVEsRUFBRTtJQUFFTCxJQUFJLEVBQUVDLE1BQU07SUFBRUMsUUFBUSxFQUFFO0VBQUssQ0FBQztFQUMxQ0ksS0FBSyxFQUFFLENBQUM7SUFBRU4sSUFBSSxFQUFFSCxvQkFBUSxDQUFDVSxLQUFLLENBQUNDLFFBQVE7SUFBRUMsR0FBRyxFQUFFO0VBQU8sQ0FBQyxDQUFDO0VBQ3ZEQyxXQUFXLEVBQUU7SUFDVEMsT0FBTyxFQUFFO01BQUVYLElBQUksRUFBRUM7SUFBTyxDQUFDO0lBQ3pCVyxjQUFjLEVBQUU7TUFBRVosSUFBSSxFQUFFQztJQUFPO0VBQ25DO0FBQ0osQ0FBQyxFQUNEO0VBQUVZLFVBQVUsRUFBRTtBQUFLLENBQUMsQ0FDdkI7QUFFRCxJQUFNQyxTQUFTLEdBQUdqQixvQkFBUSxDQUFDa0IsS0FBSyxDQUFDLE1BQU0sRUFBRWpCLFVBQVUsQ0FBQztBQUFBO0FBRXBELElBQU1rQixVQUFVLEdBQUdwQixNQUFNLENBQ3JCO0VBQ0lxQixNQUFNLEVBQUU7SUFBRWpCLElBQUksRUFBRUgsb0JBQVEsQ0FBQ1UsS0FBSyxDQUFDQyxR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","map":{"version":3,"names":["Schema","mongoose","UserSchema","user_id","type","String","required","unique","name","password","tasks","Types","ObjectId","ref","bankaccount","bank_id","bankaccount_id","timestamps","UserModel","model","TaskSchema","sender","receiver","created_at","Date","title","restaurantName","taskContent","due_start","due_end","fee","Number","status","TaskModel","MessageSchema","body","MessageModel","ChatBoxSchema","messages","due_period","from","task_id","ChatBoxModel"],"sourceRoot":"/Users/chunkuei/code/BuyMeClone/backend/src/models/","sources":["BuyMe.js"],"sourcesContent":["import mongoose from 'mongoose'\n\nconst Schema = mongoose.Schema\n\nconst UserSchema = Schema(\n    {\n        user_id: { type: String, required: true, unique: true },\n        name: { type: String, required: true },\n        password: { type: String, required: true },\n        tasks: [{ type: mongoose.Types.ObjectId, ref: 'Task' }],\n        bankaccount: {\n            bank_id: { type: String },\n            bankaccount_id: { type: String },\n        },\n    },\n    { timestamps: true }\n)\n\nconst UserModel = mongoose.model('User', UserSchema)\n\nconst TaskSchema = Schema(\n    {\n        sender: { type: mongoose.Types.ObjectId, ref: 'User', required: true },\n        receiver: {\n            type: mongoose.Types.ObjectId,\n            ref: 'User',\n        },\n\n        created_at: { type: Date, required: true },\n        title: { type: String, required: true },\n        restaurantName: { type: String, required: true },\n        taskContent: { type: String, required: true },\n        due_start: { type: Date, required: true },\n        due_end: { type: Date, required: true },\n        fee: { type: Number, required: true },\n        status: { type: String, required: true }, // 'open', 'accepted', 'completed'\n    },\n\n    { timestamps: true }\n)\n\nconst TaskModel = mongoose.model('Task', TaskSchema)\n\nconst MessageSchema = new Schema({\n    sender: { type: String, required: true },\n    body: { type: String, required: [true, 'Body field is required!'] },\n})\n\nconst MessageModel = mongoose.model('Message', MessageSchema)\n\nconst ChatBoxSchema = new Schema({\n    name: { type: String, required: true },\n    sender: { type: mongoose.Types.ObjectId, ref: 'User', required: true },\n    receiver: {\n        type: mongoose.Types.ObjectId,\n        ref: 'User',\n    },\n    title: { type: String, required: true },\n    messages: [{ type: mongoose.Types.ObjectId, ref: 'Message' }],\n    due_period: { type: String, required: true },\n    fee: { type: String, required: true },\n    from: { type: String, required: true },\n    task_id: { type: mongoose.Types.ObjectId, ref: 'Task', required: true },\n})\n\nconst ChatBoxModel = mongoose.model('ChatBox', ChatBoxSchema)\n\nexport { UserModel, TaskModel, MessageModel, ChatBoxModel }\n"],"mappings":";;;;;;AAAA;AAA+B;AAE/B,IAAMA,MAAM,GAAGC,oBAAQ,CAACD,MAAM;AAE9B,IAAME,UAAU,GAAGF,MAAM,CACrB;EACIG,OAAO,EAAE;IAAEC,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE,IAAI;IAAEC,MAAM,EAAE;EAAK,CAAC;EACvDC,IAAI,EAAE;IAAEJ,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACtCG,QAAQ,EAAE;IAAEL,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EAC1CI,KAAK,EAAE,CAAC;IAAEN,IAAI,EAAEH,oBAAQ,CAACU,KAAK,CAACC,QAAQ;IAAEC,GAAG,EAAE;EAAO,CAAC,CAAC;EACvDC,WAAW,EAAE;IACTC,OAAO,EAAE;MAAEX,IAAI,EAAEC;IAAO,CAAC;IACzBW,cAAc,EAAE;MAAEZ,IAAI,EAAEC;IAAO;EACnC;AACJ,CAAC,EACD;EAAEY,UAAU,EAAE;AAAK,CAAC,CACvB;AAED,IAAMC,SAAS,GAAGjB,oBAAQ,CAACkB,KAAK,CAAC,MAAM,EAAEjB,UAAU,CAAC;AAAA;AAEpD,IAAMkB,UAAU,GAAGpB,MAAM,CACrB;EACIqB,MAAM,EAAE;IAAEjB,IAAI,EAAEH,oBAAQ,CAACU,KAAK,CAACC,QAAQ;IAAEC,GAAG,EAAE,MAAM;IAAEP,QAAQ,EAAE;EAAK,CAAC;EACtEgB,QAAQ,EAAE;IACNlB,IAAI,EAAEH,oBAAQ,CAACU,KAAK,CAACC,QAAQ;IAC7BC,GAAG,EAAE;EACT,CAAC;EAEDU,UAAU,EAAE;IAAEnB,IAAI,EAAEoB,IAAI;IAAElB,QAAQ,EAAE;EAAK,CAAC;EAC1CmB,KAAK,EAAE;IAAErB,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACvCoB,cAAc,EAAE;IAAEtB,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EAChDqB,WAAW,EAAE;IAAEvB,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EAC7CsB,SAAS,EAAE;IAAExB,IAAI,EAAEoB,IAAI;IAAElB,QAAQ,EAAE;EAAK,CAAC;EACzCuB,OAAO,EAAE;IAAEzB,IAAI,EAAEoB,IAAI;IAAElB,QAAQ,EAAE;EAAK,CAAC;EACvCwB,GAAG,EAAE;IAAE1B,IAAI,EAAE2B,MAAM;IAAEzB,QAAQ,EAAE;EAAK,CAAC;EACrC0B,MAAM,EAAE;IAAE5B,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC,CAAE;AAC9C,CAAC,EAED;EAAEW,UAAU,EAAE;AAAK,CAAC,CACvB;AAED,IAAMgB,SAAS,GAAGhC,oBAAQ,CAACkB,KAAK,CAAC,MAAM,EAAEC,UAAU,CAAC;AAAA;AAEpD,IAAMc,aAAa,GAAG,IAAIlC,MAAM,CAAC;EAC7BqB,MAAM,EAAE;IAAEjB,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACxC6B,IAAI,EAAE;IAAE/B,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE,CAAC,IAAI,EAAE,yBAAyB;EAAE;AACtE,CAAC,CAAC;AAEF,IAAM8B,YAAY,GAAGnC,oBAAQ,CAACkB,KAAK,CAAC,SAAS,EAAEe,aAAa,CAAC;AAAA;AAE7D,IAAMG,aAAa,GAAG,IAAIrC,MAAM,CAAC;EAC7BQ,IAAI,EAAE;IAAEJ,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACtCe,MAAM,EAAE;IAAEjB,IAAI,EAAEH,oBAAQ,CAACU,KAAK,CAACC,QAAQ;IAAEC,GAAG,EAAE,MAAM;IAAEP,QAAQ,EAAE;EAAK,CAAC;EACtEgB,QAAQ,EAAE;IACNlB,IAAI,EAAEH,oBAAQ,CAACU,KAAK,CAACC,QAAQ;IAC7BC,GAAG,EAAE;EACT,CAAC;EACDY,KAAK,EAAE;IAAErB,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACvCgC,QAAQ,EAAE,CAAC;IAAElC,IAAI,EAAEH,oBAAQ,CAACU,KAAK,CAACC,QAAQ;IAAEC,GAAG,EAAE;EAAU,CAAC,CAAC;EAC7D0B,UAAU,EAAE;IAAEnC,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EAC5CwB,GAAG,EAAE;IAAE1B,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACrCkC,IAAI,EAAE;IAAEpC,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACtCmC,OAAO,EAAE;IAAErC,IAAI,EAAEH,oBAAQ,CAACU,KAAK,CAACC,QAAQ;IAAEC,GAAG,EAAE,MAAM;IAAEP,QAAQ,EAAE;EAAK;AAC1E,CAAC,CAAC;AAEF,IAAMoC,YAAY,GAAGzC,oBAAQ,CAACkB,KAAK,CAAC,SAAS,EAAEkB,aAAa,CAAC;AAAA"}},"mtime":1672983804120},"{\"assumptions\":{},\"sourceRoot\":\"/Users/chunkuei/code/BuyMeClone/backend/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/chunkuei/code/BuyMeClone/backend\",\"filename\":\"/Users/chunkuei/code/BuyMeClone/backend/src/routes/register.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/chunkuei/code/BuyMeClone/backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.5:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nvar _BuyMe = require(\"../models/BuyMe\");\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nexports.UserRegister = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var _req$body$user, name, id, password, bank_id, bankaccount_id, user, _user;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _req$body$user = req.body.user, name = _req$body$user.name, id = _req$body$user.id, password = _req$body$user.password, bank_id = _req$body$user.bank_id, bankaccount_id = _req$body$user.bankaccount_id;\n            _context.next = 3;\n            return _BuyMe.UserModel.findOne({\n              user_id: id\n            }).exec();\n          case 3:\n            user = _context.sent;\n            if (user) {\n              _context.next = 11;\n              break;\n            }\n            _user = new _BuyMe.UserModel({\n              user_id: id,\n              name: name,\n              password: password,\n              bankaccount: {\n                bank_id: bank_id,\n                bankaccount_id: bankaccount_id\n              }\n            });\n            _context.next = 8;\n            return _user.save();\n          case 8:\n            res.status(200).send({\n              message: 'success',\n              content: 'Account created!'\n            });\n            _context.next = 12;\n            break;\n          case 11:\n            res.send({\n              message: 'error',\n              content: 'User already exists!'\n            });\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHBvcnRzIiwiVXNlclJlZ2lzdGVyIiwicmVxIiwicmVzIiwiYm9keSIsInVzZXIiLCJuYW1lIiwiaWQiLCJwYXNzd29yZCIsImJhbmtfaWQiLCJiYW5rYWNjb3VudF9pZCIsIlVzZXJNb2RlbCIsImZpbmRPbmUiLCJ1c2VyX2lkIiwiZXhlYyIsImJhbmthY2NvdW50Iiwic2F2ZSIsInN0YXR1cyIsInNlbmQiLCJtZXNzYWdlIiwiY29udGVudCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2NodW5rdWVpL2NvZGUvQnV5TWVDbG9uZS9iYWNrZW5kL3NyYy9yb3V0ZXMvIiwic291cmNlcyI6WyJyZWdpc3Rlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBVc2VyTW9kZWwgfSBmcm9tICcuLi9tb2RlbHMvQnV5TWUnXG5cbmV4cG9ydHMuVXNlclJlZ2lzdGVyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgICB1c2VyOiB7IG5hbWUsIGlkLCBwYXNzd29yZCwgYmFua19pZCwgYmFua2FjY291bnRfaWQgfSxcbiAgICB9ID0gcmVxLmJvZHlcblxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyTW9kZWwuZmluZE9uZSh7IHVzZXJfaWQ6IGlkIH0pLmV4ZWMoKVxuXG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBuZXcgVXNlck1vZGVsKHtcbiAgICAgICAgICAgIHVzZXJfaWQ6IGlkLFxuICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZCxcbiAgICAgICAgICAgIGJhbmthY2NvdW50OiB7IGJhbmtfaWQ6IGJhbmtfaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBiYW5rYWNjb3VudF9pZDogYmFua2FjY291bnRfaWR9LFxuICAgICAgICB9KVxuICAgICAgICBhd2FpdCB1c2VyLnNhdmUoKVxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZCh7XG4gICAgICAgICAgICBtZXNzYWdlOiAnc3VjY2VzcycsXG4gICAgICAgICAgICBjb250ZW50OiAnQWNjb3VudCBjcmVhdGVkIScsXG4gICAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmVzLnNlbmQoe1xuICAgICAgICAgICAgbWVzc2FnZTogJ2Vycm9yJyxcbiAgICAgICAgICAgIGNvbnRlbnQ6ICdVc2VyIGFscmVhZHkgZXhpc3RzIScsXG4gICAgICAgIH0pXG4gICAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7QUFBQTtBQUEyQywrQ0FDM0M7QUFBQTtBQUFBO0FBQ0FBLE9BQU8sQ0FBQ0MsWUFBWTtFQUFBLHNFQUFHLGlCQUFPQyxHQUFHLEVBQUVDLEdBQUc7SUFBQTtJQUFBO01BQUE7UUFBQTtVQUFBO1lBQUEsaUJBRzlCRCxHQUFHLENBQUNFLElBQUksQ0FEUkMsSUFBSSxFQUFJQyxJQUFJLGtCQUFKQSxJQUFJLEVBQUVDLEVBQUUsa0JBQUZBLEVBQUUsRUFBRUMsUUFBUSxrQkFBUkEsUUFBUSxFQUFFQyxPQUFPLGtCQUFQQSxPQUFPLEVBQUVDLGNBQWMsa0JBQWRBLGNBQWM7WUFBQTtZQUFBLE9BR3BDQyxnQkFBUyxDQUFDQyxPQUFPLENBQUM7Y0FBRUMsT0FBTyxFQUFFTjtZQUFHLENBQUMsQ0FBQyxDQUFDTyxJQUFJLEVBQUU7VUFBQTtZQUF0RFQsSUFBSTtZQUFBLElBRUxBLElBQUk7Y0FBQTtjQUFBO1lBQUE7WUFDQ0EsS0FBSSxHQUFHLElBQUlNLGdCQUFTLENBQUM7Y0FDdkJFLE9BQU8sRUFBRU4sRUFBRTtjQUNYRCxJQUFJLEVBQUVBLElBQUk7Y0FDVkUsUUFBUSxFQUFFQSxRQUFRO2NBQ2xCTyxXQUFXLEVBQUU7Z0JBQUVOLE9BQU8sRUFBRUEsT0FBTztnQkFDaEJDLGNBQWMsRUFBRUE7Y0FBYztZQUNqRCxDQUFDLENBQUM7WUFBQTtZQUFBLE9BQ0lMLEtBQUksQ0FBQ1csSUFBSSxFQUFFO1VBQUE7WUFDakJiLEdBQUcsQ0FBQ2MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7Y0FDakJDLE9BQU8sRUFBRSxTQUFTO2NBQ2xCQyxPQUFPLEVBQUU7WUFDYixDQUFDLENBQUM7WUFBQTtZQUFBO1VBQUE7WUFFRmpCLEdBQUcsQ0FBQ2UsSUFBSSxDQUFDO2NBQ0xDLE9BQU8sRUFBRSxPQUFPO2NBQ2hCQyxPQUFPLEVBQUU7WUFDYixDQUFDLENBQUM7VUFBQTtVQUFBO1lBQUE7UUFBQTtNQUFBO0lBQUE7RUFBQSxDQUVUO0VBQUE7SUFBQTtFQUFBO0FBQUEifQ==","map":{"version":3,"names":["exports","UserRegister","req","res","body","user","name","id","password","bank_id","bankaccount_id","UserModel","findOne","user_id","exec","bankaccount","save","status","send","message","content"],"sourceRoot":"/Users/chunkuei/code/BuyMeClone/backend/src/routes/","sources":["register.js"],"sourcesContent":["import { UserModel } from '../models/BuyMe'\n\nexports.UserRegister = async (req, res) => {\n    const {\n        user: { name, id, password, bank_id, bankaccount_id },\n    } = req.body\n\n    const user = await UserModel.findOne({ user_id: id }).exec()\n\n    if (!user) {\n        const user = new UserModel({\n            user_id: id,\n            name: name,\n            password: password,\n            bankaccount: { bank_id: bank_id,\n                           bankaccount_id: bankaccount_id},\n        })\n        await user.save()\n        res.status(200).send({\n            message: 'success',\n            content: 'Account created!',\n        })\n    } else {\n        res.send({\n            message: 'error',\n            content: 'User already exists!',\n        })\n    }\n}\n"],"mappings":";;;AAAA;AAA2C,+CAC3C;AAAA;AAAA;AACAA,OAAO,CAACC,YAAY;EAAA,sEAAG,iBAAOC,GAAG,EAAEC,GAAG;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA,iBAG9BD,GAAG,CAACE,IAAI,CADRC,IAAI,EAAIC,IAAI,kBAAJA,IAAI,EAAEC,EAAE,kBAAFA,EAAE,EAAEC,QAAQ,kBAARA,QAAQ,EAAEC,OAAO,kBAAPA,OAAO,EAAEC,cAAc,kBAAdA,cAAc;YAAA;YAAA,OAGpCC,gBAAS,CAACC,OAAO,CAAC;cAAEC,OAAO,EAAEN;YAAG,CAAC,CAAC,CAACO,IAAI,EAAE;UAAA;YAAtDT,IAAI;YAAA,IAELA,IAAI;cAAA;cAAA;YAAA;YACCA,KAAI,GAAG,IAAIM,gBAAS,CAAC;cACvBE,OAAO,EAAEN,EAAE;cACXD,IAAI,EAAEA,IAAI;cACVE,QAAQ,EAAEA,QAAQ;cAClBO,WAAW,EAAE;gBAAEN,OAAO,EAAEA,OAAO;gBAChBC,cAAc,EAAEA;cAAc;YACjD,CAAC,CAAC;YAAA;YAAA,OACIL,KAAI,CAACW,IAAI,EAAE;UAAA;YACjBb,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;cACjBC,OAAO,EAAE,SAAS;cAClBC,OAAO,EAAE;YACb,CAAC,CAAC;YAAA;YAAA;UAAA;YAEFjB,GAAG,CAACe,IAAI,CAAC;cACLC,OAAO,EAAE,OAAO;cAChBC,OAAO,EAAE;YACb,CAAC,CAAC;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAET;EAAA;IAAA;EAAA;AAAA"}},"mtime":1672983804121},"{\"assumptions\":{},\"sourceRoot\":\"/Users/chunkuei/code/BuyMeClone/backend/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/chunkuei/code/BuyMeClone/backend\",\"filename\":\"/Users/chunkuei/code/BuyMeClone/backend/src/routes/account.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/chunkuei/code/BuyMeClone/backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.5:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nvar _BuyMe = require(\"../models/BuyMe\");\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nexports.GetUserAccount = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var user_id, user;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            user_id = req.query.user_id;\n            _context.next = 3;\n            return _BuyMe.UserModel.findOne({\n              user_id: user_id\n            });\n          case 3:\n            user = _context.sent;\n            if (user) {\n              _context.next = 6;\n              break;\n            }\n            throw new Error('userID not found!');\n          case 6:\n            res.send({\n              data: user\n            });\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexports.EditUserAccount = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var item, newValue, existing, user, _user;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            item = req.body.item;\n            newValue = req.body.newValue;\n            _context2.next = 4;\n            return _BuyMe.UserModel.findOne({\n              user_id: req.body.user_id\n            });\n          case 4:\n            existing = _context2.sent;\n            if (!existing) {\n              _context2.next = 25;\n              break;\n            }\n            _context2.prev = 6;\n            if (!(item[0] === 'name')) {\n              _context2.next = 14;\n              break;\n            }\n            _context2.next = 10;\n            return _BuyMe.UserModel.findOneAndUpdate({\n              user_id: req.body.user_id\n            }, {\n              name: newValue[0]\n            }, {\n              \"new\": true\n            });\n          case 10:\n            user = _context2.sent;\n            res.status(200).send({\n              message: \"Updating successfully!\",\n              contents: user\n            });\n            _context2.next = 18;\n            break;\n          case 14:\n            _context2.next = 16;\n            return _BuyMe.UserModel.findOneAndUpdate({\n              user_id: req.body.user_id\n            }, {\n              bankaccount: {\n                bank_id: newValue[0],\n                bankaccount_id: newValue[1]\n              }\n            }, {\n              \"new\": true\n            });\n          case 16:\n            _user = _context2.sent;\n            res.status(200).send({\n              message: \"Updating successfully!\",\n              contents: _user\n            });\n          case 18:\n            _context2.next = 23;\n            break;\n          case 20:\n            _context2.prev = 20;\n            _context2.t0 = _context2[\"catch\"](6);\n            throw new Error('Account updating error: ' + _context2.t0);\n          case 23:\n            _context2.next = 26;\n            break;\n          case 25:\n            res.status(204).json({\n              message: \"Account doesn't exist!\"\n            });\n          case 26:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[6, 20]]);\n  }));\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexports.ChangePassword = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res) {\n    var user_id, password, existing;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            user_id = req.body.user_id;\n            password = req.body.newPasswordEncrypted;\n            _context3.next = 4;\n            return _BuyMe.UserModel.findOne({\n              user_id: user_id\n            });\n          case 4:\n            existing = _context3.sent;\n            if (!existing) {\n              _context3.next = 16;\n              break;\n            }\n            _context3.prev = 6;\n            res.status(200).json({\n              message: \"Updating \".concat(user_id, \"'s password!\")\n            });\n            return _context3.abrupt(\"return\", _BuyMe.UserModel.findOneAndUpdate({\n              user_id: user_id\n            }, {\n              password: password\n            }));\n          case 11:\n            _context3.prev = 11;\n            _context3.t0 = _context3[\"catch\"](6);\n            throw new Error('Password updating error: ' + _context3.t0);\n          case 14:\n            _context3.next = 17;\n            break;\n          case 16:\n            res.status(204).json({\n              message: \"Account doesn't exist!\"\n            });\n          case 17:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, null, [[6, 11]]);\n  }));\n  return function (_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHBvcnRzIiwiR2V0VXNlckFjY291bnQiLCJyZXEiLCJyZXMiLCJ1c2VyX2lkIiwicXVlcnkiLCJVc2VyTW9kZWwiLCJmaW5kT25lIiwidXNlciIsIkVycm9yIiwic2VuZCIsImRhdGEiLCJFZGl0VXNlckFjY291bnQiLCJpdGVtIiwiYm9keSIsIm5ld1ZhbHVlIiwiZXhpc3RpbmciLCJmaW5kT25lQW5kVXBkYXRlIiwibmFtZSIsInN0YXR1cyIsIm1lc3NhZ2UiLCJjb250ZW50cyIsImJhbmthY2NvdW50IiwiYmFua19pZCIsImJhbmthY2NvdW50X2lkIiwianNvbiIsIkNoYW5nZVBhc3N3b3JkIiwicGFzc3dvcmQiLCJuZXdQYXNzd29yZEVuY3J5cHRlZCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2NodW5rdWVpL2NvZGUvQnV5TWVDbG9uZS9iYWNrZW5kL3NyYy9yb3V0ZXMvIiwic291cmNlcyI6WyJhY2NvdW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFVzZXJNb2RlbCB9IGZyb20gJy4uL21vZGVscy9CdXlNZSdcblxuZXhwb3J0cy5HZXRVc2VyQWNjb3VudCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHVzZXJfaWQgPSByZXEucXVlcnkudXNlcl9pZFxuICAgIGxldCB1c2VyID0gYXdhaXQgVXNlck1vZGVsLmZpbmRPbmUoeyB1c2VyX2lkIH0pXG4gICAgaWYgKCF1c2VyKSB0aHJvdyBuZXcgRXJyb3IoJ3VzZXJJRCBub3QgZm91bmQhJylcbiAgICByZXMuc2VuZCh7IGRhdGE6IHVzZXIgfSlcbn1cblxuZXhwb3J0cy5FZGl0VXNlckFjY291bnQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBsZXQgaXRlbSA9IHJlcS5ib2R5Lml0ZW1cbiAgICBsZXQgbmV3VmFsdWUgPSByZXEuYm9keS5uZXdWYWx1ZVxuXG4gICAgY29uc3QgZXhpc3RpbmcgPSBhd2FpdCBVc2VyTW9kZWwuZmluZE9uZSh7IHVzZXJfaWQ6IHJlcS5ib2R5LnVzZXJfaWQgfSlcblxuICAgIGlmIChleGlzdGluZykge1xuICAgICAgICAvLyBVcGRhdGUgVXNlck1vZGVsXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoaXRlbVswXSA9PT0gJ25hbWUnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJNb2RlbC5maW5kT25lQW5kVXBkYXRlKFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXEuYm9keS51c2VyX2lkLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBuZXdWYWx1ZVswXSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge25ldzp0cnVlfVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZCh7IG1lc3NhZ2U6IGBVcGRhdGluZyBzdWNjZXNzZnVsbHkhYCwgY29udGVudHM6IHVzZXIgfSlcblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlck1vZGVsLmZpbmRPbmVBbmRVcGRhdGUoXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcS5ib2R5LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhbmthY2NvdW50OnsgYmFua19pZDogbmV3VmFsdWVbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhbmthY2NvdW50X2lkOiBuZXdWYWx1ZVsxXX0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtuZXc6dHJ1ZX1cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmQoeyBtZXNzYWdlOiBgVXBkYXRpbmcgc3VjY2Vzc2Z1bGx5IWAsIGNvbnRlbnRzOiB1c2VyIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQWNjb3VudCB1cGRhdGluZyBlcnJvcjogJyArIGUpXG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICByZXMuc3RhdHVzKDIwNCkuanNvbih7IG1lc3NhZ2U6IGBBY2NvdW50IGRvZXNuJ3QgZXhpc3QhYCB9KVxuICAgIH1cbn1cblxuZXhwb3J0cy5DaGFuZ2VQYXNzd29yZCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHVzZXJfaWQgPSByZXEuYm9keS51c2VyX2lkXG4gICAgY29uc3QgcGFzc3dvcmQgPSByZXEuYm9keS5uZXdQYXNzd29yZEVuY3J5cHRlZFxuICAgIGNvbnN0IGV4aXN0aW5nID0gYXdhaXQgVXNlck1vZGVsLmZpbmRPbmUoeyB1c2VyX2lkIH0pXG4gICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6IGBVcGRhdGluZyAke3VzZXJfaWR9J3MgcGFzc3dvcmQhYCB9KVxuICAgICAgICAgICAgcmV0dXJuIFVzZXJNb2RlbC5maW5kT25lQW5kVXBkYXRlKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdXNlcl9pZCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Bhc3N3b3JkIHVwZGF0aW5nIGVycm9yOiAnICsgZSlcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcy5zdGF0dXMoMjA0KS5qc29uKHsgbWVzc2FnZTogYEFjY291bnQgZG9lc24ndCBleGlzdCFgIH0pXG4gICAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7QUFBQTtBQUEyQywrQ0FDM0M7QUFBQTtBQUFBO0FBQ0FBLE9BQU8sQ0FBQ0MsY0FBYztFQUFBLHNFQUFHLGlCQUFPQyxHQUFHLEVBQUVDLEdBQUc7SUFBQTtJQUFBO01BQUE7UUFBQTtVQUFBO1lBQzlCQyxPQUFPLEdBQUdGLEdBQUcsQ0FBQ0csS0FBSyxDQUFDRCxPQUFPO1lBQUE7WUFBQSxPQUNoQkUsZ0JBQVMsQ0FBQ0MsT0FBTyxDQUFDO2NBQUVILE9BQU8sRUFBUEE7WUFBUSxDQUFDLENBQUM7VUFBQTtZQUEzQ0ksSUFBSTtZQUFBLElBQ0hBLElBQUk7Y0FBQTtjQUFBO1lBQUE7WUFBQSxNQUFRLElBQUlDLEtBQUssQ0FBQyxtQkFBbUIsQ0FBQztVQUFBO1lBQy9DTixHQUFHLENBQUNPLElBQUksQ0FBQztjQUFFQyxJQUFJLEVBQUVIO1lBQUssQ0FBQyxDQUFDO1VBQUE7VUFBQTtZQUFBO1FBQUE7TUFBQTtJQUFBO0VBQUEsQ0FDM0I7RUFBQTtJQUFBO0VBQUE7QUFBQTtBQUVEUixPQUFPLENBQUNZLGVBQWU7RUFBQSx1RUFBRyxrQkFBT1YsR0FBRyxFQUFFQyxHQUFHO0lBQUE7SUFBQTtNQUFBO1FBQUE7VUFBQTtZQUNqQ1UsSUFBSSxHQUFHWCxHQUFHLENBQUNZLElBQUksQ0FBQ0QsSUFBSTtZQUNwQkUsUUFBUSxHQUFHYixHQUFHLENBQUNZLElBQUksQ0FBQ0MsUUFBUTtZQUFBO1lBQUEsT0FFVFQsZ0JBQVMsQ0FBQ0MsT0FBTyxDQUFDO2NBQUVILE9BQU8sRUFBRUYsR0FBRyxDQUFDWSxJQUFJLENBQUNWO1lBQVEsQ0FBQyxDQUFDO1VBQUE7WUFBakVZLFFBQVE7WUFBQSxLQUVWQSxRQUFRO2NBQUE7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","map":{"version":3,"names":["exports","GetUserAccount","req","res","user_id","query","UserModel","findOne","user","Error","send","data","EditUserAccount","item","body","newValue","existing","findOneAndUpdate","name","status","message","contents","bankaccount","bank_id","bankaccount_id","json","ChangePassword","password","newPasswordEncrypted"],"sourceRoot":"/Users/chunkuei/code/BuyMeClone/backend/src/routes/","sources":["account.js"],"sourcesContent":["import { UserModel } from '../models/BuyMe'\n\nexports.GetUserAccount = async (req, res) => {\n    const user_id = req.query.user_id\n    let user = await UserModel.findOne({ user_id })\n    if (!user) throw new Error('userID not found!')\n    res.send({ data: user })\n}\n\nexports.EditUserAccount = async (req, res) => {\n    let item = req.body.item\n    let newValue = req.body.newValue\n\n    const existing = await UserModel.findOne({ user_id: req.body.user_id })\n\n    if (existing) {\n        // Update UserModel\n        try {\n            if (item[0] === 'name') {\n                const user = await UserModel.findOneAndUpdate(\n                    {\n                        user_id: req.body.user_id,\n                    },\n                    {\n                        name: newValue[0],\n                    },\n                    {new:true}\n                )\n                res.status(200).send({ message: `Updating successfully!`, contents: user })\n\n            } else {\n                const user = await UserModel.findOneAndUpdate(\n                    {\n                        user_id: req.body.user_id,\n                    },\n                    {\n                        bankaccount:{ bank_id: newValue[0],\n                                      bankaccount_id: newValue[1]},\n                    },\n                    {new:true}\n                )\n                res.status(200).send({ message: `Updating successfully!`, contents: user })\n            }\n        } catch (e) {\n            throw new Error('Account updating error: ' + e)\n        }\n    } else {\n        res.status(204).json({ message: `Account doesn't exist!` })\n    }\n}\n\nexports.ChangePassword = async (req, res) => {\n    const user_id = req.body.user_id\n    const password = req.body.newPasswordEncrypted\n    const existing = await UserModel.findOne({ user_id })\n    if (existing) {\n        try {\n            res.status(200).json({ message: `Updating ${user_id}'s password!` })\n            return UserModel.findOneAndUpdate(\n                {\n                    user_id,\n                },\n                {\n                    password,\n                }\n            )\n        } catch (e) {\n            throw new Error('Password updating error: ' + e)\n        }\n    } else {\n        res.status(204).json({ message: `Account doesn't exist!` })\n    }\n}\n"],"mappings":"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"}},"mtime":1672983804120},"{\"assumptions\":{},\"sourceRoot\":\"/Users/chunkuei/code/BuyMeClone/backend/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/chunkuei/code/BuyMeClone/backend\",\"filename\":\"/Users/chunkuei/code/BuyMeClone/backend/src/routes/transfer.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/chunkuei/code/BuyMeClone/backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.5:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nvar _BuyMe = require(\"../models/BuyMe\");\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nexports.GetReceiverId = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var user;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _BuyMe.UserModel.findOne({\n              _id: req.query.userObjId\n            });\n          case 2:\n            user = _context.sent;\n            if (!user) {\n              res.status(200).send({\n                message: 'error',\n                content: 'Cannot find user with this ID!'\n              });\n            } else {\n              res.status(200).send({\n                message: 'success',\n                content: {\n                  id: user.user_id\n                }\n              });\n            }\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexports.GetTransferAccount = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var userId, user;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            userId = req.query.userId;\n            _context2.next = 3;\n            return _BuyMe.UserModel.findOne({\n              user_id: userId\n            });\n          case 3:\n            user = _context2.sent;\n            if (!user) {\n              res.status(200).send({\n                message: 'error',\n                content: 'Cannot find user with this ID!'\n              });\n            } else {\n              res.status(200).send({\n                message: 'success',\n                content: {\n                  name: user.name,\n                  id: user.user_id,\n                  bankaccount: user.bankaccount\n                }\n              });\n            }\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHBvcnRzIiwiR2V0UmVjZWl2ZXJJZCIsInJlcSIsInJlcyIsIlVzZXJNb2RlbCIsImZpbmRPbmUiLCJfaWQiLCJxdWVyeSIsInVzZXJPYmpJZCIsInVzZXIiLCJzdGF0dXMiLCJzZW5kIiwibWVzc2FnZSIsImNvbnRlbnQiLCJpZCIsInVzZXJfaWQiLCJHZXRUcmFuc2ZlckFjY291bnQiLCJ1c2VySWQiLCJuYW1lIiwiYmFua2FjY291bnQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9jaHVua3VlaS9jb2RlL0J1eU1lQ2xvbmUvYmFja2VuZC9zcmMvcm91dGVzLyIsInNvdXJjZXMiOlsidHJhbnNmZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVXNlck1vZGVsIH0gZnJvbSAnLi4vbW9kZWxzL0J1eU1lJ1xuXG5leHBvcnRzLkdldFJlY2VpdmVySWQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBsZXQgdXNlciA9IGF3YWl0IFVzZXJNb2RlbC5maW5kT25lKHsgX2lkOiByZXEucXVlcnkudXNlck9iaklkIH0pXG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdlcnJvcicsXG4gICAgICAgICAgICBjb250ZW50OiAnQ2Fubm90IGZpbmQgdXNlciB3aXRoIHRoaXMgSUQhJyxcbiAgICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZCh7XG4gICAgICAgICAgICBtZXNzYWdlOiAnc3VjY2VzcycsXG4gICAgICAgICAgICBjb250ZW50OiB7XG4gICAgICAgICAgICAgICAgaWQ6IHVzZXIudXNlcl9pZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pXG4gICAgfVxufVxuXG5leHBvcnRzLkdldFRyYW5zZmVyQWNjb3VudCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHsgdXNlcklkIH0gPSByZXEucXVlcnlcbiAgICBsZXQgdXNlciA9IGF3YWl0IFVzZXJNb2RlbC5maW5kT25lKHsgdXNlcl9pZDogdXNlcklkIH0pXG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdlcnJvcicsXG4gICAgICAgICAgICBjb250ZW50OiAnQ2Fubm90IGZpbmQgdXNlciB3aXRoIHRoaXMgSUQhJyxcbiAgICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZCh7XG4gICAgICAgICAgICBtZXNzYWdlOiAnc3VjY2VzcycsXG4gICAgICAgICAgICBjb250ZW50OiB7XG4gICAgICAgICAgICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgICAgICAgICAgIGlkOiB1c2VyLnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgYmFua2FjY291bnQ6IHVzZXIuYmFua2FjY291bnQsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KVxuICAgIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7O0FBQUE7QUFBMkMsK0NBQzNDO0FBQUE7QUFBQTtBQUNBQSxPQUFPLENBQUNDLGFBQWE7RUFBQSxzRUFBRyxpQkFBT0MsR0FBRyxFQUFFQyxHQUFHO0lBQUE7SUFBQTtNQUFBO1FBQUE7VUFBQTtZQUFBO1lBQUEsT0FDbEJDLGdCQUFTLENBQUNDLE9BQU8sQ0FBQztjQUFFQyxHQUFHLEVBQUVKLEdBQUcsQ0FBQ0ssS0FBSyxDQUFDQztZQUFVLENBQUMsQ0FBQztVQUFBO1lBQTVEQyxJQUFJO1lBQ1IsSUFBSSxDQUFDQSxJQUFJLEVBQUU7Y0FDUE4sR0FBRyxDQUFDTyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztnQkFDakJDLE9BQU8sRUFBRSxPQUFPO2dCQUNoQkMsT0FBTyxFQUFFO2NBQ2IsQ0FBQyxDQUFDO1lBQ04sQ0FBQyxNQUFNO2NBQ0hWLEdBQUcsQ0FBQ08sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7Z0JBQ2pCQyxPQUFPLEVBQUUsU0FBUztnQkFDbEJDLE9BQU8sRUFBRTtrQkFDTEMsRUFBRSxFQUFFTCxJQUFJLENBQUNNO2dCQUNiO2NBQ0osQ0FBQyxDQUFDO1lBQ047VUFBQztVQUFBO1lBQUE7UUFBQTtNQUFBO0lBQUE7RUFBQSxDQUNKO0VBQUE7SUFBQTtFQUFBO0FBQUE7QUFFRGYsT0FBTyxDQUFDZ0Isa0JBQWtCO0VBQUEsdUVBQUcsa0JBQU9kLEdBQUcsRUFBRUMsR0FBRztJQUFBO0lBQUE7TUFBQTtRQUFBO1VBQUE7WUFDaENjLE1BQU0sR0FBS2YsR0FBRyxDQUFDSyxLQUFLLENBQXBCVSxNQUFNO1lBQUE7WUFBQSxPQUNHYixnQkFBUyxDQUFDQyxPQUFPLENBQUM7Y0FBRVUsT0FBTyxFQUFFRTtZQUFPLENBQUMsQ0FBQztVQUFBO1lBQW5EUixJQUFJO1lBQ1IsSUFBSSxDQUFDQSxJQUFJLEVBQUU7Y0FDUE4sR0FBRyxDQUFDTyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztnQkFDakJDLE9BQU8sRUFBRSxPQUFPO2dCQUNoQkMsT0FBTyxFQUFFO2NBQ2IsQ0FBQyxDQUFDO1lBQ04sQ0FBQyxNQUFNO2NBQ0hWLEdBQUcsQ0FBQ08sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7Z0JBQ2pCQyxPQUFPLEVBQUUsU0FBUztnQkFDbEJDLE9BQU8sRUFBRTtrQkFDTEssSUFBSSxFQUFFVCxJQUFJLENBQUNTLElBQUk7a0JBQ2ZKLEVBQUUsRUFBRUwsSUFBSSxDQUFDTSxPQUFPO2tCQUNoQkksV0FBVyxFQUFFVixJQUFJLENBQUNVO2dCQUN0QjtjQUNKLENBQUMsQ0FBQztZQUNOO1VBQUM7VUFBQTtZQUFBO1FBQUE7TUFBQTtJQUFBO0VBQUEsQ0FDSjtFQUFBO0lBQUE7RUFBQTtBQUFBIn0=","map":{"version":3,"names":["exports","GetReceiverId","req","res","UserModel","findOne","_id","query","userObjId","user","status","send","message","content","id","user_id","GetTransferAccount","userId","name","bankaccount"],"sourceRoot":"/Users/chunkuei/code/BuyMeClone/backend/src/routes/","sources":["transfer.js"],"sourcesContent":["import { UserModel } from '../models/BuyMe'\n\nexports.GetReceiverId = async (req, res) => {\n    let user = await UserModel.findOne({ _id: req.query.userObjId })\n    if (!user) {\n        res.status(200).send({\n            message: 'error',\n            content: 'Cannot find user with this ID!',\n        })\n    } else {\n        res.status(200).send({\n            message: 'success',\n            content: {\n                id: user.user_id,\n            },\n        })\n    }\n}\n\nexports.GetTransferAccount = async (req, res) => {\n    const { userId } = req.query\n    let user = await UserModel.findOne({ user_id: userId })\n    if (!user) {\n        res.status(200).send({\n            message: 'error',\n            content: 'Cannot find user with this ID!',\n        })\n    } else {\n        res.status(200).send({\n            message: 'success',\n            content: {\n                name: user.name,\n                id: user.user_id,\n                bankaccount: user.bankaccount,\n            },\n        })\n    }\n}\n"],"mappings":";;;AAAA;AAA2C,+CAC3C;AAAA;AAAA;AACAA,OAAO,CAACC,aAAa;EAAA,sEAAG,iBAAOC,GAAG,EAAEC,GAAG;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,OAClBC,gBAAS,CAACC,OAAO,CAAC;cAAEC,GAAG,EAAEJ,GAAG,CAACK,KAAK,CAACC;YAAU,CAAC,CAAC;UAAA;YAA5DC,IAAI;YACR,IAAI,CAACA,IAAI,EAAE;cACPN,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;gBACjBC,OAAO,EAAE,OAAO;gBAChBC,OAAO,EAAE;cACb,CAAC,CAAC;YACN,CAAC,MAAM;cACHV,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;gBACjBC,OAAO,EAAE,SAAS;gBAClBC,OAAO,EAAE;kBACLC,EAAE,EAAEL,IAAI,CAACM;gBACb;cACJ,CAAC,CAAC;YACN;UAAC;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CACJ;EAAA;IAAA;EAAA;AAAA;AAEDf,OAAO,CAACgB,kBAAkB;EAAA,uEAAG,kBAAOd,GAAG,EAAEC,GAAG;IAAA;IAAA;MAAA;QAAA;UAAA;YAChCc,MAAM,GAAKf,GAAG,CAACK,KAAK,CAApBU,MAAM;YAAA;YAAA,OACGb,gBAAS,CAACC,OAAO,CAAC;cAAEU,OAAO,EAAEE;YAAO,CAAC,CAAC;UAAA;YAAnDR,IAAI;YACR,IAAI,CAACA,IAAI,EAAE;cACPN,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;gBACjBC,OAAO,EAAE,OAAO;gBAChBC,OAAO,EAAE;cACb,CAAC,CAAC;YACN,CAAC,MAAM;cACHV,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;gBACjBC,OAAO,EAAE,SAAS;gBAClBC,OAAO,EAAE;kBACLK,IAAI,EAAET,IAAI,CAACS,IAAI;kBACfJ,EAAE,EAAEL,IAAI,CAACM,OAAO;kBAChBI,WAAW,EAAEV,IAAI,CAACU;gBACtB;cACJ,CAAC,CAAC;YACN;UAAC;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CACJ;EAAA;IAAA;EAAA;AAAA"}},"mtime":1672983804122},"{\"assumptions\":{},\"sourceRoot\":\"/Users/chunkuei/code/BuyMeClone/backend/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/chunkuei/code/BuyMeClone/backend\",\"filename\":\"/Users/chunkuei/code/BuyMeClone/backend/src/routes/task.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/chunkuei/code/BuyMeClone/backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.5:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nvar _BuyMe = require(\"../models/BuyMe\");\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nexports.FilterTasksByDueStart = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var nPerPage, maxPageN, allTasks;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            nPerPage = req.query.nPerPage;\n            maxPageN = req.query.maxPageN;\n            _context.next = 4;\n            return _BuyMe.TaskModel.find({\n              status: 'open'\n            }) //status: 'open'\n            .sort({\n              due_start: 1\n            }).limit(maxPageN * nPerPage);\n          case 4:\n            allTasks = _context.sent;\n            res.send({\n              allTasks: allTasks\n            });\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexports.FilterTasksByFee = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var nPerPage, maxPageN, allTasks;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            nPerPage = req.query.nPerPage;\n            maxPageN = req.query.maxPageN;\n            _context2.next = 4;\n            return _BuyMe.TaskModel.find({\n              status: 'open'\n            }).sort({\n              fee: -1\n            }).limit(maxPageN * nPerPage);\n          case 4:\n            allTasks = _context2.sent;\n            res.send({\n              allTasks: allTasks\n            });\n          case 6:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexports.DeleteAllTasks = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(_, res) {\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return _BuyMe.TaskModel.deleteMany({});\n          case 2:\n            _context3.next = 4;\n            return _BuyMe.ChatBoxModel.deleteMany({});\n          case 4:\n            _context3.next = 6;\n            return _BuyMe.MessageModel.deleteMany({});\n          case 6:\n            res.send({\n              success: true\n            });\n          case 7:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return function (_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nexports.GetTaskNum = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(_, res) {\n    var offset, DayRange, taskNum;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            offset = new Date(Date.now());\n            DayRange = 2;\n            offset.setDate(offset.getDate() - DayRange);\n            _context4.next = 5;\n            return _BuyMe.TaskModel.find({\n              status: 'open',\n              created_at: {\n                $gt: offset\n              }\n            }).count();\n          case 5:\n            taskNum = _context4.sent;\n            res.send({\n              taskNum: taskNum\n            });\n          case 7:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n  return function (_x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nexports.AddDummyTasks = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(_, res) {\n    var person, D, i, t;\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return _BuyMe.UserModel.findOne({\n              user_id: 'R11725051'\n            });\n          case 2:\n            person = _context5.sent;\n            D = new Date(Date.now());\n            i = 0;\n          case 5:\n            if (!(i < 1)) {\n              _context5.next = 12;\n              break;\n            }\n            t = new _BuyMe.TaskModel({\n              sender: person,\n              created_at: new Date(Date.now()),\n              title: 'Dummy',\n              restaurantName: 'Dummy Restaurant',\n              taskContent: 'Dummy Task',\n              due_start: D.setDate(D.getDate() - 4),\n              due_end: new Date(Date.now()),\n              fee: 10000,\n              status: 'open'\n            });\n            _context5.next = 9;\n            return t.save();\n          case 9:\n            i++;\n            _context5.next = 5;\n            break;\n          case 12:\n            res.send({\n              success: true\n            });\n          case 13:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n  return function (_x9, _x10) {\n    return _ref5.apply(this, arguments);\n  };\n}();\nexports.GetMyAddedTasks = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(req, res) {\n    var currentPage, nPerPage, maxPageN, id, myUserModel, myTasks, taskOverload;\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            currentPage = req.query.currentPage;\n            nPerPage = req.query.nPerPage;\n            maxPageN = req.query.maxPageN;\n            id = req.query.id;\n            _context6.next = 6;\n            return _BuyMe.UserModel.findOne({\n              user_id: id\n            });\n          case 6:\n            myUserModel = _context6.sent;\n            _context6.next = 9;\n            return _BuyMe.TaskModel.find({\n              sender: myUserModel,\n              status: {\n                $in: ['accepted', 'completed']\n              }\n            }).sort({\n              status: 1,\n              due_end: 1\n            });\n          case 9:\n            myTasks = _context6.sent;\n            taskOverload = myTasks.length === maxPageN * nPerPage + 1;\n            res.send({\n              myTasks: myTasks,\n              taskOverload: taskOverload\n            });\n          case 12:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n  return function (_x11, _x12) {\n    return _ref6.apply(this, arguments);\n  };\n}();\nexports.GetMyAcceptedTasks = /*#__PURE__*/function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(req, res) {\n    var currentPage, nPerPage, maxPageN, id, myUserModel, myTasks, taskOverload;\n    return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            currentPage = req.query.currentPage;\n            nPerPage = req.query.nPerPage;\n            maxPageN = req.query.maxPageN;\n            id = req.query.id;\n            _context7.next = 6;\n            return _BuyMe.UserModel.findOne({\n              user_id: id\n            });\n          case 6:\n            myUserModel = _context7.sent;\n            _context7.next = 9;\n            return _BuyMe.TaskModel.find({\n              receiver: myUserModel,\n              status: {\n                $in: ['accepted', 'completed']\n              }\n            }).sort({\n              status: 1,\n              due_end: 1\n            });\n          case 9:\n            myTasks = _context7.sent;\n            taskOverload = myTasks.length === maxPageN * nPerPage + 1;\n            res.send({\n              myTasks: myTasks,\n              taskOverload: taskOverload\n            });\n          case 12:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7);\n  }));\n  return function (_x13, _x14) {\n    return _ref7.apply(this, arguments);\n  };\n}();\nexports.CreateTask = /*#__PURE__*/function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(req, res) {\n    var _req$body, id, title, restaurant, fee, arrivalStart, arrivalEnd, taskContent, myUserModel, newTask;\n    return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            _req$body = req.body, id = _req$body.id, title = _req$body.title, restaurant = _req$body.restaurant, fee = _req$body.fee, arrivalStart = _req$body.arrivalStart, arrivalEnd = _req$body.arrivalEnd, taskContent = _req$body.taskContent;\n            _context8.next = 3;\n            return _BuyMe.UserModel.findOne({\n              user_id: id\n            });\n          case 3:\n            myUserModel = _context8.sent;\n            newTask = new _BuyMe.TaskModel({\n              sender: myUserModel,\n              created_at: new Date(Date.now()),\n              title: title,\n              restaurantName: restaurant,\n              taskContent: taskContent,\n              due_start: arrivalStart,\n              due_end: arrivalEnd,\n              fee: fee,\n              status: 'open'\n            });\n            _context8.next = 7;\n            return newTask.save();\n          case 7:\n          case \"end\":\n            return _context8.stop();\n        }\n      }\n    }, _callee8);\n  }));\n  return function (_x15, _x16) {\n    return _ref8.apply(this, arguments);\n  };\n}();\nexports.AcceptTasks = /*#__PURE__*/function () {\n  var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9(req, res) {\n    var makeName, _req$body2, id, receiver, user, task, task_populated, senderName, chatBoxName, newChatRoom;\n    return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n      while (1) {\n        switch (_context9.prev = _context9.next) {\n          case 0:\n            makeName = function makeName(name, to) {\n              return [name, to].sort().join('_');\n            };\n            _req$body2 = req.body, id = _req$body2.id, receiver = _req$body2.receiver;\n            _context9.next = 4;\n            return _BuyMe.UserModel.findOne({\n              user_id: receiver\n            });\n          case 4:\n            user = _context9.sent;\n            _context9.next = 7;\n            return _BuyMe.TaskModel.findOne({\n              _id: id\n            });\n          case 7:\n            task = _context9.sent;\n            _context9.next = 10;\n            return task.populate({\n              path: 'sender',\n              select: 'name'\n            });\n          case 10:\n            task_populated = _context9.sent;\n            senderName = task_populated.sender.name;\n            chatBoxName = makeName(user.name, senderName);\n            _context9.next = 15;\n            return _BuyMe.TaskModel.updateOne({\n              _id: id\n            }, {\n              receiver: user,\n              status: 'accepted'\n            });\n          case 15:\n            newChatRoom = new _BuyMe.ChatBoxModel({\n              name: chatBoxName,\n              title: task.title,\n              sender: task.sender,\n              receiver: user,\n              due_period: \"\".concat(task.due_start.toDateString(), \" \").concat(task.due_start.toTimeString().split(' ', 1), \" ~ \").concat(task.due_end.toDateString(), \" \").concat(task.due_end.toTimeString().split(' ', 1)),\n              fee: task.fee,\n              from: senderName,\n              task_id: task._id\n            });\n            newChatRoom.save();\n            res.send({\n              message: 'success',\n              content: 'Task Accepted'\n            });\n          case 18:\n          case \"end\":\n            return _context9.stop();\n        }\n      }\n    }, _callee9);\n  }));\n  return function (_x17, _x18) {\n    return _ref9.apply(this, arguments);\n  };\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHBvcnRzIiwiRmlsdGVyVGFza3NCeUR1ZVN0YXJ0IiwicmVxIiwicmVzIiwiblBlclBhZ2UiLCJxdWVyeSIsIm1heFBhZ2VOIiwiVGFza01vZGVsIiwiZmluZCIsInN0YXR1cyIsInNvcnQiLCJkdWVfc3RhcnQiLCJsaW1pdCIsImFsbFRhc2tzIiwic2VuZCIsIkZpbHRlclRhc2tzQnlGZWUiLCJmZWUiLCJEZWxldGVBbGxUYXNrcyIsIl8iLCJkZWxldGVNYW55IiwiQ2hhdEJveE1vZGVsIiwiTWVzc2FnZU1vZGVsIiwic3VjY2VzcyIsIkdldFRhc2tOdW0iLCJvZmZzZXQiLCJEYXRlIiwibm93IiwiRGF5UmFuZ2UiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsImNyZWF0ZWRfYXQiLCIkZ3QiLCJjb3VudCIsInRhc2tOdW0iLCJBZGREdW1teVRhc2tzIiwiVXNlck1vZGVsIiwiZmluZE9uZSIsInVzZXJfaWQiLCJwZXJzb24iLCJEIiwiaSIsInQiLCJzZW5kZXIiLCJ0aXRsZSIsInJlc3RhdXJhbnROYW1lIiwidGFza0NvbnRlbnQiLCJkdWVfZW5kIiwic2F2ZSIsIkdldE15QWRkZWRUYXNrcyIsImN1cnJlbnRQYWdlIiwiaWQiLCJteVVzZXJNb2RlbCIsIiRpbiIsIm15VGFza3MiLCJ0YXNrT3ZlcmxvYWQiLCJsZW5ndGgiLCJHZXRNeUFjY2VwdGVkVGFza3MiLCJyZWNlaXZlciIsIkNyZWF0ZVRhc2siLCJib2R5IiwicmVzdGF1cmFudCIsImFycml2YWxTdGFydCIsImFycml2YWxFbmQiLCJuZXdUYXNrIiwiQWNjZXB0VGFza3MiLCJtYWtlTmFtZSIsIm5hbWUiLCJ0byIsImpvaW4iLCJ1c2VyIiwiX2lkIiwidGFzayIsInBvcHVsYXRlIiwicGF0aCIsInNlbGVjdCIsInRhc2tfcG9wdWxhdGVkIiwic2VuZGVyTmFtZSIsImNoYXRCb3hOYW1lIiwidXBkYXRlT25lIiwibmV3Q2hhdFJvb20iLCJkdWVfcGVyaW9kIiwidG9EYXRlU3RyaW5nIiwidG9UaW1lU3RyaW5nIiwic3BsaXQiLCJmcm9tIiwidGFza19pZCIsIm1lc3NhZ2UiLCJjb250ZW50Il0sInNvdXJjZVJvb3QiOiIvVXNlcnMvY2h1bmt1ZWkvY29kZS9CdXlNZUNsb25lL2JhY2tlbmQvc3JjL3JvdXRlcy8iLCJzb3VyY2VzIjpbInRhc2suanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTWVzc2FnZU1vZGVsLCBUYXNrTW9kZWwgfSBmcm9tICcuLi9tb2RlbHMvQnV5TWUnXG5pbXBvcnQgeyBVc2VyTW9kZWwgfSBmcm9tICcuLi9tb2RlbHMvQnV5TWUnXG5pbXBvcnQgeyBDaGF0Qm94TW9kZWwgfSBmcm9tICcuLi9tb2RlbHMvQnV5TWUnXG5cbmV4cG9ydHMuRmlsdGVyVGFza3NCeUR1ZVN0YXJ0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgblBlclBhZ2UgPSByZXEucXVlcnkublBlclBhZ2VcbiAgICBjb25zdCBtYXhQYWdlTiA9IHJlcS5xdWVyeS5tYXhQYWdlTlxuICAgIGNvbnN0IGFsbFRhc2tzID0gYXdhaXQgVGFza01vZGVsLmZpbmQoeyBzdGF0dXM6ICdvcGVuJyB9KSAvL3N0YXR1czogJ29wZW4nXG4gICAgICAgIC5zb3J0KHsgZHVlX3N0YXJ0OiAxIH0pXG4gICAgICAgIC5saW1pdChtYXhQYWdlTiAqIG5QZXJQYWdlKVxuXG4gICAgcmVzLnNlbmQoeyBhbGxUYXNrcyB9KVxufVxuXG5leHBvcnRzLkZpbHRlclRhc2tzQnlGZWUgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBuUGVyUGFnZSA9IHJlcS5xdWVyeS5uUGVyUGFnZVxuICAgIGNvbnN0IG1heFBhZ2VOID0gcmVxLnF1ZXJ5Lm1heFBhZ2VOXG5cbiAgICBjb25zdCBhbGxUYXNrcyA9IGF3YWl0IFRhc2tNb2RlbC5maW5kKHsgc3RhdHVzOiAnb3BlbicgfSlcbiAgICAgICAgLnNvcnQoeyBmZWU6IC0xIH0pXG4gICAgICAgIC5saW1pdChtYXhQYWdlTiAqIG5QZXJQYWdlKVxuXG4gICAgcmVzLnNlbmQoeyBhbGxUYXNrcyB9KVxufVxuXG5leHBvcnRzLkRlbGV0ZUFsbFRhc2tzID0gYXN5bmMgKF8sIHJlcykgPT4ge1xuICAgIGF3YWl0IFRhc2tNb2RlbC5kZWxldGVNYW55KHt9KVxuICAgIGF3YWl0IENoYXRCb3hNb2RlbC5kZWxldGVNYW55KHt9KVxuICAgIGF3YWl0IE1lc3NhZ2VNb2RlbC5kZWxldGVNYW55KHt9KVxuICAgIHJlcy5zZW5kKHsgc3VjY2VzczogdHJ1ZSB9KVxufVxuXG5leHBvcnRzLkdldFRhc2tOdW0gPSBhc3luYyAoXywgcmVzKSA9PiB7XG4gICAgY29uc3Qgb2Zmc2V0ID0gbmV3IERhdGUoRGF0ZS5ub3coKSlcbiAgICBjb25zdCBEYXlSYW5nZSA9IDJcbiAgICBvZmZzZXQuc2V0RGF0ZShvZmZzZXQuZ2V0RGF0ZSgpIC0gRGF5UmFuZ2UpXG4gICAgY29uc3QgdGFza051bSA9IGF3YWl0IFRhc2tNb2RlbC5maW5kKHtcbiAgICAgICAgc3RhdHVzOiAnb3BlbicsXG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgJGd0OiBvZmZzZXQgfSxcbiAgICB9KS5jb3VudCgpXG4gICAgcmVzLnNlbmQoeyB0YXNrTnVtIH0pXG59XG5cbmV4cG9ydHMuQWRkRHVtbXlUYXNrcyA9IGFzeW5jIChfLCByZXMpID0+IHtcbiAgICBjb25zdCBwZXJzb24gPSBhd2FpdCBVc2VyTW9kZWwuZmluZE9uZSh7IHVzZXJfaWQ6ICdSMTE3MjUwNTEnIH0pXG4gICAgY29uc3QgRCA9IG5ldyBEYXRlKERhdGUubm93KCkpXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDE7IGkrKykge1xuICAgICAgICBjb25zdCB0ID0gbmV3IFRhc2tNb2RlbCh7XG4gICAgICAgICAgICBzZW5kZXI6IHBlcnNvbixcbiAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKERhdGUubm93KCkpLFxuICAgICAgICAgICAgdGl0bGU6ICdEdW1teScsXG4gICAgICAgICAgICByZXN0YXVyYW50TmFtZTogJ0R1bW15IFJlc3RhdXJhbnQnLFxuICAgICAgICAgICAgdGFza0NvbnRlbnQ6ICdEdW1teSBUYXNrJyxcbiAgICAgICAgICAgIGR1ZV9zdGFydDogRC5zZXREYXRlKEQuZ2V0RGF0ZSgpIC0gNCksXG4gICAgICAgICAgICBkdWVfZW5kOiBuZXcgRGF0ZShEYXRlLm5vdygpKSxcbiAgICAgICAgICAgIGZlZTogMTAwMDAsXG4gICAgICAgICAgICBzdGF0dXM6ICdvcGVuJyxcbiAgICAgICAgfSlcbiAgICAgICAgYXdhaXQgdC5zYXZlKClcbiAgICB9XG5cbiAgICByZXMuc2VuZCh7IHN1Y2Nlc3M6IHRydWUgfSlcbn1cblxuZXhwb3J0cy5HZXRNeUFkZGVkVGFza3MgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBjdXJyZW50UGFnZSA9IHJlcS5xdWVyeS5jdXJyZW50UGFnZVxuICAgIGNvbnN0IG5QZXJQYWdlID0gcmVxLnF1ZXJ5Lm5QZXJQYWdlXG4gICAgY29uc3QgbWF4UGFnZU4gPSByZXEucXVlcnkubWF4UGFnZU5cbiAgICBjb25zdCBpZCA9IHJlcS5xdWVyeS5pZFxuICAgIGNvbnN0IG15VXNlck1vZGVsID0gYXdhaXQgVXNlck1vZGVsLmZpbmRPbmUoeyB1c2VyX2lkOiBpZCB9KVxuXG4gICAgY29uc3QgbXlUYXNrcyA9IGF3YWl0IFRhc2tNb2RlbC5maW5kKHtcbiAgICAgICAgc2VuZGVyOiBteVVzZXJNb2RlbCxcbiAgICAgICAgc3RhdHVzOiB7ICRpbjogWydhY2NlcHRlZCcsICdjb21wbGV0ZWQnXSB9LFxuICAgIH0pLnNvcnQoeyBzdGF0dXM6IDEsIGR1ZV9lbmQ6IDEgfSlcbiAgICBjb25zdCB0YXNrT3ZlcmxvYWQgPSBteVRhc2tzLmxlbmd0aCA9PT0gbWF4UGFnZU4gKiBuUGVyUGFnZSArIDFcbiAgICByZXMuc2VuZCh7IG15VGFza3MsIHRhc2tPdmVybG9hZCB9KVxufVxuXG5leHBvcnRzLkdldE15QWNjZXB0ZWRUYXNrcyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnRQYWdlID0gcmVxLnF1ZXJ5LmN1cnJlbnRQYWdlXG4gICAgY29uc3QgblBlclBhZ2UgPSByZXEucXVlcnkublBlclBhZ2VcbiAgICBjb25zdCBtYXhQYWdlTiA9IHJlcS5xdWVyeS5tYXhQYWdlTlxuICAgIGNvbnN0IGlkID0gcmVxLnF1ZXJ5LmlkXG4gICAgY29uc3QgbXlVc2VyTW9kZWwgPSBhd2FpdCBVc2VyTW9kZWwuZmluZE9uZSh7IHVzZXJfaWQ6IGlkIH0pXG4gICAgY29uc3QgbXlUYXNrcyA9IGF3YWl0IFRhc2tNb2RlbC5maW5kKHtcbiAgICAgICAgcmVjZWl2ZXI6IG15VXNlck1vZGVsLFxuICAgICAgICBzdGF0dXM6IHsgJGluOiBbJ2FjY2VwdGVkJywgJ2NvbXBsZXRlZCddIH0sXG4gICAgfSkuc29ydCh7IHN0YXR1czogMSwgZHVlX2VuZDogMSB9KVxuXG4gICAgY29uc3QgdGFza092ZXJsb2FkID0gbXlUYXNrcy5sZW5ndGggPT09IG1heFBhZ2VOICogblBlclBhZ2UgKyAxXG4gICAgcmVzLnNlbmQoeyBteVRhc2tzLCB0YXNrT3ZlcmxvYWQgfSlcbn1cblxuZXhwb3J0cy5DcmVhdGVUYXNrID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgICBpZCxcbiAgICAgICAgdGl0bGUsXG4gICAgICAgIHJlc3RhdXJhbnQsXG4gICAgICAgIGZlZSxcbiAgICAgICAgYXJyaXZhbFN0YXJ0LFxuICAgICAgICBhcnJpdmFsRW5kLFxuICAgICAgICB0YXNrQ29udGVudCxcbiAgICB9ID0gcmVxLmJvZHlcblxuICAgIGNvbnN0IG15VXNlck1vZGVsID0gYXdhaXQgVXNlck1vZGVsLmZpbmRPbmUoeyB1c2VyX2lkOiBpZCB9KVxuICAgIGNvbnN0IG5ld1Rhc2sgPSBuZXcgVGFza01vZGVsKHtcbiAgICAgICAgc2VuZGVyOiBteVVzZXJNb2RlbCxcbiAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoRGF0ZS5ub3coKSksXG4gICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgcmVzdGF1cmFudE5hbWU6IHJlc3RhdXJhbnQsXG4gICAgICAgIHRhc2tDb250ZW50OiB0YXNrQ29udGVudCxcbiAgICAgICAgZHVlX3N0YXJ0OiBhcnJpdmFsU3RhcnQsXG4gICAgICAgIGR1ZV9lbmQ6IGFycml2YWxFbmQsXG4gICAgICAgIGZlZTogZmVlLFxuICAgICAgICBzdGF0dXM6ICdvcGVuJyxcbiAgICB9KVxuXG4gICAgYXdhaXQgbmV3VGFzay5zYXZlKClcbn1cblxuZXhwb3J0cy5BY2NlcHRUYXNrcyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IG1ha2VOYW1lID0gKG5hbWUsIHRvKSA9PiB7XG4gICAgICAgIHJldHVybiBbbmFtZSwgdG9dLnNvcnQoKS5qb2luKCdfJylcbiAgICB9XG5cbiAgICBjb25zdCB7IGlkLCByZWNlaXZlciB9ID0gcmVxLmJvZHlcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlck1vZGVsLmZpbmRPbmUoeyB1c2VyX2lkOiByZWNlaXZlciB9KVxuICAgIGNvbnN0IHRhc2sgPSBhd2FpdCBUYXNrTW9kZWwuZmluZE9uZSh7IF9pZDogaWQgfSlcbiAgICBjb25zdCB0YXNrX3BvcHVsYXRlZCA9IGF3YWl0IHRhc2sucG9wdWxhdGUoe1xuICAgICAgICBwYXRoOiAnc2VuZGVyJyxcbiAgICAgICAgc2VsZWN0OiAnbmFtZScsXG4gICAgfSlcbiAgICBjb25zdCBzZW5kZXJOYW1lID0gdGFza19wb3B1bGF0ZWQuc2VuZGVyLm5hbWVcbiAgICBjb25zdCBjaGF0Qm94TmFtZSA9IG1ha2VOYW1lKHVzZXIubmFtZSwgc2VuZGVyTmFtZSlcbiAgICBhd2FpdCBUYXNrTW9kZWwudXBkYXRlT25lKFxuICAgICAgICB7IF9pZDogaWQgfSxcbiAgICAgICAgeyByZWNlaXZlcjogdXNlciwgc3RhdHVzOiAnYWNjZXB0ZWQnIH1cbiAgICApXG4gICAgY29uc3QgbmV3Q2hhdFJvb20gPSBuZXcgQ2hhdEJveE1vZGVsKHtcbiAgICAgICAgbmFtZTogY2hhdEJveE5hbWUsXG4gICAgICAgIHRpdGxlOiB0YXNrLnRpdGxlLFxuICAgICAgICBzZW5kZXI6IHRhc2suc2VuZGVyLFxuICAgICAgICByZWNlaXZlcjogdXNlcixcbiAgICAgICAgZHVlX3BlcmlvZDogYCR7dGFzay5kdWVfc3RhcnQudG9EYXRlU3RyaW5nKCl9ICR7dGFzay5kdWVfc3RhcnRcbiAgICAgICAgICAgIC50b1RpbWVTdHJpbmcoKVxuICAgICAgICAgICAgLnNwbGl0KCcgJywgMSl9IH4gJHt0YXNrLmR1ZV9lbmQudG9EYXRlU3RyaW5nKCl9ICR7dGFzay5kdWVfZW5kXG4gICAgICAgICAgICAudG9UaW1lU3RyaW5nKClcbiAgICAgICAgICAgIC5zcGxpdCgnICcsIDEpfWAsXG4gICAgICAgIGZlZTogdGFzay5mZWUsXG4gICAgICAgIGZyb206IHNlbmRlck5hbWUsXG4gICAgICAgIHRhc2tfaWQ6IHRhc2suX2lkLFxuICAgIH0pXG5cbiAgICBuZXdDaGF0Um9vbS5zYXZlKClcbiAgICByZXMuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6ICdzdWNjZXNzJyxcbiAgICAgICAgY29udGVudDogJ1Rhc2sgQWNjZXB0ZWQnLFxuICAgIH0pXG59XG4iXSwibWFwcGluZ3MiOiI7OztBQUFBO0FBQXlELCtDQUN6RDtBQUFBO0FBQUE7QUFHQUEsT0FBTyxDQUFDQyxxQkFBcUI7RUFBQSxzRUFBRyxpQkFBT0MsR0FBRyxFQUFFQyxHQUFHO0lBQUE7SUFBQTtNQUFBO1FBQUE7VUFBQTtZQUNyQ0MsUUFBUSxHQUFHRixHQUFHLENBQUNHLEtBQUssQ0FBQ0QsUUFBUTtZQUM3QkUsUUFBUSxHQUFHSixHQUFHLENBQUNHLEtBQUssQ0FBQ0MsUUFBUTtZQUFBO1lBQUEsT0FDWkMsZ0JBQVMsQ0FBQ0MsSUFBSSxDQUFDO2NBQUVDLE1BQU0sRUFBRTtZQUFPLENBQUMsQ0FBQyxDQUFDO1lBQUEsQ0FDckRDLElBQUksQ0FBQztjQUFFQyxTQUFTLEVBQUU7WUFBRSxDQUFDLENBQUMs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","map":{"version":3,"names":["exports","FilterTasksByDueStart","req","res","nPerPage","query","maxPageN","TaskModel","find","status","sort","due_start","limit","allTasks","send","FilterTasksByFee","fee","DeleteAllTasks","_","deleteMany","ChatBoxModel","MessageModel","success","GetTaskNum","offset","Date","now","DayRange","setDate","getDate","created_at","$gt","count","taskNum","AddDummyTasks","UserModel","findOne","user_id","person","D","i","t","sender","title","restaurantName","taskContent","due_end","save","GetMyAddedTasks","currentPage","id","myUserModel","$in","myTasks","taskOverload","length","GetMyAcceptedTasks","receiver","CreateTask","body","restaurant","arrivalStart","arrivalEnd","newTask","AcceptTasks","makeName","name","to","join","user","_id","task","populate","path","select","task_populated","senderName","chatBoxName","updateOne","newChatRoom","due_period","toDateString","toTimeString","split","from","task_id","message","content"],"sourceRoot":"/Users/chunkuei/code/BuyMeClone/backend/src/routes/","sources":["task.js"],"sourcesContent":["import { MessageModel, TaskModel } from '../models/BuyMe'\nimport { UserModel } from '../models/BuyMe'\nimport { ChatBoxModel } from '../models/BuyMe'\n\nexports.FilterTasksByDueStart = async (req, res) => {\n    const nPerPage = req.query.nPerPage\n    const maxPageN = req.query.maxPageN\n    const allTasks = await TaskModel.find({ status: 'open' }) //status: 'open'\n        .sort({ due_start: 1 })\n        .limit(maxPageN * nPerPage)\n\n    res.send({ allTasks })\n}\n\nexports.FilterTasksByFee = async (req, res) => {\n    const nPerPage = req.query.nPerPage\n    const maxPageN = req.query.maxPageN\n\n    const allTasks = await TaskModel.find({ status: 'open' })\n        .sort({ fee: -1 })\n        .limit(maxPageN * nPerPage)\n\n    res.send({ allTasks })\n}\n\nexports.DeleteAllTasks = async (_, res) => {\n    await TaskModel.deleteMany({})\n    await ChatBoxModel.deleteMany({})\n    await MessageModel.deleteMany({})\n    res.send({ success: true })\n}\n\nexports.GetTaskNum = async (_, res) => {\n    const offset = new Date(Date.now())\n    const DayRange = 2\n    offset.setDate(offset.getDate() - DayRange)\n    const taskNum = await TaskModel.find({\n        status: 'open',\n        created_at: { $gt: offset },\n    }).count()\n    res.send({ taskNum })\n}\n\nexports.AddDummyTasks = async (_, res) => {\n    const person = await UserModel.findOne({ user_id: 'R11725051' })\n    const D = new Date(Date.now())\n\n    for (let i = 0; i < 1; i++) {\n        const t = new TaskModel({\n            sender: person,\n            created_at: new Date(Date.now()),\n            title: 'Dummy',\n            restaurantName: 'Dummy Restaurant',\n            taskContent: 'Dummy Task',\n            due_start: D.setDate(D.getDate() - 4),\n            due_end: new Date(Date.now()),\n            fee: 10000,\n            status: 'open',\n        })\n        await t.save()\n    }\n\n    res.send({ success: true })\n}\n\nexports.GetMyAddedTasks = async (req, res) => {\n    const currentPage = req.query.currentPage\n    const nPerPage = req.query.nPerPage\n    const maxPageN = req.query.maxPageN\n    const id = req.query.id\n    const myUserModel = await UserModel.findOne({ user_id: id })\n\n    const myTasks = await TaskModel.find({\n        sender: myUserModel,\n        status: { $in: ['accepted', 'completed'] },\n    }).sort({ status: 1, due_end: 1 })\n    const taskOverload = myTasks.length === maxPageN * nPerPage + 1\n    res.send({ myTasks, taskOverload })\n}\n\nexports.GetMyAcceptedTasks = async (req, res) => {\n    const currentPage = req.query.currentPage\n    const nPerPage = req.query.nPerPage\n    const maxPageN = req.query.maxPageN\n    const id = req.query.id\n    const myUserModel = await UserModel.findOne({ user_id: id })\n    const myTasks = await TaskModel.find({\n        receiver: myUserModel,\n        status: { $in: ['accepted', 'completed'] },\n    }).sort({ status: 1, due_end: 1 })\n\n    const taskOverload = myTasks.length === maxPageN * nPerPage + 1\n    res.send({ myTasks, taskOverload })\n}\n\nexports.CreateTask = async (req, res) => {\n    const {\n        id,\n        title,\n        restaurant,\n        fee,\n        arrivalStart,\n        arrivalEnd,\n        taskContent,\n    } = req.body\n\n    const myUserModel = await UserModel.findOne({ user_id: id })\n    const newTask = new TaskModel({\n        sender: myUserModel,\n        created_at: new Date(Date.now()),\n        title: title,\n        restaurantName: restaurant,\n        taskContent: taskContent,\n        due_start: arrivalStart,\n        due_end: arrivalEnd,\n        fee: fee,\n        status: 'open',\n    })\n\n    await newTask.save()\n}\n\nexports.AcceptTasks = async (req, res) => {\n    const makeName = (name, to) => {\n        return [name, to].sort().join('_')\n    }\n\n    const { id, receiver } = req.body\n    const user = await UserModel.findOne({ user_id: receiver })\n    const task = await TaskModel.findOne({ _id: id })\n    const task_populated = await task.populate({\n        path: 'sender',\n        select: 'name',\n    })\n    const senderName = task_populated.sender.name\n    const chatBoxName = makeName(user.name, senderName)\n    await TaskModel.updateOne(\n        { _id: id },\n        { receiver: user, status: 'accepted' }\n    )\n    const newChatRoom = new ChatBoxModel({\n        name: chatBoxName,\n        title: task.title,\n        sender: task.sender,\n        receiver: user,\n        due_period: `${task.due_start.toDateString()} ${task.due_start\n            .toTimeString()\n            .split(' ', 1)} ~ ${task.due_end.toDateString()} ${task.due_end\n            .toTimeString()\n            .split(' ', 1)}`,\n        fee: task.fee,\n        from: senderName,\n        task_id: task._id,\n    })\n\n    newChatRoom.save()\n    res.send({\n        message: 'success',\n        content: 'Task Accepted',\n    })\n}\n"],"mappings":"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"}},"mtime":1672983804121},"{\"assumptions\":{},\"sourceRoot\":\"/Users/chunkuei/code/BuyMeClone/backend/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/chunkuei/code/BuyMeClone/backend\",\"filename\":\"/Users/chunkuei/code/BuyMeClone/backend/src/routes/chat.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/chunkuei/code/BuyMeClone/backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.5:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nvar _BuyMe = require(\"../models/BuyMe\");\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nexports.GetChat = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var id, user, chatRooms;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            id = req.query.id;\n            _context.next = 3;\n            return _BuyMe.UserModel.findOne({\n              user_id: id\n            });\n          case 3:\n            user = _context.sent;\n            _context.next = 6;\n            return _BuyMe.ChatBoxModel.find({\n              $or: [{\n                sender: user\n              }, {\n                receiver: user\n              }]\n            }).populate('messages');\n          case 6:\n            chatRooms = _context.sent;\n            res.send({\n              chatRooms: chatRooms\n            });\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexports.FulfillOrder = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var senderID, receiverID, userID, taskID, user, chatRooms;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            senderID = req.body.senderID;\n            receiverID = req.body.receiverID;\n            userID = req.body.userID;\n            taskID = req.body.taskID;\n            _context2.prev = 4;\n            _context2.next = 7;\n            return _BuyMe.TaskModel.findOneAndUpdate({\n              sender: senderID,\n              receiver: receiverID\n            }, {\n              status: 'completed'\n            });\n          case 7:\n            _context2.next = 12;\n            break;\n          case 9:\n            _context2.prev = 9;\n            _context2.t0 = _context2[\"catch\"](4);\n            console.log(_context2.t0);\n          case 12:\n            _context2.prev = 12;\n            _context2.next = 15;\n            return _BuyMe.ChatBoxModel.findOneAndDelete({\n              task_id: taskID\n            });\n          case 15:\n            _context2.next = 20;\n            break;\n          case 17:\n            _context2.prev = 17;\n            _context2.t1 = _context2[\"catch\"](12);\n            console.log(_context2.t1);\n          case 20:\n            _context2.next = 22;\n            return _BuyMe.UserModel.findOne({\n              user_id: userID\n            });\n          case 22:\n            user = _context2.sent;\n            _context2.next = 25;\n            return _BuyMe.ChatBoxModel.find({\n              $or: [{\n                sender: user\n              }, {\n                receiver: user\n              }]\n            }).populate('messages');\n          case 25:\n            chatRooms = _context2.sent;\n            res.send({\n              chatRooms: chatRooms\n            });\n          case 27:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[4, 9], [12, 17]]);\n  }));\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHBvcnRzIiwiR2V0Q2hhdCIsInJlcSIsInJlcyIsImlkIiwicXVlcnkiLCJVc2VyTW9kZWwiLCJmaW5kT25lIiwidXNlcl9pZCIsInVzZXIiLCJDaGF0Qm94TW9kZWwiLCJmaW5kIiwiJG9yIiwic2VuZGVyIiwicmVjZWl2ZXIiLCJwb3B1bGF0ZSIsImNoYXRSb29tcyIsInNlbmQiLCJGdWxmaWxsT3JkZXIiLCJzZW5kZXJJRCIsImJvZHkiLCJyZWNlaXZlcklEIiwidXNlcklEIiwidGFza0lEIiwiVGFza01vZGVsIiwiZmluZE9uZUFuZFVwZGF0ZSIsInN0YXR1cyIsImNvbnNvbGUiLCJsb2ciLCJmaW5kT25lQW5kRGVsZXRlIiwidGFza19pZCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2NodW5rdWVpL2NvZGUvQnV5TWVDbG9uZS9iYWNrZW5kL3NyYy9yb3V0ZXMvIiwic291cmNlcyI6WyJjaGF0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENoYXRCb3hNb2RlbCwgVXNlck1vZGVsLCBUYXNrTW9kZWwgfSBmcm9tICcuLi9tb2RlbHMvQnV5TWUnXG5cbmV4cG9ydHMuR2V0Q2hhdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IGlkID0gcmVxLnF1ZXJ5LmlkXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJNb2RlbC5maW5kT25lKHsgdXNlcl9pZDogaWQgfSlcbiAgICBjb25zdCBjaGF0Um9vbXMgPSBhd2FpdCBDaGF0Qm94TW9kZWwuZmluZCh7XG4gICAgICAgICRvcjogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNlbmRlcjogdXNlcixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmVjZWl2ZXI6IHVzZXIsXG4gICAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgIH0pLnBvcHVsYXRlKCdtZXNzYWdlcycpXG4gICAgcmVzLnNlbmQoeyBjaGF0Um9vbXM6IGNoYXRSb29tcyB9KVxufVxuXG5leHBvcnRzLkZ1bGZpbGxPcmRlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHNlbmRlcklEID0gcmVxLmJvZHkuc2VuZGVySURcbiAgICBjb25zdCByZWNlaXZlcklEID0gcmVxLmJvZHkucmVjZWl2ZXJJRFxuICAgIGNvbnN0IHVzZXJJRCA9IHJlcS5ib2R5LnVzZXJJRFxuICAgIGNvbnN0IHRhc2tJRCA9IHJlcS5ib2R5LnRhc2tJRFxuXG4gICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgVGFza01vZGVsLmZpbmRPbmVBbmRVcGRhdGUoXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2VuZGVyOiBzZW5kZXJJRCxcbiAgICAgICAgICAgICAgICByZWNlaXZlcjogcmVjZWl2ZXJJRCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7IHN0YXR1czogJ2NvbXBsZXRlZCcgfVxuICAgICAgICApXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhlKVxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IENoYXRCb3hNb2RlbC5maW5kT25lQW5kRGVsZXRlKHsgdGFza19pZDogdGFza0lEIH0pXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhlKVxuICAgIH1cblxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyTW9kZWwuZmluZE9uZSh7IHVzZXJfaWQ6IHVzZXJJRCB9KVxuICAgIGNvbnN0IGNoYXRSb29tcyA9IGF3YWl0IENoYXRCb3hNb2RlbC5maW5kKHtcbiAgICAgICAgJG9yOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2VuZGVyOiB1c2VyLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZWNlaXZlcjogdXNlcixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgfSkucG9wdWxhdGUoJ21lc3Nh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","map":{"version":3,"names":["exports","GetChat","req","res","id","query","UserModel","findOne","user_id","user","ChatBoxModel","find","$or","sender","receiver","populate","chatRooms","send","FulfillOrder","senderID","body","receiverID","userID","taskID","TaskModel","findOneAndUpdate","status","console","log","findOneAndDelete","task_id"],"sourceRoot":"/Users/chunkuei/code/BuyMeClone/backend/src/routes/","sources":["chat.js"],"sourcesContent":["import { ChatBoxModel, UserModel, TaskModel } from '../models/BuyMe'\n\nexports.GetChat = async (req, res) => {\n    const id = req.query.id\n    const user = await UserModel.findOne({ user_id: id })\n    const chatRooms = await ChatBoxModel.find({\n        $or: [\n            {\n                sender: user,\n            },\n            {\n                receiver: user,\n            },\n        ],\n    }).populate('messages')\n    res.send({ chatRooms: chatRooms })\n}\n\nexports.FulfillOrder = async (req, res) => {\n    const senderID = req.body.senderID\n    const receiverID = req.body.receiverID\n    const userID = req.body.userID\n    const taskID = req.body.taskID\n\n    try {\n        await TaskModel.findOneAndUpdate(\n            {\n                sender: senderID,\n                receiver: receiverID,\n            },\n            { status: 'completed' }\n        )\n    } catch (e) {\n        console.log(e)\n    }\n\n    try {\n        await ChatBoxModel.findOneAndDelete({ task_id: taskID })\n    } catch (e) {\n        console.log(e)\n    }\n\n    const user = await UserModel.findOne({ user_id: userID })\n    const chatRooms = await ChatBoxModel.find({\n        $or: [\n            {\n                sender: user,\n            },\n            {\n                receiver: user,\n            },\n        ],\n    }).populate('messages')\n    res.send({ chatRooms: chatRooms })\n}\n"],"mappings":";;;AAAA;AAAoE,+CACpE;AAAA;AAAA;AACAA,OAAO,CAACC,OAAO;EAAA,sEAAG,iBAAOC,GAAG,EAAEC,GAAG;IAAA;IAAA;MAAA;QAAA;UAAA;YACvBC,EAAE,GAAGF,GAAG,CAACG,KAAK,CAACD,EAAE;YAAA;YAAA,OACJE,gBAAS,CAACC,OAAO,CAAC;cAAEC,OAAO,EAAEJ;YAAG,CAAC,CAAC;UAAA;YAA/CK,IAAI;YAAA;YAAA,OACcC,mBAAY,CAACC,IAAI,CAAC;cACtCC,GAAG,EAAE,CACD;gBACIC,MAAM,EAAEJ;cACZ,CAAC,EACD;gBACIK,QAAQ,EAAEL;cACd,CAAC;YAET,CAAC,CAAC,CAACM,QAAQ,CAAC,UAAU,CAAC;UAAA;YATjBC,SAAS;YAUfb,GAAG,CAACc,IAAI,CAAC;cAAED,SAAS,EAAEA;YAAU,CAAC,CAAC;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CACrC;EAAA;IAAA;EAAA;AAAA;AAEDhB,OAAO,CAACkB,YAAY;EAAA,uEAAG,kBAAOhB,GAAG,EAAEC,GAAG;IAAA;IAAA;MAAA;QAAA;UAAA;YAC5BgB,QAAQ,GAAGjB,GAAG,CAACkB,IAAI,CAACD,QAAQ;YAC5BE,UAAU,GAAGnB,GAAG,CAACkB,IAAI,CAACC,UAAU;YAChCC,MAAM,GAAGpB,GAAG,CAACkB,IAAI,CAACE,MAAM;YACxBC,MAAM,GAAGrB,GAAG,CAACkB,IAAI,CAACG,MAAM;YAAA;YAAA;YAAA,OAGpBC,gBAAS,CAACC,gBAAgB,CAC5B;cACIZ,MAAM,EAAEM,QAAQ;cAChBL,QAAQ,EAAEO;YACd,CAAC,EACD;cAAEK,MAAM,EAAE;YAAY,CAAC,CAC1B;UAAA;YAAA;YAAA;UAAA;YAAA;YAAA;YAEDC,OAAO,CAACC,GAAG,cAAG;UAAA;YAAA;YAAA;YAAA,OAIRlB,mBAAY,CAACmB,gBAAgB,CAAC;cAAEC,OAAO,EAAEP;YAAO,CAAC,CAAC;UAAA;YAAA;YAAA;UAAA;YAAA;YAAA;YAExDI,OAAO,CAACC,GAAG,cAAG;UAAA;YAAA;YAAA,OAGCtB,gBAAS,CAACC,OAAO,CAAC;cAAEC,OAAO,EAAEc;YAAO,CAAC,CAAC;UAAA;YAAnDb,IAAI;YAAA;YAAA,OACcC,mBAAY,CAACC,IAAI,CAAC;cACtCC,GAAG,EAAE,CACD;gBACIC,MAAM,EAAEJ;cACZ,CAAC,EACD;gBACIK,QAAQ,EAAEL;cACd,CAAC;YAET,CAAC,CAAC,CAACM,QAAQ,CAAC,UAAU,CAAC;UAAA;YATjBC,SAAS;YAUfb,GAAG,CAACc,IAAI,CAAC;cAAED,SAAS,EAAEA;YAAU,CAAC,CAAC;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CACrC;EAAA;IAAA;EAAA;AAAA"}},"mtime":1672983804120},"{\"assumptions\":{},\"sourceRoot\":\"/Users/chunkuei/code/BuyMeClone/backend/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/chunkuei/code/BuyMeClone/backend\",\"filename\":\"/Users/chunkuei/code/BuyMeClone/backend/src/routes/qrcode.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/chunkuei/code/BuyMeClone/backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.5:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nexports.GetQRCode = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var bank, account, amount, memo, redir, str, BankCode, AccNo, QString, Amount, Memo, Pixel;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            console.log(req.query.account);\n            bank = req.query.account.bank_id;\n            account = req.query.account.bankaccount_id;\n            amount = req.query.amount;\n            memo = req.query.memo;\n            redir = req.query.redir;\n            str = \"\";\n            if (bank && account) {\n              //檢查銀行代碼\n              BankCode = bank.slice(0, 3);\n              if (!isNaN(BankCode) && BankCode >= 1 && BankCode.length == 3) {\n                //檢查帳號\n                AccNo = account.padStart(16, '0');\n                if (!isNaN(AccNo) && AccNo >= 1 && AccNo <= 9999999999999999) {\n                  //產生QRCode編碼字串\n                  QString = \"TWQRP%3A%2F%2F\".concat(BankCode, \"NTTransfer%2F158%2F02%2FV1%3FD6%3D\").concat(AccNo, \"%26D5%3D\").concat(BankCode, \"%26D10%3D901\"); //檢查金額\n                  if (amount) {\n                    //TWPay金額格式包含兩位小數，所以此處數字要乘上100\n                    Amount = amount * 100; //TWPay金額限制最低1.00元，最高9,999,999.00元\n                    if (!isNaN(Amount) && Amount <= 999999900 && Amount >= 100) {\n                      //於編碼字串上加上金額\n                      QString += \"%26D1%3D\".concat(Amount);\n                    }\n                  }\n\n                  //檢查備註\n                  if (memo) {\n                    //備註上限為19字元，超過者省略。\n                    Memo = memo.slice(0, 19); //於編碼字串上加上備註\n                    QString += \"%26D9%3D\".concat(Memo);\n                  }\n\n                  //資料檢核完成，顯示QRCode\n                  if (redir) {\n                    Pixel = redir; //Google API產生的QR Code像素大小須介於99~547之間\n                    if (!isNaN(Pixel) && Pixel >= 99 && Pixel <= 547) {\n                      str = \"<center><img src='https://chart.googleapis.com/chart?cht=qr&chs=\".concat(Pixel, \"x\").concat(Pixel, \"&chl=\").concat(QString, \"' /></center>\");\n                    } else {\n                      //預設像素為400x400\n                      str = \"<center><img src='https://chart.googleapis.com/chart?cht=qr&chs=400x400&chl=\".concat(QString, \"' /></center>\");\n                    }\n                  } else {\n                    //資料檢核完成，回傳JSON String\n                    str = \"{\\\"Success\\\":\\\"1\\\", \\\"String\\\":\\\"\".concat(decodeURI(QString), \"\\\", \\\"QR\\\":\\\"https://chart.googleapis.com/chart?cht=qr&chs=400x400&chl=\").concat(QString, \"\\\"}\");\n                  }\n                } else {\n                  //回傳帳號不合法訊息\n                  str = \"{\\\"Success\\\":\\\"0\\\", \\\"Msg\\\":\\\"Parameters `Acc` not legal\\\"}\";\n                }\n              } else {\n                //回傳銀行代碼不合法訊息\n                str = \"{\\\"Success\\\":\\\"0\\\", \\\"Msg\\\":\\\"Parameters `Bank` not legal\\\"}\";\n              }\n            } else {\n              //銀行代碼或帳號值為空，回傳錯誤訊息\n              str = \"{\\\"Success\\\":\\\"0\\\", \\\"Msg\\\":\\\"Parameters `Bank` or `Acc` not set\\\"}\";\n            }\n            res.status(200).send(str);\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHBvcnRzIiwiR2V0UVJDb2RlIiwicmVxIiwicmVzIiwiY29uc29sZSIsImxvZyIsInF1ZXJ5IiwiYWNjb3VudCIsImJhbmsiLCJiYW5rX2lkIiwiYmFua2FjY291bnRfaWQiLCJhbW91bnQiLCJtZW1vIiwicmVkaXIiLCJzdHIiLCJCYW5rQ29kZSIsInNsaWNlIiwiaXNOYU4iLCJsZW5ndGgiLCJBY2NObyIsInBhZFN0YXJ0IiwiUVN0cmluZyIsIkFtb3VudCIsIk1lbW8iLCJQaXhlbCIsImRlY29kZVVSSSIsInN0YXR1cyIsInNlbmQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9jaHVua3VlaS9jb2RlL0J1eU1lQ2xvbmUvYmFja2VuZC9zcmMvcm91dGVzLyIsInNvdXJjZXMiOlsicXJjb2RlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydHMuR2V0UVJDb2RlID0gYXN5bmMgKHJlcSwgcmVzKSA9PiAge1xuICAgIGNvbnNvbGUubG9nKHJlcS5xdWVyeS5hY2NvdW50KVxuICAgIGNvbnN0IGJhbmsgPSByZXEucXVlcnkuYWNjb3VudC5iYW5rX2lkO1xuICAgIGNvbnN0IGFjY291bnQgPSByZXEucXVlcnkuYWNjb3VudC5iYW5rYWNjb3VudF9pZDtcblxuICAgIGNvbnN0IGFtb3VudCA9IHJlcS5xdWVyeS5hbW91bnQ7XG4gICAgY29uc3QgbWVtbyA9IHJlcS5xdWVyeS5tZW1vO1xuICAgIGNvbnN0IHJlZGlyID0gcmVxLnF1ZXJ5LnJlZGlyO1xuICAgIFxuICAgIGxldCBzdHIgPSBcIlwiO1xuICAgIGlmIChiYW5rICYmIGFjY291bnQpIHtcbiAgICAgICAgLy/mqqLmn6XpioDooYzku6PnorxcbiAgICAgICAgbGV0IEJhbmtDb2RlID0gYmFuay5zbGljZSgwLCAzKTtcbiAgICAgICAgaWYgKCFpc05hTihCYW5rQ29kZSkgJiYgQmFua0NvZGUgPj0gMSAmJiBCYW5rQ29kZS5sZW5ndGggPT0gMykge1xuXG4gICAgICAgICAgICAvL+aqouafpeW4s+iZn1xuICAgICAgICAgICAgbGV0IEFjY05vID0gYWNjb3VudC5wYWRTdGFydCgxNiwgJzAnKTtcbiAgICAgICAgICAgIGlmICghaXNOYU4oQWNjTm8pICYmIEFjY05vID49IDEgJiYgQWNjTm8gPD0gOTk5OTk5OTk5OTk5OTk5OSkge1xuXG4gICAgICAgICAgICAgICAgLy/nlKLnlJ9RUkNvZGXnt6jnorzlrZfkuLJcbiAgICAgICAgICAgICAgICBsZXQgUVN0cmluZyA9IGBUV1FSUCUzQSUyRiUyRiR7QmFua0NvZGV9TlRUcmFuc2ZlciUyRjE1OCUyRjAyJTJGVjElM0ZENiUzRCR7QWNjTm99JTI2RDUlM0Qke0JhbmtDb2RlfSUyNkQxMCUzRDkwMWA7XG5cbiAgICAgICAgICAgICAgICAvL+aqouafpemHkemhjVxuICAgICAgICAgICAgICAgIGlmIChhbW91bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9UV1BheemHkemhjeagvOW8j+WMheWQq+WFqeS9jeWwj+aVuO+8jOaJgOS7peatpOiZleaVuOWtl+imgeS5mOS4ijEwMFxuICAgICAgICAgICAgICAgICAgICBsZXQgQW1vdW50ID0gYW1vdW50ICogMTAwO1xuICAgICAgICAgICAgICAgICAgICAvL1RXUGF56YeR6aGN6ZmQ5Yi25pyA5L2OMS4wMOWFg++8jOacgOmrmDksOTk5LDk5OS4wMOWFg1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKEFtb3VudCkgJiYgQW1vdW50IDw9IDk5OTk5OTkwMCAmJiBBbW91bnQgPj0gMTAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL+aWvOe3qOeivOWtl+S4suS4iuWKoOS4iumHkemhjVxuICAgICAgICAgICAgICAgICAgICAgICAgUVN0cmluZyArPSBgJTI2RDElM0Qke0Ftb3VudH1gO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy/mqqLmn6XlgpnoqLtcbiAgICAgICAgICAgICAgICBpZiAobWVtbykge1xuICAgICAgICAgICAgICAgICAgICAvL+WCmeiou+S4iumZkOeCujE55a2X5YWD77yM6LaF6YGO6ICF55yB55Wl44CCXG4gICAgICAgICAgICAgICAgICAgIGxldCBNZW1vID0gbWVtby5zbGljZSgwLCAxOSk7XG4gICAgICAgICAgICAgICAgICAgIC8v5pa857eo56K85a2X5Liy5LiK5Yqg5LiK5YKZ6Ki7XG4gICAgICAgICAgICAgICAgICAgIFFTdHJpbmcgKz0gYCUyNkQ5JTNEJHtNZW1vfWA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy/os4fmlpnmqqLmoLjlrozmiJDvvIzpoa/npLpRUkNvZGVcbiAgICAgICAgICAgICAgICBpZiAocmVkaXIpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IFBpeGVsID0gcmVkaXI7XG4gICAgICAgICAgICAgICAgICAgIC8vR29vZ2xlIEFQSeeUoueUn+eahFFSIENvZGXlg4/ntKDlpKflsI/poIjku4vmlrw5OX41NDfkuYvplpNcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc05hTihQaXhlbCkgJiYgUGl4ZWwgPj0gOTkgJiYgUGl4ZWwgPD0gNTQ3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHIgPSBgPGNlbnRlcj48aW1nIHNyYz0naHR0cHM6Ly9jaGFydC5nb29nbGVhcGlzLmNvbS9jaGFydD9jaHQ9cXImY2hzPSR7UGl4ZWx9eCR7UGl4ZWx9JmNobD0ke1FTdHJpbmd9JyAvPjwvY2VudGVyPmA7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL+mgkOioreWDj+e0oOeCujQwMHg0MDBcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciA9IGA8Y2VudGVyPjxpbWcgc3JjPSdodHRwczovL2NoYXJ0Lmdvb2dsZWFwaXMuY29tL2NoYXJ0P2NodD1xciZjaHM9NDAweDQwMCZjaGw9JHtRU3RyaW5nfScgLz48L2NlbnRlcj5gO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy/os4fmlpnmqqLmoLjlrozmiJDvvIzlm57lgrNKU09OIFN0cmluZ1xuICAgICAgICAgICAgICAgICAgICBzdHIgPSBge1wiU3VjY2Vzc1wiOlwiMVwiLCBcIlN0cmluZ1wiOlwiJHtkZWNvZGVVUkkoUVN0cmluZyl9XCIsIFwiUVJcIjpcImh0dHBzOi8vY2hhcnQuZ29vZ2xlYXBpcy5jb20vY2hhcnQ/Y2h0PXFyJmNocz00MDB4NDAwJmNobD0ke1FTdHJpbmd9XCJ9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8v5Zue5YKz5biz6Jmf5LiN5ZCI5rOV6KiK5oGvXG4gICAgICAgICAgICAgICAgc3RyID0gYHtcIlN1Y2Nlc3NcIjpcIjBcIiwgXCJNc2dcIjpcIlBhcmFtZXRlcnMgXFxgQWNjXFxgIG5vdCBsZWdhbFwifWA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvL+WbnuWCs+mKgOihjOS7o+eivOS4jeWQiOazleioiuaBr1xuICAgICAgICAgICAgc3RyID0gYHtcIlN1Y2Nlc3NcIjpcIjBcIiwgXCJNc2dcIjpcIlBhcmFtZXRlcnMgXFxgQmFua1xcYCBub3QgbGVnYWxcIn1gO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy/pioDooYzku6PnorzmiJbluLPomZ/lgLzngrrnqbrvvIzlm57lgrPpjK/oqqToqIrmga9cbiAgICAgICAgc3RyID0gYHtcIlN1Y2Nlc3NcIjpcIjBcIiwgXCJNc2dcIjpcIlBhcmFtZXRlcnMgXFxgQmFua1xcYCBvciBcXGBBY2NcXGAgbm90IHNldFwifWA7XG4gICAgfVxuICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHN0cik7XG59XG4iXSwibWFwcGluZ3MiOiI7OzsrQ0FDQTtBQUFBO0FBQUE7QUFEQUEsT0FBTyxDQUFDQyxTQUFTO0VBQUEsc0VBQUcsaUJB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","map":{"version":3,"names":["exports","GetQRCode","req","res","console","log","query","account","bank","bank_id","bankaccount_id","amount","memo","redir","str","BankCode","slice","isNaN","length","AccNo","padStart","QString","Amount","Memo","Pixel","decodeURI","status","send"],"sourceRoot":"/Users/chunkuei/code/BuyMeClone/backend/src/routes/","sources":["qrcode.js"],"sourcesContent":["exports.GetQRCode = async (req, res) =>  {\n    console.log(req.query.account)\n    const bank = req.query.account.bank_id;\n    const account = req.query.account.bankaccount_id;\n\n    const amount = req.query.amount;\n    const memo = req.query.memo;\n    const redir = req.query.redir;\n    \n    let str = \"\";\n    if (bank && account) {\n        //檢查銀行代碼\n        let BankCode = bank.slice(0, 3);\n        if (!isNaN(BankCode) && BankCode >= 1 && BankCode.length == 3) {\n\n            //檢查帳號\n            let AccNo = account.padStart(16, '0');\n            if (!isNaN(AccNo) && AccNo >= 1 && AccNo <= 9999999999999999) {\n\n                //產生QRCode編碼字串\n                let QString = `TWQRP%3A%2F%2F${BankCode}NTTransfer%2F158%2F02%2FV1%3FD6%3D${AccNo}%26D5%3D${BankCode}%26D10%3D901`;\n\n                //檢查金額\n                if (amount) {\n                    //TWPay金額格式包含兩位小數，所以此處數字要乘上100\n                    let Amount = amount * 100;\n                    //TWPay金額限制最低1.00元，最高9,999,999.00元\n                    if (!isNaN(Amount) && Amount <= 999999900 && Amount >= 100) {\n                        //於編碼字串上加上金額\n                        QString += `%26D1%3D${Amount}`;\n                    }\n                }\n\n                //檢查備註\n                if (memo) {\n                    //備註上限為19字元，超過者省略。\n                    let Memo = memo.slice(0, 19);\n                    //於編碼字串上加上備註\n                    QString += `%26D9%3D${Memo}`;\n                }\n\n                //資料檢核完成，顯示QRCode\n                if (redir) {\n                    let Pixel = redir;\n                    //Google API產生的QR Code像素大小須介於99~547之間\n                    if (!isNaN(Pixel) && Pixel >= 99 && Pixel <= 547) {\n                        str = `<center><img src='https://chart.googleapis.com/chart?cht=qr&chs=${Pixel}x${Pixel}&chl=${QString}' /></center>`;\n                    } else {\n                        //預設像素為400x400\n                        str = `<center><img src='https://chart.googleapis.com/chart?cht=qr&chs=400x400&chl=${QString}' /></center>`;\n                    }\n                } else {\n                    //資料檢核完成，回傳JSON String\n                    str = `{\"Success\":\"1\", \"String\":\"${decodeURI(QString)}\", \"QR\":\"https://chart.googleapis.com/chart?cht=qr&chs=400x400&chl=${QString}\"}`;\n                }\n            } else {\n                //回傳帳號不合法訊息\n                str = `{\"Success\":\"0\", \"Msg\":\"Parameters \\`Acc\\` not legal\"}`;\n            }\n        } else {\n            //回傳銀行代碼不合法訊息\n            str = `{\"Success\":\"0\", \"Msg\":\"Parameters \\`Bank\\` not legal\"}`;\n        }\n    } else {\n        //銀行代碼或帳號值為空，回傳錯誤訊息\n        str = `{\"Success\":\"0\", \"Msg\":\"Parameters \\`Bank\\` or \\`Acc\\` not set\"}`;\n    }\n    res.status(200).send(str);\n}\n"],"mappings":";;;+CACA;AAAA;AAAA;AADAA,OAAO,CAACC,SAAS;EAAA,sEAAG,iBAAOC,GAAG,EAAEC,GAAG;IAAA;IAAA;MAAA;QAAA;UAAA;YAC/BC,OAAO,CAACC,GAAG,CAACH,GAAG,CAACI,KAAK,CAACC,OAAO,CAAC;YACxBC,IAAI,GAAGN,GAAG,CAACI,KAAK,CAACC,OAAO,CAACE,OAAO;YAChCF,OAAO,GAAGL,GAAG,CAACI,KAAK,CAACC,OAAO,CAACG,cAAc;YAE1CC,MAAM,GAAGT,GAAG,CAACI,KAAK,CAACK,MAAM;YACzBC,IAAI,GAAGV,GAAG,CAACI,KAAK,CAACM,IAAI;YACrBC,KAAK,GAAGX,GAAG,CAACI,KAAK,CAACO,KAAK;YAEzBC,GAAG,GAAG,EAAE;YACZ,IAAIN,IAAI,IAAID,OAAO,EAAE;cACjB;cACIQ,QAAQ,GAAGP,IAAI,CAACQ,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;cAC/B,IAAI,CAACC,KAAK,CAACF,QAAQ,CAAC,IAAIA,QAAQ,IAAI,CAAC,IAAIA,QAAQ,CAACG,MAAM,IAAI,CAAC,EAAE;gBAE3D;gBACIC,KAAK,GAAGZ,OAAO,CAACa,QAAQ,CAAC,EAAE,EAAE,GAAG,CAAC;gBACrC,IAAI,CAACH,KAAK,CAACE,KAAK,CAAC,IAAIA,KAAK,IAAI,CAAC,IAAIA,KAAK,IAAI,gBAAgB,EAAE;kBAE1D;kBACIE,OAAO,2BAAoBN,QAAQ,+CAAqCI,KAAK,qBAAWJ,QAAQ,mBAEpG;kBACA,IAAIJ,MAAM,EAAE;oBACR;oBACIW,MAAM,GAAGX,MAAM,GAAG,GAAG,EACzB;oBACA,IAAI,CAACM,KAAK,CAACK,MAAM,CAAC,IAAIA,MAAM,IAAI,SAAS,IAAIA,MAAM,IAAI,GAAG,EAAE;sBACxD;sBACAD,OAAO,sBAAeC,MAAM,CAAE;oBAClC;kBACJ;;kBAEA;kBACA,IAAIV,IAAI,EAAE;oBACN;oBACIW,IAAI,GAAGX,IAAI,CAACI,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,EAC5B;oBACAK,OAAO,sBAAeE,IAAI,CAAE;kBAChC;;kBAEA;kBACA,IAAIV,KAAK,EAAE;oBACHW,KAAK,GAAGX,KAAK,EACjB;oBACA,IAAI,CAACI,KAAK,CAACO,KAAK,CAAC,IAAIA,KAAK,IAAI,EAAE,IAAIA,KAAK,IAAI,GAAG,EAAE;sBAC9CV,GAAG,6EAAsEU,KAAK,cAAIA,KAAK,kBAAQH,OAAO,kBAAe;oBACzH,CAAC,MAAM;sBACH;sBACAP,GAAG,yFAAkFO,OAAO,kBAAe;oBAC/G;kBACJ,CAAC,MAAM;oBACH;oBACAP,GAAG,8CAAgCW,SAAS,CAACJ,OAAO,CAAC,oFAAsEA,OAAO,QAAI;kBAC1I;gBACJ,CAAC,MAAM;kBACH;kBACAP,GAAG,gEAA0D;gBACjE;cACJ,CAAC,MAAM;gBACH;gBACAA,GAAG,iEAA2D;cAClE;YACJ,CAAC,MAAM;cACH;cACAA,GAAG,wEAAoE;YAC3E;YACAX,GAAG,CAACuB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACb,GAAG,CAAC;UAAC;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAC7B;EAAA;IAAA;EAAA;AAAA"}},"mtime":1672983804121},"{\"assumptions\":{},\"sourceRoot\":\"/Users/chunkuei/code/BuyMeClone/backend/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/chunkuei/code/BuyMeClone/backend\",\"filename\":\"/Users/chunkuei/code/BuyMeClone/backend/src/wsConnect.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/chunkuei/code/BuyMeClone/backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.5:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _BuyMe = require(\"./models/BuyMe\");\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0) { ; } } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nvar sendData = function sendData(data, ws) {\n  if (ws.readyState === 1) {\n    ws.send(JSON.stringify(data));\n  } else {\n    //do something\n  }\n};\nvar chatBoxes = {}; // chatBoxes[chatBoxName] = ws\nvar _default = {\n  onMessage: function onMessage(wss, ws) {\n    return /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(byteString) {\n        var data, _JSON$parse, _JSON$parse2, task, payload, who, body, name, message, chatBox, _name, id;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                data = byteString.data;\n                _JSON$parse = JSON.parse(data), _JSON$parse2 = _slicedToArray(_JSON$parse, 2), task = _JSON$parse2[0], payload = _JSON$parse2[1];\n                _context.t0 = task;\n                _context.next = _context.t0 === 'MESSAGE' ? 5 : _context.t0 === 'CHAT' ? 24 : _context.t0 === 'FULFILL' ? 28 : 30;\n                break;\n              case 5:\n                who = payload.who, body = payload.body, name = payload.name;\n                ws.box = name;\n                message = new _BuyMe.MessageModel({\n                  sender: who,\n                  body: body\n                });\n                _context.prev = 8;\n                _context.next = 11;\n                return message.save();\n              case 11:\n                _context.next = 16;\n                break;\n              case 13:\n                _context.prev = 13;\n                _context.t1 = _context[\"catch\"](8);\n                throw new Error('Message DB server error: ' + _context.t1);\n              case 16:\n                _context.next = 18;\n                return _BuyMe.ChatBoxModel.findOne({\n                  name: name\n                });\n              case 18:\n                chatBox = _context.sent;\n                chatBox.messages = [].concat(_toConsumableArray(chatBox.messages), [message]);\n                _context.next = 22;\n                return chatBox.save();\n              case 22:\n                chatBoxes[ws.box].forEach(function (ws) {\n                  sendData(['message', {\n                    sender: who,\n                    body: body\n                  }], ws);\n                });\n                return _context.abrupt(\"break\", 30);\n              case 24:\n                _name = payload.name;\n                ws.box = _name;\n                if (!chatBoxes[ws.box]) {\n                  chatBoxes[ws.box] = [ws];\n                } else if (!chatBoxes[ws.box].includes(ws)) {\n                  chatBoxes[ws.box].push(ws);\n                }\n                return _context.abrupt(\"break\", 30);\n              case 28:\n                id = payload.id;\n                chatBoxes[ws.box].forEach(function (ws) {\n                  sendData(['fulfill', id], ws);\n                });\n              case 30:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[8, 13]]);\n      }));\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n  }\n};\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzZW5kRGF0YSIsImRhdGEiLCJ3cyIsInJlYWR5U3RhdGUiLCJzZW5kIiwiSlNPTiIsInN0cmluZ2lmeSIsImNoYXRCb3hlcyIsIm9uTWVzc2FnZSIsIndzcyIsImJ5dGVTdHJpbmciLCJwYXJzZSIsInRhc2siLCJwYXlsb2FkIiwid2hvIiwiYm9keSIsIm5hbWUiLCJib3giLCJtZXNzYWdlIiwiTWVzc2FnZU1vZGVsIiwic2VuZGVyIiwic2F2ZSIsIkVycm9yIiwiQ2hhdEJveE1vZGVsIiwiZmluZE9uZSIsImNoYXRCb3giLCJtZXNzYWdlcyIsImZvckVhY2giLCJpbmNsdWRlcyIsInB1c2giLCJpZCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2NodW5rdWVpL2NvZGUvQnV5TWVDbG9uZS9iYWNrZW5kL3NyYy8iLCJzb3VyY2VzIjpbIndzQ29ubmVjdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDaGF0Qm94TW9kZWwsIE1lc3NhZ2VNb2RlbCwgVXNlck1vZGVsIH0gZnJvbSAnLi9tb2RlbHMvQnV5TWUnXG5cbmNvbnN0IHNlbmREYXRhID0gKGRhdGEsIHdzKSA9PiB7XG4gICAgaWYgKHdzLnJlYWR5U3RhdGUgPT09IDEpIHtcbiAgICAgICAgd3Muc2VuZChKU09OLnN0cmluZ2lmeShkYXRhKSlcbiAgICB9IGVsc2Uge1xuICAgICAgICAvL2RvIHNvbWV0aGluZ1xuICAgIH1cbn1cblxuY29uc3QgY2hhdEJveGVzID0ge30gLy8gY2hhdEJveGVzW2NoYXRCb3hOYW1lXSA9IHdzXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBvbk1lc3NhZ2U6ICh3c3MsIHdzKSA9PiBhc3luYyAoYnl0ZVN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGJ5dGVTdHJpbmdcbiAgICAgICAgY29uc3QgW3Rhc2ssIHBheWxvYWRdID0gSlNPTi5wYXJzZShkYXRhKVxuICAgICAgICBzd2l0Y2ggKHRhc2spIHtcbiAgICAgICAgICAgIGNhc2UgJ01FU1NBR0UnOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyB3aG8sIGJvZHksIG5hbWUgfSA9IHBheWxvYWRcbiAgICAgICAgICAgICAgICB3cy5ib3ggPSBuYW1lXG4gICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IG5ldyBNZXNzYWdlTW9kZWwoeyBzZW5kZXI6IHdobywgYm9keTogYm9keSB9KVxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IG1lc3NhZ2Uuc2F2ZSgpXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01lc3NhZ2UgREIgc2VydmVyIGVycm9yOiAnICsgZSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY2hhdEJveCA9IGF3YWl0IENoYXRCb3hNb2RlbC5maW5kT25lKHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgY2hhdEJveC5tZXNzYWdlcyA9IFsuLi5jaGF0Qm94Lm1lc3NhZ2VzLCBtZXNzYWdlXVxuICAgICAgICAgICAgICAgIGF3YWl0IGNoYXRCb3guc2F2ZSgpXG5cbiAgICAgICAgICAgICAgICBjaGF0Qm94ZXNbd3MuYm94XS5mb3JFYWNoKCh3cykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZW5kRGF0YShbJ21lc3NhZ2UnLCB7IHNlbmRlcjogd2hvLCBib2R5IH1dLCB3cylcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ0NIQVQnOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBuYW1lIH0gPSBwYXlsb2FkXG4gICAgICAgICAgICAgICAgd3MuYm94ID0gbmFtZVxuICAgICAgICAgICAgICAgIGlmICghY2hhdEJveGVzW3dzLmJveF0pIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhdEJveGVzW3dzLmJveF0gPSBbd3NdXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghY2hhdEJveGVzW3dzLmJveF0uaW5jbHVkZXMod3MpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYXRCb3hlc1t3cy5ib3hdLnB1c2god3MpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ0ZVTEZJTEwnOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBpZCB9ID0gcGF5bG9hZFxuICAgICAgICAgICAgICAgIGNoYXRCb3hlc1t3cy5ib3hdLmZvckVhY2goKHdzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNlbmREYXRhKFsnZnVsZmlsbCcsIGlkXSwgd3MpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUFzRSwrQ0FDdEU7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQSxJQUFNQSxRQUFRLEdBQUcsU0FBWEEsUUFBUSxDQUFJQyxJQUFJLEVBQUVDLEVBQUUsRUFBSztFQUMzQixJQUFJQSxFQUFFLENBQUNDLFVBQVUsS0FBSyxDQUFDLEVBQUU7SUFDckJELEVBQUUsQ0FBQ0UsSUFBSSxDQUFDQyxJQUFJLENBQUNDLFNBQVMsQ0FBQ0wsSUFBSSxDQUFDLENBQUM7RUFDakMsQ0FBQyxNQUFNO0lBQ0g7RUFBQTtBQUVSLENBQUM7QUFFRCxJQUFNTSxTQUFTLEdBQUcsQ0FBQyxDQUFDLEVBQUM7QUFBQSxlQUVOO0VBQ1hDLFNBQVMsRUFBRSxtQkFBQ0MsR0FBRyxFQUFFUCxFQUFFO0lBQUE7TUFBQSxzRUFBSyxpQkFBT1EsVUFBVTtRQUFBO1FBQUE7VUFBQTtZQUFBO2NBQUE7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","map":{"version":3,"names":["sendData","data","ws","readyState","send","JSON","stringify","chatBoxes","onMessage","wss","byteString","parse","task","payload","who","body","name","box","message","MessageModel","sender","save","Error","ChatBoxModel","findOne","chatBox","messages","forEach","includes","push","id"],"sourceRoot":"/Users/chunkuei/code/BuyMeClone/backend/src/","sources":["wsConnect.js"],"sourcesContent":["import { ChatBoxModel, MessageModel, UserModel } from './models/BuyMe'\n\nconst sendData = (data, ws) => {\n    if (ws.readyState === 1) {\n        ws.send(JSON.stringify(data))\n    } else {\n        //do something\n    }\n}\n\nconst chatBoxes = {} // chatBoxes[chatBoxName] = ws\n\nexport default {\n    onMessage: (wss, ws) => async (byteString) => {\n        const { data } = byteString\n        const [task, payload] = JSON.parse(data)\n        switch (task) {\n            case 'MESSAGE': {\n                const { who, body, name } = payload\n                ws.box = name\n                const message = new MessageModel({ sender: who, body: body })\n                try {\n                    await message.save()\n                } catch (e) {\n                    throw new Error('Message DB server error: ' + e)\n                }\n                const chatBox = await ChatBoxModel.findOne({\n                    name: name,\n                })\n\n                chatBox.messages = [...chatBox.messages, message]\n                await chatBox.save()\n\n                chatBoxes[ws.box].forEach((ws) => {\n                    sendData(['message', { sender: who, body }], ws)\n                })\n                break\n            }\n\n            case 'CHAT': {\n                const { name } = payload\n                ws.box = name\n                if (!chatBoxes[ws.box]) {\n                    chatBoxes[ws.box] = [ws]\n                } else if (!chatBoxes[ws.box].includes(ws)) {\n                    chatBoxes[ws.box].push(ws)\n                }\n                break\n            }\n\n            case 'FULFILL': {\n                const { id } = payload\n                chatBoxes[ws.box].forEach((ws) => {\n                    sendData(['fulfill', id], ws)\n                })\n            }\n        }\n    },\n}\n"],"mappings":"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"}},"mtime":1672983804122}}